#!/usr/bin/env bash

eval "$(/opt/homebrew/bin/brew shellenv)"

# Wrap tv init to handle any compdef calls gracefully
if command -v tv &> /dev/null; then
  # Ensure compdef is available before initializing tv
  autoload -Uz compinit
  compinit -u
  eval "$(tv init zsh)"
fi

export FZF_CTRL_T_COMMAND="rg --hidden --files"
export FZF_DEFAULT_COMMAND="rg --hidden --files"
export FZF_DEFAULT_OPTS='--preview="bat --style=numbers --color=always --line-range :500 {}"'

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

if [ -f ~/.shell/plugins.local ]; then
    source ~/.shell/plugins.local
fi

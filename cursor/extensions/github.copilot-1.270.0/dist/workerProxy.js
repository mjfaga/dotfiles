"use strict";var Wl=Object.create;var pr=Object.defineProperty;var Kl=Object.getOwnPropertyDescriptor;var Gl=Object.getOwnPropertyNames;var $l=Object.getPrototypeOf,zl=Object.prototype.hasOwnProperty;var n=(e,t)=>pr(e,"name",{value:t,configurable:!0});var X=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qr=(e,t)=>{for(var r in t)pr(e,r,{get:t[r],enumerable:!0})},ns=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Gl(t))!zl.call(e,a)&&a!==r&&pr(e,a,{get:()=>t[a],enumerable:!(o=Kl(t,a))||o.enumerable});return e};var Zr=(e,t,r)=>(r=e!=null?Wl($l(e)):{},ns(t||!e||!e.__esModule?pr(r,"default",{value:e,enumerable:!0}):r,e)),Hl=e=>ns(pr({},"__esModule",{value:!0}),e);var os=X(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.bytePairEncode=Ge.BinaryMap=Ge.binaryMapKey=void 0;var ql=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");Ge.binaryMapKey=ql;var fr=class fr{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,Ge.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,Ge.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof fr)u.set(t.subarray(6),r);else{let i=new fr;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(fr,"BinaryMap");var Jn=fr;Ge.BinaryMap=Jn;var Ke=new Int32Array(128),he=new Int32Array(128);function Zl(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;Ke.length<r*2;)he=new Int32Array(he.length*2),Ke=new Int32Array(Ke.length*2);for(let c=0;c<r-1;c++){let d=(l=t.get(e,c,c+2))!=null?l:2147483647;d<o&&(o=d,a=c),he[c]=c,Ke[c]=d}he[r-1]=r-1,Ke[r-1]=2147483647,he[r]=r,Ke[r]=2147483647;let u=r+1;function i(c,d=0){if(c+d+2<u){let m=t.get(e,he[c],he[c+d+2]);if(m!==void 0)return m}return 2147483647}for(n(i,"getRank");o!==2147483647;){Ke[he[a]]=i(a,1),a>0&&(Ke[he[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)he[c]=he[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let d=Ke[he[c]];Ke[he[c]]<o&&(o=d,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,he[c],he[c+1]));return s}n(Zl,"bytePairEncode");Ge.bytePairEncode=Zl});var is=X(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.makeTextEncoder=void 0;var Qn=class Qn{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(Qn,"UniversalTextEncoder");var Xn=Qn,eo=class eo{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(eo,"NodeTextEncoder");var Yn=eo,Jl=n(()=>typeof Buffer<"u"?new Yn:new Xn,"makeTextEncoder");Jr.makeTextEncoder=Jl});var ss=X(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.LRUCache=void 0;var no=class no{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new ro(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(no,"LRUCache");var to=no;Xr.LRUCache=to;var oo=class oo{constructor(t,r){this.key=t,this.value=r}};n(oo,"Node");var ro=oo});var ao=X(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.TikTokenizer=void 0;var Xl=require("fs"),Yl=require("util"),Yr=os(),Ql=is(),ec=ss();function tc(e){let t=new Map;try{let o=Xl.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(tc,"loadTikTokenBpe");function rc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(rc,"escapeRegExp");var so=class so{constructor(t,r,o,a=8192){this.textEncoder=(0,Ql.makeTextEncoder)(),this.textDecoder=new Yl.TextDecoder("utf-8"),this.cache=new ec.LRUCache(a);let u=typeof t=="string"?tc(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new Yr.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>rc(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let d=(0,Yr.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let m of d)r.push(m);this.cache.set(u[0],d)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let d=l[0],m=this.cache.get(d);if(m)if(i+m.length<=u)i+=m.length,s+=d.length,r.push(...m);else{let f=u-i;i+=f,s+=d.length,r.push(...m.slice(0,f));break}else{let f=this.textEncoder.encode(d),_=this.encoder.get(f,0,f.length);if(_!==void 0)if(this.cache.set(d,[_]),i+1<=u)i++,s+=d.length,r.push(_);else break;else{let b=(0,Yr.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(d,b),i+b.length<=u){i+=b.length,s+=d.length;for(let y of b)r.push(y)}else{let y=u-i;i+=y,s+=d.length;for(let x=0;x<y;x++)r.push(b[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,d;if([c,d]=this.findNextSpecialToken(t,u,o),d>u){let{tokenCount:m,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,d,r,i,s);if(i=m,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,_;if([f,_]=this.findNextSpecialToken(t,u,o),_>u){let b,y=t.substring(u,_);for(this.regex.lastIndex=0;b=this.regex.exec(y);){let x=b[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let L=this.textEncoder.encode(x),T=this.encoder.get(L);if(T!==void 0)this.cache.set(x,[T]),i++,s+=x.length,a.push(T),l.set(i,s);else{let M=(0,Yr.bytePairEncode)(L,this.encoder,this.textEncoder.length);this.cache.set(x,M),i+=M.length,s+=x.length;for(let v of M)a.push(v);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,d=0,m=0;for(let[f,_]of l)if(f>=c){d=f,m=_;break}if(d>r){let f=this.encode(t,o),_=f.slice(f.length-r);return{tokenIds:_,text:this.decode(_)}}return{tokenIds:a.slice(d),text:t.slice(m)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(so,"TikTokenizer");var io=so;Qr.TikTokenizer=io});var hs=X(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.createTokenizer=te.createByEncoderName=te.createByModelName=te.getRegexByModel=te.getRegexByEncoder=te.getSpecialTokensByModel=te.getSpecialTokensByEncoder=te.MODEL_TO_ENCODING=void 0;var tn=require("fs"),uo=require("path"),nc=ao(),oc=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);te.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var en="<|endoftext|>",as="<|fim_prefix|>",us="<|fim_middle|>",ls="<|fim_suffix|>",cs="<|endofprompt|>",_r="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",ds="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",ic=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ms=ic.join("|");function lo(e){let t="";if(te.MODEL_TO_ENCODING.has(e))t=te.MODEL_TO_ENCODING.get(e);else for(let[r,o]of oc)if(e.startsWith(r)){t=o;break}return t}n(lo,"getEncoderFromModelName");async function sc(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();tn.writeFileSync(t,o)}n(sc,"fetchAndSaveFile");function co(e){let t=new Map([[en,50256]]);switch(e){case"o200k_base":t=new Map([[en,199999],[cs,200018]]);break;case"cl100k_base":t=new Map([[en,100257],[as,100258],[us,100259],[ls,100260],[cs,100276]]);break;case"p50k_edit":t=new Map([[en,50256],[as,50281],[us,50282],[ls,50283]]);break;default:break}return t}n(co,"getSpecialTokensByEncoder");te.getSpecialTokensByEncoder=co;function ac(e){let t=lo(e);return co(t)}n(ac,"getSpecialTokensByModel");te.getSpecialTokensByModel=ac;function ps(e){switch(e){case"o200k_base":return ms;case"cl100k_base":return ds;default:break}return _r}n(ps,"getRegexByEncoder");te.getRegexByEncoder=ps;function uc(e){let t=lo(e);return ps(t)}n(uc,"getRegexByModel");te.getRegexByModel=uc;async function lc(e,t=null){return _s(lo(e),t)}n(lc,"createByModelName");te.createByModelName=lc;async function _s(e,t=null){let r,o,a=co(e);switch(e){case"o200k_base":r=ms,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=ds,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=_r,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=_r,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=_r,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=_r,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=uo.basename(o),i=uo.resolve(__dirname,"..","model");tn.existsSync(i)||tn.mkdirSync(i,{recursive:!0});let s=uo.resolve(i,u);return tn.existsSync(s)||(console.log(`Downloading file from ${o}`),await sc(o,s),console.log(`Saved file to ${s}`)),gs(s,a,r)}n(_s,"createByEncoderName");te.createByEncoderName=_s;function gs(e,t,r,o=8192){return new nc.TikTokenizer(e,t,r,o)}n(gs,"createTokenizer");te.createTokenizer=gs});var bs=X(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createTokenizer=re.createByEncoderName=re.createByModelName=re.getSpecialTokensByModel=re.getSpecialTokensByEncoder=re.getRegexByModel=re.getRegexByEncoder=re.MODEL_TO_ENCODING=re.TikTokenizer=void 0;var cc=ao();Object.defineProperty(re,"TikTokenizer",{enumerable:!0,get:n(function(){return cc.TikTokenizer},"get")});var lt=hs();Object.defineProperty(re,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return lt.MODEL_TO_ENCODING},"get")});Object.defineProperty(re,"getRegexByEncoder",{enumerable:!0,get:n(function(){return lt.getRegexByEncoder},"get")});Object.defineProperty(re,"getRegexByModel",{enumerable:!0,get:n(function(){return lt.getRegexByModel},"get")});Object.defineProperty(re,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return lt.getSpecialTokensByEncoder},"get")});Object.defineProperty(re,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return lt.getSpecialTokensByModel},"get")});Object.defineProperty(re,"createByModelName",{enumerable:!0,get:n(function(){return lt.createByModelName},"get")});Object.defineProperty(re,"createByEncoderName",{enumerable:!0,get:n(function(){return lt.createByEncoderName},"get")});Object.defineProperty(re,"createTokenizer",{enumerable:!0,get:n(function(){return lt.createTokenizer},"get")})});var Zu=X((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,d){c?l(c):s(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,d=s;i[d]&&!(d>=c);)++d;if(d-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,d));for(var m="";s<d;){var f=i[s++];if(128&f){var _=63&i[s++];if((224&f)!=192){var b=63&i[s++];if((f=(240&f)==224?(15&f)<<12|_<<6|b:(7&f)<<18|_<<12|b<<6|63&i[s++])<65536)m+=String.fromCharCode(f);else{var y=f-65536;m+=String.fromCharCode(55296|y>>10,56320|1023&y)}}else m+=String.fromCharCode((31&f)<<6|_)}else m+=String.fromCharCode(f)}return m}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var d=l,m=l+c-1,f=0;f<i.length;++f){var _=i.charCodeAt(f);if(_>=55296&&_<=57343&&(_=65536+((1023&_)<<10)|1023&i.charCodeAt(++f)),_<=127){if(l>=m)break;s[l++]=_}else if(_<=2047){if(l+1>=m)break;s[l++]=192|_>>6,s[l++]=128|63&_}else if(_<=65535){if(l+2>=m)break;s[l++]=224|_>>12,s[l++]=128|_>>6&63,s[l++]=128|63&_}else{if(l+3>=m)break;s[l++]=240|_>>18,s[l++]=128|_>>12&63,s[l++]=128|_>>6&63,s[l++]=128|63&_}}return s[l]=0,l-d}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(d,m){var f=d.exports;f=relocateExports(f,1024);var _=getDylinkMetadata(m);_.neededDynlibs&&(dynamicLibraries=_.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(d){s(d.instance,d.module)}n(l,"r");function c(d){return getBinaryPromise().then(function(m){return WebAssembly.instantiate(m,i)}).then(function(m){return m}).then(d,function(m){err("failed to asynchronously prepare wasm: "+m),abort(m)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,i).then(l,function(m){return err("wasm streaming compile failed: "+m),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var D=0,E=1;;){var ee=i[s++];if(D+=(127&ee)*E,E*=128,!(128&ee))break}return D}n(c,"_");function d(){var D=c();return UTF8ArrayToString(i,(s+=D)-D,D)}n(d,"n");function m(D,E){if(D)throw new Error(E)}n(m,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var _=WebAssembly.Module.customSections(i,f);_.length===0&&(f="dylink",_=WebAssembly.Module.customSections(i,f)),m(_.length===0,"need dylink section"),l=(i=new Uint8Array(_[0])).length}else{m(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),m(i[8]!==0,"need the dylink section to be first"),s=9;var b=c();l=s+b,f=d()}var y={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();for(var x=c(),w=0;w<x;++w){var L=d();y.neededDynlibs.push(L)}}else for(m(f!=="dylink.0");s<l;){var T=i[s++],M=c();if(T===1)y.memorySize=c(),y.memoryAlign=c(),y.tableSize=c(),y.tableAlign=c();else if(T===2)for(x=c(),w=0;w<x;++w)L=d(),y.neededDynlibs.push(L);else if(T===3)for(var v=c();v--;){var R=d();256&c()&&y.tlsExports.add(R)}else if(T===4)for(v=c();v--;)d(),R=d(),(3&c())==1&&y.weakImports.add(R);else s+=M}return y}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),d={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var m=0;m<c.length;++m)s.push(d[c[m]]);l=="v"?s.push(0):s.push(1,d[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(d,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var d in i){var m=i[d];typeof m=="object"&&(m=m.value),typeof m=="number"&&(m+=s),c[d]=m}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function d(_){if(s.fs&&s.fs.findObject(_)){var b=s.fs.readFile(_,{encoding:"binary"});return b instanceof Uint8Array||(b=new Uint8Array(b)),s.loadAsync?Promise.resolve(b):b}if(_=locateFile(_),s.loadAsync)return new Promise(function(y,x){readAsync(_,w=>y(new Uint8Array(w)),x)});if(!readBinary)throw new Error(_+": file not found, and synchronous loading of external files is not available");return readBinary(_)}n(d,"n");function m(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var _=preloadedWasm[i];return s.loadAsync?Promise.resolve(_):_}return s.loadAsync?d(i).then(function(b){return loadWebAssemblyModule(b,s,l)}):loadWebAssemblyModule(d(i),s,l)}n(m,"s");function f(_){c.global&&mergeLibSymbols(_,i),c.module=_}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?m().then(function(_){return f(_),!0}):(f(m()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var d=s*(1+.2/c);if(d=Math.min(d,i+100663296),emscripten_realloc_buffer(Math.min(l,(m=Math.max(i,d))+((f=65536)-m%f)%f)))return!0}var m,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(_){if(_&&_.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(_.node)))return-54;throw _}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var d=c.atime.getTime(),m=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=d%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=m%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,d){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var m=HEAPU8.slice(i,i+l);FS.msync(s,m,d,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,d){try{var m=convertI32PairToI53Checked(s,l);if(isNaN(m))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,m,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],f.getdents&&m===0&&c===0&&(f.getdents=null),0}catch(_){if(typeof FS>"u"||!(_ instanceof FS.ErrnoError))throw _;return _.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var d=0,m=0;m<l;m++){var f=HEAPU32[s>>2],_=HEAPU32[s+4>>2];s+=8;var b=FS.write(i,HEAP8,f,_,c);if(b<0)return-1;d+=b,c!==void 0&&(c+=b)}return d}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var d=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=d,0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,d){var m=currentParseCallback(s,{row:l,column:c});typeof m=="string"?(setValue(d,m.length,"i32"),stringToUTF16(m,i,10240)):setValue(d,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,d=(l-=2)<2*i.length?l/2:i.length,m=0;m<d;++m){var f=i.charCodeAt(m);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),d=c>>2;i.forEach(f=>{HEAP32[d++]=allocateUTF8OnStack(f)}),HEAP32[d]=0;try{var m=s(l,c);return exitJS(m,!0),m}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((b,y,x)=>s.slice(b,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,m=0;if(c&&c.includedRanges){d=c.includedRanges.length,m=C._calloc(d,SIZE_OF_RANGE);let b=m;for(let y=0;y<d;y++)marshalRange(b,c.includedRanges[y]),b+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,m,d);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let _=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,_}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,d){assertInternal(s),this[0]=l,this.language=c,this.textCallback=d}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(l);if(l>0){let m=c;for(let f=0;f<l;f++)d[f]=unmarshalRange(m),m+=SIZE_OF_RANGE;C._free(c)}return d}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._children[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let d=0;d<s;d++)this._namedChildren[d]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let d=[],m=this.tree.language.types;for(let x=0,w=m.length;x<w;x++)s.includes(m[x])&&d.push(x);let f=C._malloc(SIZE_OF_INT*d.length);for(let x=0,w=d.length;x<w;x++)setValue(f+x*SIZE_OF_INT,d[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,d.length,l.row,l.column,c.row,c.column);let _=getValue(TRANSFER_BUFFER,"i32"),b=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=new Array(_);if(_>0){let x=b;for(let w=0;w<_;w++)y[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(b),C._free(f),y}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,d=this.types.length;c<d;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,d=this.fields.length;c<d;c++){let m=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=m!==0?UTF8ToString(m):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),d=C._malloc(c+1);stringToUTF8(s,d,c+1);let m=C._ts_language_symbol_for_name(this[0],d,c,l);return C._free(d),m||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let d=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),R=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,D=s.substr(R,100).split(`
`)[0],E,ee=D.match(QUERY_WORD_REGEX)[0];switch(v){case 2:E=new RangeError(`Bad node name '${ee}'`);break;case 3:E=new RangeError(`Bad field name '${ee}'`);break;case 4:E=new RangeError(`Bad capture name @${ee}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${R}: '${D}'...`),ee="";break;default:E=new SyntaxError(`Bad syntax at offset ${R}: '${D}'...`),ee=""}throw E.index=R,E.length=ee.length,C._free(c),E}let m=C._ts_query_string_count(d),f=C._ts_query_capture_count(d),_=C._ts_query_pattern_count(d),b=new Array(f),y=new Array(m);for(let v=0;v<f;v++){let R=C._ts_query_capture_name_for_id(d,v,TRANSFER_BUFFER),D=getValue(TRANSFER_BUFFER,"i32");b[v]=UTF8ToString(R,D)}for(let v=0;v<m;v++){let R=C._ts_query_string_value_for_id(d,v,TRANSFER_BUFFER),D=getValue(TRANSFER_BUFFER,"i32");y[v]=UTF8ToString(R,D)}let x=new Array(_),w=new Array(_),L=new Array(_),T=new Array(_),M=new Array(_);for(let v=0;v<_;v++){let R=C._ts_query_predicates_for_pattern(d,v,TRANSFER_BUFFER),D=getValue(TRANSFER_BUFFER,"i32");T[v]=[],M[v]=[];let E=[],ee=R;for(let cr=0;cr<D;cr++){let ts=getValue(ee,"i32");ee+=SIZE_OF_INT;let rs=getValue(ee,"i32");if(ee+=SIZE_OF_INT,ts===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:b[rs]});else if(ts===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:y[rs]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let dr=E[0].value,mr=!0;switch(dr){case"not-eq?":mr=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let Ye=E[1].name,Rt=E[2].name;M[v].push(function(Hn){let At,qn;for(let Hr of Hn)Hr.name===Ye&&(At=Hr.node),Hr.name===Rt&&(qn=Hr.node);return At===void 0||qn===void 0||At.text===qn.text===mr})}else{let Ye=E[1].name,Rt=E[2].value;M[v].push(function(Hn){for(let At of Hn)if(At.name===Ye)return At.node.text===Rt===mr;return!0})}break;case"not-match?":mr=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let jl=E[1].name,Vl=new RegExp(E[2].value);M[v].push(function(Ye){for(let Rt of Ye)if(Rt.name===jl)return Vl.test(Rt.node.text)===mr;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ye=>Ye.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[v]||(x[v]={}),x[v][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${dr}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Ye=>Ye.type!=="string"))throw new Error(`Arguments to \`#${dr}\` predicate must be a strings.".`);let zn=dr==="is?"?w:L;zn[v]||(zn[v]={}),zn[v][E[1].value]=E[2]?E[2].value:null;break;default:T[v].push({operator:dr,operands:E.slice(1)})}E.length=0}}Object.freeze(x[v]),Object.freeze(w[v]),Object.freeze(L[v])}return C._free(c),new Query(INTERNAL,d,b,M,T,Object.freeze(x),Object.freeze(w),Object.freeze(L))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let d=s;if(typeof process<"u"&&process.versions&&process.versions.node){let m=require("fs");l=Promise.resolve(m.readFileSync(d))}else l=fetch(d).then(m=>m.arrayBuffer().then(f=>{if(m.ok)return new Uint8Array(f);{let _=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${m.status}.

${_}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(d=>c(d,{loadAsync:!0})).then(d=>{let m=Object.keys(d),f=m.find(b=>LANGUAGE_FUNCTION_REGEX.test(b)&&!b.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(m,null,2)}`);let _=d[f]();return new a(INTERNAL,_)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,d,m,f,_,b){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=d,this.predicates=m,this.setProperties=f,this.assertedProperties=_,this.refutedProperties=b,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=new Array(f);this.exceededMatchLimit=!!b;let x=0,w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=new Array(M);if(w=unmarshalCaptures(this,s.tree,w,v),this.textPredicates[T].every(R=>R(v))){y[x++]={pattern:T,captures:v};let R=this.setProperties[T];R&&(y[L].setProperties=R);let D=this.assertedProperties[T];D&&(y[L].assertedProperties=D);let E=this.refutedProperties[T];E&&(y[L].refutedProperties=E)}}return y.length=x,C._free(_),y}captures(s,l,c,d){l||(l=ZERO_POINT),c||(c=ZERO_POINT),d||(d={});let m=d.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),_=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),y=[];this.exceededMatchLimit=!!b;let x=[],w=_;for(let L=0;L<f;L++){let T=getValue(w,"i32");w+=SIZE_OF_INT;let M=getValue(w,"i32");w+=SIZE_OF_INT;let v=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=M,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[T].every(R=>R(x))){let R=x[v],D=this.setProperties[T];D&&(R.setProperties=D);let E=this.assertedProperties[T];E&&(R.assertedProperties=E);let ee=this.refutedProperties[T];ee&&(R.refutedProperties=ee),y.push(R)}}return C._free(_),y}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,d=i.textCallback(s,null,l);for(s+=d.length;s<l;){let m=i.textCallback(s,null,l);if(!(m&&m.length>0))break;s+=m.length,d+=m}return s>l&&(d=d.slice(0,c)),d}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let d=0,m=c.length;d<m;d++){let f=getValue(l,"i32"),_=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[d]={name:i.captureNames[f],node:_}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),d=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),_=new Node(INTERNAL,i);return _.id=l,_.startIndex=c,_.startPosition={row:d,column:m},_[0]=f,_}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var il=X(ki=>{var ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");ki.encode=function(e){if(0<=e&&e<ol.length)return ol[e];throw new TypeError("Must be between 0 and 63: "+e)};ki.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,d=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+d:e==s?62:e==l?63:-1}});var Ri=X(Oi=>{var sl=il(),Fi=5,al=1<<Fi,ul=al-1,ll=al;function p_(e){return e<0?(-e<<1)+1:(e<<1)+0}n(p_,"toVLQSigned");function f_(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(f_,"fromVLQSigned");Oi.encode=n(function(t){var r="",o,a=p_(t);do o=a&ul,a>>>=Fi,a>0&&(o|=ll),r+=sl.encode(o);while(a>0);return r},"base64VLQ_encode");Oi.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=sl.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&ll),l&=ul,u=u+(l<<i),i+=Fi}while(s);o.value=f_(u),o.rest=r},"base64VLQ_decode")});var ar=X(ge=>{function __(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(__,"getArg");ge.getArg=__;var cl=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,g_=/^data:.+\,.+$/;function Vr(e){var t=e.match(cl);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(Vr,"urlParse");ge.urlParse=Vr;function ir(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n(ir,"urlGenerate");ge.urlGenerate=ir;function Ai(e){var t=e,r=Vr(e);if(r){if(!r.path)return e;t=r.path}for(var o=ge.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,ir(r)):t}n(Ai,"normalize");ge.normalize=Ai;function dl(e,t){e===""&&(e="."),t===""&&(t=".");var r=Vr(t),o=Vr(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),ir(r);if(r||t.match(g_))return t;if(o&&!o.host&&!o.path)return o.host=t,ir(o);var a=t.charAt(0)==="/"?t:Ai(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,ir(o)):a}n(dl,"join");ge.join=dl;ge.isAbsolute=function(e){return e.charAt(0)==="/"||cl.test(e)};function h_(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(h_,"relative");ge.relative=h_;var ml=function(){var e=Object.create(null);return!("__proto__"in e)}();function pl(e){return e}n(pl,"identity");function b_(e){return fl(e)?"$"+e:e}n(b_,"toSetString");ge.toSetString=ml?pl:b_;function y_(e){return fl(e)?e.slice(1):e}n(y_,"fromSetString");ge.fromSetString=ml?pl:y_;function fl(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(fl,"isProtoString");function I_(e,t,r){var o=sr(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:sr(e.name,t.name)}n(I_,"compareByOriginalPositions");ge.compareByOriginalPositions=I_;function w_(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=sr(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:sr(e.name,t.name)}n(w_,"compareByGeneratedPositionsDeflated");ge.compareByGeneratedPositionsDeflated=w_;function sr(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(sr,"strcmp");function x_(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=sr(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:sr(e.name,t.name)}n(x_,"compareByGeneratedPositionsInflated");ge.compareByGeneratedPositionsInflated=x_;function S_(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(S_,"parseSourceMapInput");ge.parseSourceMapInput=S_;function E_(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=Vr(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=dl(ir(o),t)}return Ai(t)}n(E_,"computeSourceURL");ge.computeSourceURL=E_});var Bi=X(_l=>{var Ci=ar(),Ui=Object.prototype.hasOwnProperty,Nt=typeof Map<"u";function at(){this._array=[],this._set=Nt?new Map:Object.create(null)}n(at,"ArraySet");at.fromArray=n(function(t,r){for(var o=new at,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");at.prototype.size=n(function(){return Nt?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");at.prototype.add=n(function(t,r){var o=Nt?t:Ci.toSetString(t),a=Nt?this.has(t):Ui.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(Nt?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");at.prototype.has=n(function(t){if(Nt)return this._set.has(t);var r=Ci.toSetString(t);return Ui.call(this._set,r)},"ArraySet_has");at.prototype.indexOf=n(function(t){if(Nt){var r=this._set.get(t);if(r>=0)return r}else{var o=Ci.toSetString(t);if(Ui.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");at.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");at.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");_l.ArraySet=at});var bl=X(hl=>{var gl=ar();function T_(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||gl.compareByGeneratedPositionsInflated(e,t)<=0}n(T_,"generatedPositionAfter");function Dn(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Dn,"MappingList");Dn.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Dn.prototype.add=n(function(t){T_(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Dn.prototype.toArray=n(function(){return this._sorted||(this._array.sort(gl.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");hl.MappingList=Dn});var Di=X(yl=>{var Wr=Ri(),ie=ar(),jn=Bi().ArraySet,v_=bl().MappingList;function Ue(e){e||(e={}),this._file=ie.getArg(e,"file",null),this._sourceRoot=ie.getArg(e,"sourceRoot",null),this._skipValidation=ie.getArg(e,"skipValidation",!1),this._sources=new jn,this._names=new jn,this._mappings=new v_,this._sourcesContents=null}n(Ue,"SourceMapGenerator");Ue.prototype._version=3;Ue.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new Ue({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=ie.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=ie.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");Ue.prototype.addMapping=n(function(t){var r=ie.getArg(t,"generated"),o=ie.getArg(t,"original",null),a=ie.getArg(t,"source",null),u=ie.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");Ue.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=ie.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ie.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[ie.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");Ue.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=ie.relative(u,a));var i=new jn,s=new jn;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=ie.join(o,l.source)),u!=null&&(l.source=ie.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var d=l.source;d!=null&&!i.has(d)&&i.add(d);var m=l.name;m!=null&&!s.has(m)&&s.add(m)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=ie.join(o,l)),u!=null&&(l=ie.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");Ue.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");Ue.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,d,m,f=this._mappings.toArray(),_=0,b=f.length;_<b;_++){if(c=f[_],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(_>0){if(!ie.compareByGeneratedPositionsInflated(c,f[_-1]))continue;l+=","}l+=Wr.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(m=this._sources.indexOf(c.source),l+=Wr.encode(m-i),i=m,l+=Wr.encode(c.originalLine-1-a),a=c.originalLine-1,l+=Wr.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(d=this._names.indexOf(c.name),l+=Wr.encode(d-u),u=d)),s+=l}return s},"SourceMapGenerator_serializeMappings");Ue.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=ie.relative(r,o));var a=ie.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");Ue.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");Ue.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");yl.SourceMapGenerator=Ue});var Il=X(kt=>{kt.GREATEST_LOWER_BOUND=1;kt.LEAST_UPPER_BOUND=2;function ji(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?ji(i,t,r,o,a,u):u==kt.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?ji(e,i,r,o,a,u):u==kt.LEAST_UPPER_BOUND?i:e<0?-1:e}n(ji,"recursiveSearch");kt.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=ji(-1,r.length,t,r,o,a||kt.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var xl=X(wl=>{function Vi(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(Vi,"swap");function M_(e,t){return Math.round(e+Math.random()*(t-e))}n(M_,"randomIntInRange");function Wi(e,t,r,o){if(r<o){var a=M_(r,o),u=r-1;Vi(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,Vi(e,u,s));Vi(e,u+1,s);var l=u+1;Wi(e,t,r,l-1),Wi(e,t,l+1,o)}}n(Wi,"doQuickSort");wl.quickSort=function(e,t){Wi(e,t,0,e.length-1)}});var El=X(Vn=>{var S=ar(),Ki=Il(),ur=Bi().ArraySet,L_=Ri(),Kr=xl().quickSort;function q(e,t){var r=e;return typeof e=="string"&&(r=S.parseSourceMapInput(e)),r.sections!=null?new We(r,t):new me(r,t)}n(q,"SourceMapConsumer");q.fromSourceMap=function(e,t){return me.fromSourceMap(e,t)};q.prototype._version=3;q.prototype.__generatedMappings=null;Object.defineProperty(q.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});q.prototype.__originalMappings=null;Object.defineProperty(q.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});q.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");q.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");q.GENERATED_ORDER=1;q.ORIGINAL_ORDER=2;q.GREATEST_LOWER_BOUND=1;q.LEAST_UPPER_BOUND=2;q.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||q.GENERATED_ORDER,i;switch(u){case q.GENERATED_ORDER:i=this._generatedMappings;break;case q.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=S.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");q.prototype.allGeneratedPositionsFor=n(function(t){var r=S.getArg(t,"line"),o={source:S.getArg(t,"source"),originalLine:r,originalColumn:S.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,Ki.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:S.getArg(i,"generatedLine",null),column:S.getArg(i,"generatedColumn",null),lastColumn:S.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");Vn.SourceMapConsumer=q;function me(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sources"),u=S.getArg(r,"names",[]),i=S.getArg(r,"sourceRoot",null),s=S.getArg(r,"sourcesContent",null),l=S.getArg(r,"mappings"),c=S.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=S.normalize(i)),a=a.map(String).map(S.normalize).map(function(d){return i&&S.isAbsolute(i)&&S.isAbsolute(d)?S.relative(i,d):d}),this._names=ur.fromArray(u.map(String),!0),this._sources=ur.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(d){return S.computeSourceURL(i,d,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(me,"BasicSourceMapConsumer");me.prototype=Object.create(q.prototype);me.prototype.consumer=q;me.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=S.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};me.fromSourceMap=n(function(t,r){var o=Object.create(me.prototype),a=o._names=ur.fromArray(t._names.toArray(),!0),u=o._sources=ur.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(_){return S.computeSourceURL(o.sourceRoot,_,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,d=i.length;c<d;c++){var m=i[c],f=new Sl;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=u.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=a.indexOf(m.name)),l.push(f)),s.push(f)}return Kr(o.__originalMappings,S.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");me.prototype._version=3;Object.defineProperty(me.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function Sl(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(Sl,"Mapping");me.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,d=0,m={},f={},_=[],b=[],y,x,w,L,T;d<c;)if(t.charAt(d)===";")o++,d++,a=0;else if(t.charAt(d)===",")d++;else{for(y=new Sl,y.generatedLine=o,L=d;L<c&&!this._charIsMappingSeparator(t,L);L++);if(x=t.slice(d,L),w=m[x],w)d+=x.length;else{for(w=[];d<L;)L_.decode(t,d,f),T=f.value,d=f.rest,w.push(T);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");m[x]=w}y.generatedColumn=a+w[0],a=y.generatedColumn,w.length>1&&(y.source=s+w[1],s+=w[1],y.originalLine=u+w[2],u=y.originalLine,y.originalLine+=1,y.originalColumn=i+w[3],i=y.originalColumn,w.length>4&&(y.name=l+w[4],l+=w[4])),b.push(y),typeof y.originalLine=="number"&&_.push(y)}Kr(b,S.compareByGeneratedPositionsDeflated),this.__generatedMappings=b,Kr(_,S.compareByOriginalPositions),this.__originalMappings=_},"SourceMapConsumer_parseMappings");me.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Ki.search(t,r,u,i)},"SourceMapConsumer_findMapping");me.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");me.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",S.compareByGeneratedPositionsDeflated,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=S.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=S.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=S.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:S.getArg(a,"originalLine",null),column:S.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");me.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");me.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=S.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=S.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");me.prototype.generatedPositionFor=n(function(t){var r=S.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:S.getArg(t,"line"),originalColumn:S.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",S.compareByOriginalPositions,S.getArg(t,"bias",q.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:S.getArg(u,"generatedLine",null),column:S.getArg(u,"generatedColumn",null),lastColumn:S.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");Vn.BasicSourceMapConsumer=me;function We(e,t){var r=e;typeof e=="string"&&(r=S.parseSourceMapInput(e));var o=S.getArg(r,"version"),a=S.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new ur,this._names=new ur;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=S.getArg(i,"offset"),l=S.getArg(s,"line"),c=S.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new q(S.getArg(i,"map"),t)}})}n(We,"IndexedSourceMapConsumer");We.prototype=Object.create(q.prototype);We.prototype.constructor=q;We.prototype._version=3;Object.defineProperty(We.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});We.prototype.originalPositionFor=n(function(t){var r={generatedLine:S.getArg(t,"line"),generatedColumn:S.getArg(t,"column")},o=Ki.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");We.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");We.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");We.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(S.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");We.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=S.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var d={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(d),typeof d.originalLine=="number"&&this.__originalMappings.push(d)}Kr(this.__generatedMappings,S.compareByGeneratedPositionsDeflated),Kr(this.__originalMappings,S.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");Vn.IndexedSourceMapConsumer=We});var vl=X(Tl=>{var P_=Di().SourceMapGenerator,Wn=ar(),N_=/(\r?\n)/,k_=10,lr="$$$isSourceNode$$$";function ve(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[lr]=!0,o!=null&&this.add(o)}n(ve,"SourceNode");ve.fromStringWithSourceMap=n(function(t,r,o){var a=new ve,u=t.split(N_),i=0,s=n(function(){var f=b(),_=b()||"";return f+_;function b(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,d=null;return r.eachMapping(function(f){if(d!==null)if(l<f.generatedLine)m(d,s()),l++,c=0;else{var _=u[i]||"",b=_.substr(0,f.generatedColumn-c);u[i]=_.substr(f.generatedColumn-c),c=f.generatedColumn,m(d,b),d=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var _=u[i]||"";a.add(_.substr(0,f.generatedColumn)),u[i]=_.substr(f.generatedColumn),c=f.generatedColumn}d=f},this),i<u.length&&(d&&m(d,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var _=r.sourceContentFor(f);_!=null&&(o!=null&&(f=Wn.join(o,f)),a.setSourceContent(f,_))}),a;function m(f,_){if(f===null||f.source===void 0)a.add(_);else{var b=o?Wn.join(o,f.source):f.source;a.add(new ve(f.originalLine,f.originalColumn,b,_,f.name))}}n(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");ve.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[lr]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");ve.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[lr]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");ve.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[lr]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");ve.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");ve.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[lr]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");ve.prototype.setSourceContent=n(function(t,r){this.sourceContents[Wn.toSetString(t)]=r},"SourceNode_setSourceContent");ve.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][lr]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(Wn.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");ve.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");ve.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new P_(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,d){r.code+=c,d.source!==null&&d.line!==null&&d.column!==null?((u!==d.source||i!==d.line||s!==d.column||l!==d.name)&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name}),u=d.source,i=d.line,s=d.column,l=d.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var m=0,f=c.length;m<f;m++)c.charCodeAt(m)===k_?(r.line++,r.column=0,m+1===f?(u=null,a=!1):a&&o.addMapping({source:d.source,original:{line:d.line,column:d.column},generated:{line:r.line,column:r.column},name:d.name})):r.column++}),this.walkSourceContents(function(c,d){o.setSourceContent(c,d)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Tl.SourceNode=ve});var Ml=X(Kn=>{Kn.SourceMapGenerator=Di().SourceMapGenerator;Kn.SourceMapConsumer=El().SourceMapConsumer;Kn.SourceNode=vl().SourceNode});var Pl=X((cO,Ll)=>{var F_=Object.prototype.toString,Gi=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function O_(e){return F_.call(e).slice(8,-1)==="ArrayBuffer"}n(O_,"isArrayBuffer");function R_(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Gi?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(R_,"fromArrayBuffer");function A_(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Gi?Buffer.from(e,t):new Buffer(e,t)}n(A_,"fromString");function C_(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return O_(e)?R_(e,t,r):typeof e=="string"?A_(e,t):Gi?Buffer.from(e):new Buffer(e)}n(C_,"bufferFrom");Ll.exports=C_});var Ul=X((Ot,qi)=>{var U_=Ml().SourceMapConsumer,$i=require("path"),Je;try{Je=require("fs"),(!Je.existsSync||!Je.readFileSync)&&(Je=null)}catch{}var B_=Pl();function Nl(e,t){return e.require(t)}n(Nl,"dynamicRequire");var kl=!1,Fl=!1,zi=!1,Gr="auto",Ft={},$r={},D_=/^data:application\/json[^,]+base64,/,yt=[],It=[];function Zi(){return Gr==="browser"?!0:Gr==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(Zi,"isInBrowser");function j_(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(j_,"hasGlobalProcessEventEmitter");function V_(){return typeof process=="object"&&process!==null?process.version:""}n(V_,"globalProcessVersion");function W_(){if(typeof process=="object"&&process!==null)return process.stderr}n(W_,"globalProcessStderr");function K_(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(K_,"globalProcessExit");function Gn(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(Gn,"handlerExec");var Ji=Gn(yt);yt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in Ft)return Ft[e];var t="";try{if(Je)Je.existsSync(e)&&(t=Je.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return Ft[e]=t});function Hi(e,t){if(!e)return t;var r=$i.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+$i.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+$i.resolve(r.slice(a.length),t)}n(Hi,"supportRelativeURL");function G_(e){var t;if(Zi())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Ji(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(G_,"retrieveSourceMapURL");var Xi=Gn(It);It.push(function(e){var t=G_(e);if(!t)return null;var r;if(D_.test(t)){var o=t.slice(t.indexOf(",")+1);r=B_(o,"base64").toString(),t=e}else t=Hi(e,t),r=Ji(t);return r?{url:t,map:r}:null});function Yi(e){var t=$r[e.source];if(!t){var r=Xi(e.source);r?(t=$r[e.source]={url:r.url,map:new U_(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=Hi(t.url,a);Ft[s]=i}})):t=$r[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Hi(t.url,o.source),o}return e}n(Yi,"mapSourcePosition");function Rl(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Yi({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Rl(t[2])+")":e}n(Rl,"mapEvalOrigin");function $_(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var d=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,d&&u.indexOf("."+d)!=u.length-d.length-1&&(a+=" [as "+d+"]")):a+=c+"."+(d||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n($_,"CallSiteToString");function Ol(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=$_,t}n(Ol,"cloneCallSite");function Al(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(V_())?0:62;o===1&&a>i&&!Zi()&&!e.isEval()&&(a-=i);var s=Yi({source:r,line:o,column:a});t.curPosition=s,e=Ol(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=Rl(c),e=Ol(e),e.getEvalOrigin=function(){return c}),e}n(Al,"wrapCallSite");function z_(e,t){zi&&(Ft={},$r={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Al(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(z_,"prepareStackTrace");function Cl(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=Ft[r];if(!u&&Je&&Je.existsSync(r))try{u=Je.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(Cl,"getErrorSource");function H_(e){var t=Cl(e),r=W_();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),K_(1)}n(H_,"printErrorAndExit");function q_(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return H_(arguments[1])}return e.apply(this,arguments)}}n(q_,"shimEmitUncaughtException");var Z_=yt.slice(0),J_=It.slice(0);Ot.wrapCallSite=Al;Ot.getErrorSource=Cl;Ot.mapSourcePosition=Yi;Ot.retrieveSourceMap=Xi;Ot.install=function(e){if(e=e||{},e.environment&&(Gr=e.environment,["node","browser","auto"].indexOf(Gr)===-1))throw new Error("environment "+Gr+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(yt.length=0),yt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(It.length=0),It.unshift(e.retrieveSourceMap)),e.hookRequire&&!Zi()){var t=Nl(qi,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return Ft[i]=u,$r[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(zi||(zi="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),kl||(kl=!0,Error.prepareStackTrace=z_),!Fl){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Nl(qi,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&j_()&&(Fl=!0,q_())}};Ot.resetRetrieveHandlers=function(){yt.length=0,It.length=0,yt=Z_.slice(0),It=J_.slice(0),Xi=Gn(It),Ji=Gn(yt)}});var Bl=X(()=>{Ul().install()});var Y_={};qr(Y_,{WorkerProxy:()=>zr,reset:()=>X_,sleep:()=>Dl,workerFns:()=>Qi,workerProxy:()=>kn});module.exports=Hl(Y_);var Zn=class Zn extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n(Zn,"CopilotPromptLoadFailure");var ut=Zn;var Ct=Zr(bs()),Is=require("fs"),ws=require("path");var ys=new Map;function gr(e="cl100k_base"){let t=ys.get(e);return t!==void 0||(e==="mock"?t=new po:t=new mo(e),ys.set(e,t)),t}n(gr,"getTokenizer");function dc(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,Is.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}n(dc,"parseTikTokenNoIndex");var fo=class fo{constructor(t){try{this._tokenizer=(0,Ct.createTokenizer)(dc((0,ws.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,Ct.getSpecialTokensByEncoder)(t),(0,Ct.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new ut("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return"";let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?t:(s=s.slice(-r),this.detokenize(s))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(fo,"TTokenizer");var mo=fo,_o=class _o{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(_o,"MockTokenizer");var po=_o;var pc={tokenizerName:"cl100k_base"};function fc(e){return{...pc,...e}}n(fc,"cursorContextOptions");function Ut(e,t={}){let r=fc(t),o=gr(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}n(Ut,"getCursorContext");function go(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}n(go,"virtualNode");function ho(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}n(ho,"topNode");function be(e){return e.type==="blank"}n(be,"isBlank");function Bt(e){return e.type==="line"}n(Bt,"isLine");function wt(e){return e.type==="virtual"}n(wt,"isVirtual");function xs(e,t){return $e(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}n(xs,"clearLabelsIf");function $e(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}n($e,"visitTree");function rn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:ho()}n(rn,"rebuildTree");function nn(e,t){function r(o){if(Bt(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),$e(e,r,"bottomUp")}n(nn,"labelLines");function on(e){function t(r){if(wt(r)&&r.label===void 0){let o=r.subs.filter(a=>!be(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),$e(e,t,"bottomUp")}n(on,"labelVirtualInherited");function hr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}n(hr,"buildLabelRules");function Ss(e){let r=rn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&Bt(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(Bt(s)||wt(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&be(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let d=u.subs.findIndex(b=>b.label!=="newVirtual"),m=u.subs.slice(0,d),f=u.subs.slice(d),_=f.length>0?[go(s.indentation,f,"newVirtual")]:[];u.subs=[...m,..._,s]}else u.subs.push(s)}else a.push(s),be(s)||(u=s)}return o.subs=a,o},"rebuilder"));return xs(e,o=>o==="newVirtual"),r}n(Ss,"combineClosersAndOpeners");function Es(e,t=be,r){return rn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(d=!1){if(s!==void 0&&(u.length>0||!d)){let m=go(s,i,r);u.push(m)}else i.forEach(m=>u.push(m))}n(c,"flushBlockIntoNewSubs");for(let d=0;d<a.subs.length;d++){let m=a.subs[d],f=t(m);!f&&l&&(c(),i=[]),l=f,i.push(m),be(m)||(s=s!=null?s:m.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}n(Es,"groupBlocks");function Dt(e){return rn(e,n(function(r){return wt(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&wt(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}n(Dt,"flattenVirtual");var gc={opener:/^[[({]/,closer:/^[\])}]/},Kg=hr(gc),hc={};function bo(e,t){hc[e]=t}n(bo,"registerLanguageSpecificParser");var bc={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},yc=hr(bc);function Ts(e){let t=e;return nn(t,yc),t=Ss(t),t=Dt(t),on(t),$e(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!be(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}n(Ts,"processJava");var Ic={heading:/^# /,subheading:/^## /,subsubheading:/### /},wc=hr(Ic);function vs(e){let t=e;if(nn(t,wc),be(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||be(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=Es(t),t=Dt(t),on(t),t}n(vs,"processMarkdown");bo("markdown",vs);bo("java",Ts);function Be(){}n(Be,"Diff");Be.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(M){return M=i.postProcess(M,a),u?(setTimeout(function(){u(M)},0),!0):M}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,d=1,m=l+c;a.maxEditLength!=null&&(m=Math.min(m,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,_=Date.now()+f,b=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(b[0],r,t,0,a);if(b[0].oldPos+1>=c&&y+1>=l)return s(Ps(i,b[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function L(){for(var M=Math.max(x,-d);M<=Math.min(w,d);M+=2){var v=void 0,R=b[M-1],D=b[M+1];R&&(b[M-1]=void 0);var E=!1;if(D){var ee=D.oldPos-M;E=D&&0<=ee&&ee<l}var cr=R&&R.oldPos+1<c;if(!E&&!cr){b[M]=void 0;continue}if(!cr||E&&R.oldPos<D.oldPos?v=i.addToPath(D,!0,!1,0,a):v=i.addToPath(R,!1,!0,1,a),y=i.extractCommon(v,r,t,M,a),v.oldPos+1>=c&&y+1>=l)return s(Ps(i,v.lastComponent,r,t,i.useLongestToken));b[M]=v,v.oldPos+1>=c&&(w=Math.min(w,M-1)),y+1>=l&&(x=Math.max(x,M+1))}d++}if(n(L,"execEditLength"),u)n(function M(){setTimeout(function(){if(d>m||Date.now()>_)return u();L()||M()},0)},"exec")();else for(;d<=m&&Date.now()<=_;){var T=L();if(T)return T}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,d=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,d++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!u.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};function Ps(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,d=0;s<l;s++){var m=u[s];if(m.removed)m.value=e.join(o.slice(d,d+m.count)),d+=m.count;else{if(!m.added&&a){var f=r.slice(c,c+m.count);f=f.map(function(_,b){var y=o[d+b];return y.length>_.length?y:_}),m.value=e.join(f)}else m.value=e.join(r.slice(c,c+m.count));c+=m.count,m.added||(d+=m.count)}}return u}n(Ps,"buildValues");var Gh=new Be;function Ns(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}n(Ns,"longestCommonPrefix");function ks(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}n(ks,"longestCommonSuffix");function yo(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}n(yo,"replacePrefix");function Io(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}n(Io,"replaceSuffix");function br(e,t){return yo(e,t,"")}n(br,"removePrefix");function sn(e,t){return Io(e,t,"")}n(sn,"removeSuffix");function Fs(e,t){return t.slice(0,Ec(e,t))}n(Fs,"maximumOverlap");function Ec(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}n(Ec,"overlapCount");var an="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Tc=new RegExp("[".concat(an,"]+|\\s+|[^").concat(an,"]"),"ug"),un=new Be;un.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};un.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(Tc)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};un.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};un.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&Os(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&Os(r,a,o,null),e};function Os(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=Ns(a,i);e.value=Io(e.value,i,l),t.value=br(t.value,l),r.value=br(r.value,l)}if(o){var c=ks(u,s);o.value=yo(o.value,s,c),t.value=sn(t.value,c),r.value=sn(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var d=o.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],_=Ns(d,m);t.value=br(t.value,_);var b=ks(br(d,_),f);t.value=sn(t.value,b),o.value=yo(o.value,d,b),e.value=Io(e.value,d,d.slice(0,d.length-b.length))}else if(o){var y=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=Fs(x,y);t.value=sn(t.value,w)}else if(e){var L=e.value.match(/\s*$/)[0],T=t.value.match(/^\s*/)[0],M=Fs(L,T);t.value=br(t.value,M)}}n(Os,"dedupeWhitespaceInChangeObjects");var vc=new Be;vc.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(an,"]+|[^\\S\\n\\r]+|[^").concat(an,"]"),"ug");return e.match(t)||[]};var Eo=new Be;Eo.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};Eo.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Be.prototype.equals.call(this,e,t,r)};var Mc=new Be;Mc.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Lc=new Be;Lc.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}n(wo,"_typeof");var yr=new Be;yr.useLongestToken=!0;yr.tokenize=Eo.tokenize;yr.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(xo(e,null,null,a),a,"  ")};yr.equals=function(e,t,r){return Be.prototype.equals.call(yr,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};function xo(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=xo(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),wo(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=xo(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}n(xo,"canonicalize");var So=new Be;So.tokenize=function(e){return e.slice()};So.join=So.removeEmpty=function(e){return e};var pe={};qr(pe,{HasPropertyKey:()=>cn,IsArray:()=>Y,IsAsyncIterator:()=>vo,IsBigInt:()=>wr,IsBoolean:()=>et,IsDate:()=>xt,IsFunction:()=>Mo,IsIterator:()=>Lo,IsNull:()=>Po,IsNumber:()=>Me,IsObject:()=>j,IsRegExp:()=>xr,IsString:()=>K,IsSymbol:()=>No,IsUint8Array:()=>tt,IsUndefined:()=>se});function cn(e,t){return t in e}n(cn,"HasPropertyKey");function vo(e){return j(e)&&!Y(e)&&!tt(e)&&Symbol.asyncIterator in e}n(vo,"IsAsyncIterator");function Y(e){return Array.isArray(e)}n(Y,"IsArray");function wr(e){return typeof e=="bigint"}n(wr,"IsBigInt");function et(e){return typeof e=="boolean"}n(et,"IsBoolean");function xt(e){return e instanceof globalThis.Date}n(xt,"IsDate");function Mo(e){return typeof e=="function"}n(Mo,"IsFunction");function Lo(e){return j(e)&&!Y(e)&&!tt(e)&&Symbol.iterator in e}n(Lo,"IsIterator");function Po(e){return e===null}n(Po,"IsNull");function Me(e){return typeof e=="number"}n(Me,"IsNumber");function j(e){return typeof e=="object"&&e!==null}n(j,"IsObject");function xr(e){return e instanceof globalThis.RegExp}n(xr,"IsRegExp");function K(e){return typeof e=="string"}n(K,"IsString");function No(e){return typeof e=="symbol"}n(No,"IsSymbol");function tt(e){return e instanceof globalThis.Uint8Array}n(tt,"IsUint8Array");function se(e){return e===void 0}n(se,"IsUndefined");function Fc(e){return e.map(t=>dn(t))}n(Fc,"ArrayType");function Oc(e){return new Date(e.getTime())}n(Oc,"DateType");function Rc(e){return new Uint8Array(e)}n(Rc,"Uint8ArrayType");function Ac(e){return new RegExp(e.source,e.flags)}n(Ac,"RegExpType");function Cc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=dn(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=dn(e[r]);return t}n(Cc,"ObjectType");function dn(e){return Y(e)?Fc(e):xt(e)?Oc(e):tt(e)?Rc(e):xr(e)?Ac(e):j(e)?Cc(e):e}n(dn,"Visit");function z(e){return dn(e)}n(z,"Clone");function Rs(e,t){return t===void 0?z(e):z({...t,...e})}n(Rs,"CloneType");function As(e){return e!==null&&typeof e=="object"}n(As,"IsObject");function Cs(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}n(Cs,"IsArray");function Us(e){return e===void 0}n(Us,"IsUndefined");function Bs(e){return typeof e=="number"}n(Bs,"IsNumber");var mn;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=As(i);return e.AllowArrayObject?s:s&&!Cs(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?Bs(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=Us(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(mn||(mn={}));function Uc(e){return globalThis.Object.freeze(e).map(t=>Sr(t))}n(Uc,"ImmutableArray");function Bc(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=Sr(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=Sr(e[r]);return globalThis.Object.freeze(t)}n(Bc,"ImmutableObject");function Sr(e){return Y(e)?Uc(e):xt(e)?e:tt(e)?e:xr(e)?e:j(e)?Bc(e):e}n(Sr,"Immutable");function h(e,t){let r=t!==void 0?{...t,...e}:e;switch(mn.InstanceMode){case"freeze":return Sr(r);case"clone":return z(r);default:return r}}n(h,"CreateType");var ko=class ko extends Error{constructor(t){super(t)}};n(ko,"TypeBoxError");var ue=ko;var ce=Symbol.for("TypeBox.Transform"),De=Symbol.for("TypeBox.Readonly"),de=Symbol.for("TypeBox.Optional"),Le=Symbol.for("TypeBox.Hint"),I=Symbol.for("TypeBox.Kind");function pn(e){return j(e)&&e[De]==="Readonly"}n(pn,"IsReadonly");function Pe(e){return j(e)&&e[de]==="Optional"}n(Pe,"IsOptional");function Fo(e){return N(e,"Any")}n(Fo,"IsAny");function rt(e){return N(e,"Array")}n(rt,"IsArray");function Er(e){return N(e,"AsyncIterator")}n(Er,"IsAsyncIterator");function Oo(e){return N(e,"BigInt")}n(Oo,"IsBigInt");function Ro(e){return N(e,"Boolean")}n(Ro,"IsBoolean");function ye(e){return N(e,"Computed")}n(ye,"IsComputed");function nt(e){return N(e,"Constructor")}n(nt,"IsConstructor");function Dc(e){return N(e,"Date")}n(Dc,"IsDate");function ot(e){return N(e,"Function")}n(ot,"IsFunction");function St(e){return N(e,"Integer")}n(St,"IsInteger");function Q(e){return N(e,"Intersect")}n(Q,"IsIntersect");function Tr(e){return N(e,"Iterator")}n(Tr,"IsIterator");function N(e,t){return j(e)&&I in e&&e[I]===t}n(N,"IsKindOf");function fn(e){return et(e)||Me(e)||K(e)}n(fn,"IsLiteralValue");function it(e){return N(e,"Literal")}n(it,"IsLiteral");function Se(e){return N(e,"MappedKey")}n(Se,"IsMappedKey");function H(e){return N(e,"MappedResult")}n(H,"IsMappedResult");function ct(e){return N(e,"Never")}n(ct,"IsNever");function jc(e){return N(e,"Not")}n(jc,"IsNot");function Vc(e){return N(e,"Null")}n(Vc,"IsNull");function Et(e){return N(e,"Number")}n(Et,"IsNumber");function ae(e){return N(e,"Object")}n(ae,"IsObject");function vr(e){return N(e,"Promise")}n(vr,"IsPromise");function Ao(e){return N(e,"Record")}n(Ao,"IsRecord");function Z(e){return N(e,"Ref")}n(Z,"IsRef");function Co(e){return N(e,"RegExp")}n(Co,"IsRegExp");function Mr(e){return N(e,"String")}n(Mr,"IsString");function Wc(e){return N(e,"Symbol")}n(Wc,"IsSymbol");function Ee(e){return N(e,"TemplateLiteral")}n(Ee,"IsTemplateLiteral");function Kc(e){return N(e,"This")}n(Kc,"IsThis");function Vt(e){return j(e)&&ce in e}n(Vt,"IsTransform");function je(e){return N(e,"Tuple")}n(je,"IsTuple");function Gc(e){return N(e,"Undefined")}n(Gc,"IsUndefined");function O(e){return N(e,"Union")}n(O,"IsUnion");function $c(e){return N(e,"Uint8Array")}n($c,"IsUint8Array");function zc(e){return N(e,"Unknown")}n(zc,"IsUnknown");function Hc(e){return N(e,"Unsafe")}n(Hc,"IsUnsafe");function qc(e){return N(e,"Void")}n(qc,"IsVoid");function Zc(e){return j(e)&&I in e&&K(e[I])}n(Zc,"IsKind");function Te(e){return Fo(e)||rt(e)||Ro(e)||Oo(e)||Er(e)||ye(e)||nt(e)||Dc(e)||ot(e)||St(e)||Q(e)||Tr(e)||it(e)||Se(e)||H(e)||ct(e)||jc(e)||Vc(e)||Et(e)||ae(e)||vr(e)||Ao(e)||Z(e)||Co(e)||Mr(e)||Wc(e)||Ee(e)||Kc(e)||je(e)||Gc(e)||O(e)||$c(e)||zc(e)||Hc(e)||qc(e)||Zc(e)}n(Te,"IsSchema");var p={};qr(p,{IsAny:()=>Ws,IsArray:()=>Ks,IsAsyncIterator:()=>Gs,IsBigInt:()=>$s,IsBoolean:()=>zs,IsComputed:()=>Hs,IsConstructor:()=>qs,IsDate:()=>Zs,IsFunction:()=>Js,IsImport:()=>td,IsInteger:()=>Xs,IsIntersect:()=>Ys,IsIterator:()=>Qs,IsKind:()=>Ta,IsKindOf:()=>P,IsLiteral:()=>Nr,IsLiteralBoolean:()=>rd,IsLiteralNumber:()=>ta,IsLiteralString:()=>ea,IsLiteralValue:()=>ra,IsMappedKey:()=>na,IsMappedResult:()=>oa,IsNever:()=>ia,IsNot:()=>sa,IsNull:()=>aa,IsNumber:()=>ua,IsObject:()=>la,IsOptional:()=>ed,IsPromise:()=>ca,IsProperties:()=>_n,IsReadonly:()=>Qc,IsRecord:()=>da,IsRecursive:()=>nd,IsRef:()=>ma,IsRegExp:()=>pa,IsSchema:()=>le,IsString:()=>fa,IsSymbol:()=>_a,IsTemplateLiteral:()=>ga,IsThis:()=>ha,IsTransform:()=>ba,IsTuple:()=>ya,IsUint8Array:()=>wa,IsUndefined:()=>Ia,IsUnion:()=>jo,IsUnionLiteral:()=>od,IsUnknown:()=>xa,IsUnsafe:()=>Sa,IsVoid:()=>Ea,TypeGuardUnknownTypeError:()=>Uo});var Vo=class Vo extends ue{};n(Vo,"TypeGuardUnknownTypeError");var Uo=Vo,Jc=["Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function Ds(e){try{return new RegExp(e),!0}catch{return!1}}n(Ds,"IsPattern");function Bo(e){if(!K(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}n(Bo,"IsControlCharacterFree");function js(e){return Do(e)||le(e)}n(js,"IsAdditionalProperties");function Pr(e){return se(e)||wr(e)}n(Pr,"IsOptionalBigInt");function G(e){return se(e)||Me(e)}n(G,"IsOptionalNumber");function Do(e){return se(e)||et(e)}n(Do,"IsOptionalBoolean");function V(e){return se(e)||K(e)}n(V,"IsOptionalString");function Xc(e){return se(e)||K(e)&&Bo(e)&&Ds(e)}n(Xc,"IsOptionalPattern");function Yc(e){return se(e)||K(e)&&Bo(e)}n(Yc,"IsOptionalFormat");function Vs(e){return se(e)||le(e)}n(Vs,"IsOptionalSchema");function Qc(e){return j(e)&&e[De]==="Readonly"}n(Qc,"IsReadonly");function ed(e){return j(e)&&e[de]==="Optional"}n(ed,"IsOptional");function Ws(e){return P(e,"Any")&&V(e.$id)}n(Ws,"IsAny");function Ks(e){return P(e,"Array")&&e.type==="array"&&V(e.$id)&&le(e.items)&&G(e.minItems)&&G(e.maxItems)&&Do(e.uniqueItems)&&Vs(e.contains)&&G(e.minContains)&&G(e.maxContains)}n(Ks,"IsArray");function Gs(e){return P(e,"AsyncIterator")&&e.type==="AsyncIterator"&&V(e.$id)&&le(e.items)}n(Gs,"IsAsyncIterator");function $s(e){return P(e,"BigInt")&&e.type==="bigint"&&V(e.$id)&&Pr(e.exclusiveMaximum)&&Pr(e.exclusiveMinimum)&&Pr(e.maximum)&&Pr(e.minimum)&&Pr(e.multipleOf)}n($s,"IsBigInt");function zs(e){return P(e,"Boolean")&&e.type==="boolean"&&V(e.$id)}n(zs,"IsBoolean");function Hs(e){return P(e,"Computed")&&K(e.target)&&Y(e.parameters)&&e.parameters.every(t=>le(t))}n(Hs,"IsComputed");function qs(e){return P(e,"Constructor")&&e.type==="Constructor"&&V(e.$id)&&Y(e.parameters)&&e.parameters.every(t=>le(t))&&le(e.returns)}n(qs,"IsConstructor");function Zs(e){return P(e,"Date")&&e.type==="Date"&&V(e.$id)&&G(e.exclusiveMaximumTimestamp)&&G(e.exclusiveMinimumTimestamp)&&G(e.maximumTimestamp)&&G(e.minimumTimestamp)&&G(e.multipleOfTimestamp)}n(Zs,"IsDate");function Js(e){return P(e,"Function")&&e.type==="Function"&&V(e.$id)&&Y(e.parameters)&&e.parameters.every(t=>le(t))&&le(e.returns)}n(Js,"IsFunction");function td(e){return P(e,"Import")&&cn(e,"$defs")&&j(e.$defs)&&_n(e.$defs)&&cn(e,"$ref")&&K(e.$ref)&&e.$ref in e.$defs}n(td,"IsImport");function Xs(e){return P(e,"Integer")&&e.type==="integer"&&V(e.$id)&&G(e.exclusiveMaximum)&&G(e.exclusiveMinimum)&&G(e.maximum)&&G(e.minimum)&&G(e.multipleOf)}n(Xs,"IsInteger");function _n(e){return j(e)&&Object.entries(e).every(([t,r])=>Bo(t)&&le(r))}n(_n,"IsProperties");function Ys(e){return P(e,"Intersect")&&!(K(e.type)&&e.type!=="object")&&Y(e.allOf)&&e.allOf.every(t=>le(t)&&!ba(t))&&V(e.type)&&(Do(e.unevaluatedProperties)||Vs(e.unevaluatedProperties))&&V(e.$id)}n(Ys,"IsIntersect");function Qs(e){return P(e,"Iterator")&&e.type==="Iterator"&&V(e.$id)&&le(e.items)}n(Qs,"IsIterator");function P(e,t){return j(e)&&I in e&&e[I]===t}n(P,"IsKindOf");function ea(e){return Nr(e)&&K(e.const)}n(ea,"IsLiteralString");function ta(e){return Nr(e)&&Me(e.const)}n(ta,"IsLiteralNumber");function rd(e){return Nr(e)&&et(e.const)}n(rd,"IsLiteralBoolean");function Nr(e){return P(e,"Literal")&&V(e.$id)&&ra(e.const)}n(Nr,"IsLiteral");function ra(e){return et(e)||Me(e)||K(e)}n(ra,"IsLiteralValue");function na(e){return P(e,"MappedKey")&&Y(e.keys)&&e.keys.every(t=>Me(t)||K(t))}n(na,"IsMappedKey");function oa(e){return P(e,"MappedResult")&&_n(e.properties)}n(oa,"IsMappedResult");function ia(e){return P(e,"Never")&&j(e.not)&&Object.getOwnPropertyNames(e.not).length===0}n(ia,"IsNever");function sa(e){return P(e,"Not")&&le(e.not)}n(sa,"IsNot");function aa(e){return P(e,"Null")&&e.type==="null"&&V(e.$id)}n(aa,"IsNull");function ua(e){return P(e,"Number")&&e.type==="number"&&V(e.$id)&&G(e.exclusiveMaximum)&&G(e.exclusiveMinimum)&&G(e.maximum)&&G(e.minimum)&&G(e.multipleOf)}n(ua,"IsNumber");function la(e){return P(e,"Object")&&e.type==="object"&&V(e.$id)&&_n(e.properties)&&js(e.additionalProperties)&&G(e.minProperties)&&G(e.maxProperties)}n(la,"IsObject");function ca(e){return P(e,"Promise")&&e.type==="Promise"&&V(e.$id)&&le(e.item)}n(ca,"IsPromise");function da(e){return P(e,"Record")&&e.type==="object"&&V(e.$id)&&js(e.additionalProperties)&&j(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&Ds(r[0])&&j(t.patternProperties)&&le(t.patternProperties[r[0]])})(e)}n(da,"IsRecord");function nd(e){return j(e)&&Le in e&&e[Le]==="Recursive"}n(nd,"IsRecursive");function ma(e){return P(e,"Ref")&&V(e.$id)&&K(e.$ref)}n(ma,"IsRef");function pa(e){return P(e,"RegExp")&&V(e.$id)&&K(e.source)&&K(e.flags)&&G(e.maxLength)&&G(e.minLength)}n(pa,"IsRegExp");function fa(e){return P(e,"String")&&e.type==="string"&&V(e.$id)&&G(e.minLength)&&G(e.maxLength)&&Xc(e.pattern)&&Yc(e.format)}n(fa,"IsString");function _a(e){return P(e,"Symbol")&&e.type==="symbol"&&V(e.$id)}n(_a,"IsSymbol");function ga(e){return P(e,"TemplateLiteral")&&e.type==="string"&&K(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}n(ga,"IsTemplateLiteral");function ha(e){return P(e,"This")&&V(e.$id)&&K(e.$ref)}n(ha,"IsThis");function ba(e){return j(e)&&ce in e}n(ba,"IsTransform");function ya(e){return P(e,"Tuple")&&e.type==="array"&&V(e.$id)&&Me(e.minItems)&&Me(e.maxItems)&&e.minItems===e.maxItems&&(se(e.items)&&se(e.additionalItems)&&e.minItems===0||Y(e.items)&&e.items.every(t=>le(t)))}n(ya,"IsTuple");function Ia(e){return P(e,"Undefined")&&e.type==="undefined"&&V(e.$id)}n(Ia,"IsUndefined");function od(e){return jo(e)&&e.anyOf.every(t=>ea(t)||ta(t))}n(od,"IsUnionLiteral");function jo(e){return P(e,"Union")&&V(e.$id)&&j(e)&&Y(e.anyOf)&&e.anyOf.every(t=>le(t))}n(jo,"IsUnion");function wa(e){return P(e,"Uint8Array")&&e.type==="Uint8Array"&&V(e.$id)&&G(e.minByteLength)&&G(e.maxByteLength)}n(wa,"IsUint8Array");function xa(e){return P(e,"Unknown")&&V(e.$id)}n(xa,"IsUnknown");function Sa(e){return P(e,"Unsafe")}n(Sa,"IsUnsafe");function Ea(e){return P(e,"Void")&&e.type==="void"&&V(e.$id)}n(Ea,"IsVoid");function Ta(e){return j(e)&&I in e&&K(e[I])&&!Jc.includes(e[I])}n(Ta,"IsKind");function le(e){return j(e)&&(Ws(e)||Ks(e)||zs(e)||$s(e)||Gs(e)||Hs(e)||qs(e)||Zs(e)||Js(e)||Xs(e)||Ys(e)||Qs(e)||Nr(e)||na(e)||oa(e)||ia(e)||sa(e)||aa(e)||ua(e)||la(e)||ca(e)||da(e)||ma(e)||pa(e)||fa(e)||_a(e)||ga(e)||ha(e)||ya(e)||Ia(e)||jo(e)||wa(e)||xa(e)||Sa(e)||Ea(e)||Ta(e))}n(le,"IsSchema");var Wo="(true|false)",kr="(0|[1-9][0-9]*)",Ko="(.*)",id="(?!.*)",Yb=`^${Wo}$`,Tt=`^${kr}$`,vt=`^${Ko}$`,va=`^${id}$`;function Ma(e,t){return e.includes(t)}n(Ma,"SetIncludes");function La(e){return[...new Set(e)]}n(La,"SetDistinct");function sd(e,t){return e.filter(r=>t.includes(r))}n(sd,"SetIntersect");function ad(e,t){return e.reduce((r,o)=>sd(r,o),t)}n(ad,"SetIntersectManyResolve");function Pa(e){return e.length===1?e[0]:e.length>1?ad(e.slice(1),e[0]):[]}n(Pa,"SetIntersectMany");function Na(e){let t=[];for(let r of e)t.push(...r);return t}n(Na,"SetUnionMany");function dt(e){return h({[I]:"Any"},e)}n(dt,"Any");function Wt(e,t){return h({[I]:"Array",type:"array",items:e},t)}n(Wt,"Array");function Kt(e,t){return h({[I]:"AsyncIterator",type:"AsyncIterator",items:e},t)}n(Kt,"AsyncIterator");function A(e,t,r){return h({[I]:"Computed",target:e,parameters:t},r)}n(A,"Computed");function ud(e,t){let{[t]:r,...o}=e;return o}n(ud,"DiscardKey");function J(e,t){return t.reduce((r,o)=>ud(r,o),e)}n(J,"Discard");function k(e){return h({[I]:"Never",not:{}},e)}n(k,"Never");function F(e){return h({[I]:"MappedResult",properties:e})}n(F,"MappedResult");function Gt(e,t,r){return h({[I]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}n(Gt,"Constructor");function ze(e,t,r){return h({[I]:"Function",type:"Function",parameters:e,returns:t},r)}n(ze,"Function");function Fr(e,t){return h({[I]:"Union",anyOf:e},t)}n(Fr,"UnionCreate");function ld(e){return e.some(t=>Pe(t))}n(ld,"IsUnionOptional");function ka(e){return e.map(t=>Pe(t)?cd(t):t)}n(ka,"RemoveOptionalFromRest");function cd(e){return J(e,[de])}n(cd,"RemoveOptionalFromType");function dd(e,t){return ld(e)?Ie(Fr(ka(e),t)):Fr(ka(e),t)}n(dd,"ResolveUnion");function He(e,t){return e.length===1?h(e[0],t):e.length===0?k(t):dd(e,t)}n(He,"UnionEvaluated");function B(e,t){return e.length===0?k(t):e.length===1?h(e[0],t):Fr(e,t)}n(B,"Union");var $o=class $o extends ue{};n($o,"TemplateLiteralParserError");var gn=$o;function md(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}n(md,"Unescape");function Go(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}n(Go,"IsNonEscaped");function st(e,t){return Go(e,t,"(")}n(st,"IsOpenParen");function Or(e,t){return Go(e,t,")")}n(Or,"IsCloseParen");function Fa(e,t){return Go(e,t,"|")}n(Fa,"IsSeparator");function pd(e){if(!(st(e,0)&&Or(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(st(e,r)&&(t+=1),Or(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}n(pd,"IsGroup");function fd(e){return e.slice(1,e.length-1)}n(fd,"InGroup");function _d(e){let t=0;for(let r=0;r<e.length;r++)if(st(e,r)&&(t+=1),Or(e,r)&&(t-=1),Fa(e,r)&&t===0)return!0;return!1}n(_d,"IsPrecedenceOr");function gd(e){for(let t=0;t<e.length;t++)if(st(e,t))return!0;return!1}n(gd,"IsPrecedenceAnd");function hd(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if(st(e,u)&&(t+=1),Or(e,u)&&(t-=1),Fa(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push($t(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push($t(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}n(hd,"Or");function bd(e){function t(a,u){if(!st(a,u))throw new gn("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if(st(a,s)&&(i+=1),Or(a,s)&&(i-=1),i===0)return[u,s];throw new gn("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if(st(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if(st(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push($t(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push($t(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}n(bd,"And");function $t(e){return pd(e)?$t(fd(e)):_d(e)?hd(e):gd(e)?bd(e):{type:"const",const:md(e)}}n($t,"TemplateLiteralParse");function zt(e){return $t(e.slice(1,e.length-1))}n(zt,"TemplateLiteralParseExact");var Ho=class Ho extends ue{};n(Ho,"TemplateLiteralFiniteError");var zo=Ho;function yd(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}n(yd,"IsNumberExpression");function Id(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}n(Id,"IsBooleanExpression");function wd(e){return e.type==="const"&&e.const===".*"}n(wd,"IsStringExpression");function Mt(e){return yd(e)||wd(e)?!1:Id(e)?!0:e.type==="and"?e.expr.every(t=>Mt(t)):e.type==="or"?e.expr.every(t=>Mt(t)):e.type==="const"?!0:(()=>{throw new zo("Unknown expression type")})()}n(Mt,"IsTemplateLiteralExpressionFinite");function Oa(e){let t=zt(e.pattern);return Mt(t)}n(Oa,"IsTemplateLiteralFinite");var Zo=class Zo extends ue{};n(Zo,"TemplateLiteralGenerateError");var qo=Zo;function*Ra(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of Ra(e.slice(1)))yield`${t}${r}`}n(Ra,"GenerateReduce");function*xd(e){return yield*Ra(e.expr.map(t=>[...Rr(t)]))}n(xd,"GenerateAnd");function*Sd(e){for(let t of e.expr)yield*Rr(t)}n(Sd,"GenerateOr");function*Ed(e){return yield e.const}n(Ed,"GenerateConst");function*Rr(e){return e.type==="and"?yield*xd(e):e.type==="or"?yield*Sd(e):e.type==="const"?yield*Ed(e):(()=>{throw new qo("Unknown expression")})()}n(Rr,"TemplateLiteralExpressionGenerate");function hn(e){let t=zt(e.pattern);return Mt(t)?[...Rr(t)]:[]}n(hn,"TemplateLiteralGenerate");function U(e,t){return h({[I]:"Literal",const:e,type:typeof e},t)}n(U,"Literal");function bn(e){return h({[I]:"Boolean",type:"boolean"},e)}n(bn,"Boolean");function Ht(e){return h({[I]:"BigInt",type:"bigint"},e)}n(Ht,"BigInt");function qe(e){return h({[I]:"Number",type:"number"},e)}n(qe,"Number");function mt(e){return h({[I]:"String",type:"string"},e)}n(mt,"String");function*Td(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield bn():t==="number"?yield qe():t==="bigint"?yield Ht():t==="string"?yield mt():yield(()=>{let r=t.split("|").map(o=>U(o.trim()));return r.length===0?k():r.length===1?r[0]:He(r)})()}n(Td,"FromUnion");function*vd(e){if(e[1]!=="{"){let t=U("$"),r=Jo(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Td(e.slice(2,t)),o=Jo(e.slice(t+1));return yield*[...r,...o]}yield U(e)}n(vd,"FromTerminal");function*Jo(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=U(e.slice(0,t)),o=vd(e.slice(t));return yield*[r,...o]}yield U(e)}n(Jo,"FromSyntax");function Aa(e){return[...Jo(e)]}n(Aa,"TemplateLiteralSyntax");var Qo=class Qo extends ue{};n(Qo,"TemplateLiteralPatternError");var Xo=Qo;function Md(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(Md,"Escape");function Ca(e,t){return Ee(e)?e.pattern.slice(1,e.pattern.length-1):O(e)?`(${e.anyOf.map(r=>Ca(r,t)).join("|")})`:Et(e)?`${t}${kr}`:St(e)?`${t}${kr}`:Oo(e)?`${t}${kr}`:Mr(e)?`${t}${Ko}`:it(e)?`${t}${Md(e.const.toString())}`:Ro(e)?`${t}${Wo}`:(()=>{throw new Xo(`Unexpected Kind '${e[I]}'`)})()}n(Ca,"Visit");function Yo(e){return`^${e.map(t=>Ca(t,"")).join("")}$`}n(Yo,"TemplateLiteralPattern");function Lt(e){let r=hn(e).map(o=>U(o));return He(r)}n(Lt,"TemplateLiteralToUnion");function yn(e,t){let r=K(e)?Yo(Aa(e)):Yo(e);return h({[I]:"TemplateLiteral",type:"string",pattern:r},t)}n(yn,"TemplateLiteral");function Ld(e){return hn(e).map(r=>r.toString())}n(Ld,"FromTemplateLiteral");function Pd(e){let t=[];for(let r of e)t.push(...we(r));return t}n(Pd,"FromUnion");function Nd(e){return[e.toString()]}n(Nd,"FromLiteral");function we(e){return[...new Set(Ee(e)?Ld(e):O(e)?Pd(e.anyOf):it(e)?Nd(e.const):Et(e)?["[number]"]:St(e)?["[number]"]:[])]}n(we,"IndexPropertyKeys");function kd(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=pt(e,we(t[a]),r);return o}n(kd,"FromProperties");function Fd(e,t,r){return kd(e,t.properties,r)}n(Fd,"FromMappedResult");function Ua(e,t,r){let o=Fd(e,t,r);return F(o)}n(Ua,"IndexFromMappedResult");function Da(e,t){return e.map(r=>ja(r,t))}n(Da,"FromRest");function Od(e){return e.filter(t=>!ct(t))}n(Od,"FromIntersectRest");function Rd(e,t){return In(Od(Da(e,t)))}n(Rd,"FromIntersect");function Ad(e){return e.some(t=>ct(t))?[]:e}n(Ad,"FromUnionRest");function Cd(e,t){return He(Ad(Da(e,t)))}n(Cd,"FromUnion");function Ud(e,t){return t in e?e[t]:t==="[number]"?He(e):k()}n(Ud,"FromTuple");function Bd(e,t){return t==="[number]"?e:k()}n(Bd,"FromArray");function Dd(e,t){return t in e?e[t]:k()}n(Dd,"FromProperty");function ja(e,t){var r;return Q(e)?Rd(e.allOf,t):O(e)?Cd(e.anyOf,t):je(e)?Ud((r=e.items)!=null?r:[],t):rt(e)?Bd(e.items,t):ae(e)?Dd(e.properties,t):k()}n(ja,"IndexFromPropertyKey");function ei(e,t){return t.map(r=>ja(e,r))}n(ei,"IndexFromPropertyKeys");function Ba(e,t){return He(ei(e,t))}n(Ba,"FromSchema");function pt(e,t,r){if(Z(e)||Z(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Te(e)||!Te(t))throw new ue(o);return A("Index",[e,t])}return H(t)?Ua(e,t,r):Se(t)?Va(e,t,r):h(Te(t)?Ba(e,we(t)):Ba(e,t),r)}n(pt,"Index");function jd(e,t,r){return{[t]:pt(e,[t],z(r))}}n(jd,"MappedIndexPropertyKey");function Vd(e,t,r){return t.reduce((o,a)=>({...o,...jd(e,a,r)}),{})}n(Vd,"MappedIndexPropertyKeys");function Wd(e,t,r){return Vd(e,t.keys,r)}n(Wd,"MappedIndexProperties");function Va(e,t,r){let o=Wd(e,t,r);return F(o)}n(Va,"IndexFromMappedKey");function qt(e,t){return h({[I]:"Iterator",type:"Iterator",items:e},t)}n(qt,"Iterator");function Kd(e){let t=[];for(let r in e)Pe(e[r])||t.push(r);return t}n(Kd,"RequiredKeys");function Gd(e,t){let r=Kd(e),o=r.length>0?{[I]:"Object",type:"object",properties:e,required:r}:{[I]:"Object",type:"object",properties:e};return h(o,t)}n(Gd,"_Object");var $=Gd;function wn(e,t){return h({[I]:"Promise",type:"Promise",item:e},t)}n(wn,"Promise");function $d(e){return h(J(e,[De]))}n($d,"RemoveReadonly");function zd(e){return h({...e,[De]:"Readonly"})}n(zd,"AddReadonly");function Hd(e,t){return t===!1?$d(e):zd(e)}n(Hd,"ReadonlyWithFlag");function Ne(e,t){let r=t!=null?t:!0;return H(e)?Wa(e,r):Hd(e,r)}n(Ne,"Readonly");function qd(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ne(e[o],t);return r}n(qd,"FromProperties");function Zd(e,t){return qd(e.properties,t)}n(Zd,"FromMappedResult");function Wa(e,t){let r=Zd(e,t);return F(r)}n(Wa,"ReadonlyFromMappedResult");function ke(e,t){return h(e.length>0?{[I]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[I]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}n(ke,"Tuple");function Ka(e,t){return e in t?Fe(e,t[e]):F(t)}n(Ka,"FromMappedResult");function Jd(e){return{[e]:U(e)}}n(Jd,"MappedKeyToKnownMappedResultProperties");function Xd(e){let t={};for(let r of e)t[r]=U(r);return t}n(Xd,"MappedKeyToUnknownMappedResultProperties");function Yd(e,t){return Ma(t,e)?Jd(e):Xd(t)}n(Yd,"MappedKeyToMappedResultProperties");function Qd(e,t){let r=Yd(e,t);return Ka(e,r)}n(Qd,"FromMappedKey");function Ar(e,t){return t.map(r=>Fe(e,r))}n(Ar,"FromRest");function em(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=Fe(e,t[o]);return r}n(em,"FromProperties");function Fe(e,t){var o;let r={...t};return Pe(t)?Ie(Fe(e,J(t,[de]))):pn(t)?Ne(Fe(e,J(t,[De]))):H(t)?Ka(e,t.properties):Se(t)?Qd(e,t.keys):nt(t)?Gt(Ar(e,t.parameters),Fe(e,t.returns),r):ot(t)?ze(Ar(e,t.parameters),Fe(e,t.returns),r):Er(t)?Kt(Fe(e,t.items),r):Tr(t)?qt(Fe(e,t.items),r):Q(t)?fe(Ar(e,t.allOf),r):O(t)?B(Ar(e,t.anyOf),r):je(t)?ke(Ar(e,(o=t.items)!=null?o:[]),r):ae(t)?$(em(e,t.properties),r):rt(t)?Wt(Fe(e,t.items),r):vr(t)?wn(Fe(e,t.item),r):t}n(Fe,"FromSchemaType");function tm(e,t){let r={};for(let o of e)r[o]=Fe(o,t);return r}n(tm,"MappedFunctionReturnType");function Ga(e,t,r){let o=Te(e)?we(e):e,a=t({[I]:"MappedKey",keys:o}),u=tm(o,a);return $(u,r)}n(Ga,"Mapped");function rm(e){return h(J(e,[de]))}n(rm,"RemoveOptional");function nm(e){return h({...e,[de]:"Optional"})}n(nm,"AddOptional");function om(e,t){return t===!1?rm(e):nm(e)}n(om,"OptionalWithFlag");function Ie(e,t){let r=t!=null?t:!0;return H(e)?$a(e,r):om(e,r)}n(Ie,"Optional");function im(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ie(e[o],t);return r}n(im,"FromProperties");function sm(e,t){return im(e.properties,t)}n(sm,"FromMappedResult");function $a(e,t){let r=sm(e,t);return F(r)}n($a,"OptionalFromMappedResult");function Cr(e,t={}){let r=e.every(a=>ae(a)),o=Te(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return h(t.unevaluatedProperties===!1||Te(t.unevaluatedProperties)||r?{...o,[I]:"Intersect",type:"object",allOf:e}:{...o,[I]:"Intersect",allOf:e},t)}n(Cr,"IntersectCreate");function am(e){return e.every(t=>Pe(t))}n(am,"IsIntersectOptional");function um(e){return J(e,[de])}n(um,"RemoveOptionalFromType");function za(e){return e.map(t=>Pe(t)?um(t):t)}n(za,"RemoveOptionalFromRest");function lm(e,t){return am(e)?Ie(Cr(za(e),t)):Cr(za(e),t)}n(lm,"ResolveIntersect");function In(e,t={}){if(e.length===1)return h(e[0],t);if(e.length===0)return k(t);if(e.some(r=>Vt(r)))throw new Error("Cannot intersect transform types");return lm(e,t)}n(In,"IntersectEvaluated");function fe(e,t){if(e.length===1)return h(e[0],t);if(e.length===0)return k(t);if(e.some(r=>Vt(r)))throw new Error("Cannot intersect transform types");return Cr(e,t)}n(fe,"Intersect");function Oe(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new ue("Ref: $ref must be a string");return h({[I]:"Ref",$ref:t},r)}n(Oe,"Ref");function cm(e,t){return A("Awaited",[A(e,t)])}n(cm,"FromComputed");function dm(e){return A("Awaited",[Oe(e)])}n(dm,"FromRef");function mm(e){return fe(Ha(e))}n(mm,"FromIntersect");function pm(e){return B(Ha(e))}n(pm,"FromUnion");function fm(e){return Zt(e)}n(fm,"FromPromise");function Ha(e){return e.map(t=>Zt(t))}n(Ha,"FromRest");function Zt(e,t){return h(ye(e)?cm(e.target,e.parameters):Q(e)?mm(e.allOf):O(e)?pm(e.anyOf):vr(e)?fm(e.item):Z(e)?dm(e.$ref):e,t)}n(Zt,"Awaited");function qa(e){let t=[];for(let r of e)t.push(Ur(r));return t}n(qa,"FromRest");function _m(e){let t=qa(e);return Na(t)}n(_m,"FromIntersect");function gm(e){let t=qa(e);return Pa(t)}n(gm,"FromUnion");function hm(e){return e.map((t,r)=>r.toString())}n(hm,"FromTuple");function bm(e){return["[number]"]}n(bm,"FromArray");function ym(e){return globalThis.Object.getOwnPropertyNames(e)}n(ym,"FromProperties");function Im(e){return wm?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}n(Im,"FromPatternProperties");function Ur(e){var t;return Q(e)?_m(e.allOf):O(e)?gm(e.anyOf):je(e)?hm((t=e.items)!=null?t:[]):rt(e)?bm(e.items):ae(e)?ym(e.properties):Ao(e)?Im(e.patternProperties):[]}n(Ur,"KeyOfPropertyKeys");var wm=!1;function xm(e,t){return A("KeyOf",[A(e,t)])}n(xm,"FromComputed");function Sm(e){return A("KeyOf",[Oe(e)])}n(Sm,"FromRef");function Em(e,t){let r=Ur(e),o=Tm(r),a=He(o);return h(a,t)}n(Em,"KeyOfFromType");function Tm(e){return e.map(t=>t==="[number]"?qe():U(t))}n(Tm,"KeyOfPropertyKeysToRest");function Jt(e,t){return ye(e)?xm(e.target,e.parameters):Z(e)?Sm(e.$ref):H(e)?Za(e,t):Em(e,t)}n(Jt,"KeyOf");function vm(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Jt(e[o],z(t));return r}n(vm,"FromProperties");function Mm(e,t){return vm(e.properties,t)}n(Mm,"FromMappedResult");function Za(e,t){let r=Mm(e,t);return F(r)}n(Za,"KeyOfFromMappedResult");function Lm(e){let t=[];for(let r of e)t.push(...Ur(r));return La(t)}n(Lm,"CompositeKeys");function Pm(e){return e.filter(t=>!ct(t))}n(Pm,"FilterNever");function Nm(e,t){let r=[];for(let o of e)r.push(...ei(o,[t]));return Pm(r)}n(Nm,"CompositeProperty");function km(e,t){let r={};for(let o of t)r[o]=In(Nm(e,o));return r}n(km,"CompositeProperties");function Ja(e,t){let r=Lm(e),o=km(e,r);return $(o,t)}n(Ja,"Composite");function xn(e){return h({[I]:"Date",type:"Date"},e)}n(xn,"Date");function Sn(e){return h({[I]:"Null",type:"null"},e)}n(Sn,"Null");function En(e){return h({[I]:"Symbol",type:"symbol"},e)}n(En,"Symbol");function Tn(e){return h({[I]:"Undefined",type:"undefined"},e)}n(Tn,"Undefined");function vn(e){return h({[I]:"Uint8Array",type:"Uint8Array"},e)}n(vn,"Uint8Array");function Xt(e){return h({[I]:"Unknown"},e)}n(Xt,"Unknown");function Fm(e){return e.map(t=>ti(t,!1))}n(Fm,"FromArray");function Om(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ne(ti(e[r],!1));return t}n(Om,"FromProperties");function Mn(e,t){return t===!0?e:Ne(e)}n(Mn,"ConditionalReadonly");function ti(e,t){return vo(e)?Mn(dt(),t):Lo(e)?Mn(dt(),t):Y(e)?Ne(ke(Fm(e))):tt(e)?vn():xt(e)?xn():j(e)?Mn($(Om(e)),t):Mo(e)?Mn(ze([],Xt()),t):se(e)?Tn():Po(e)?Sn():No(e)?En():wr(e)?Ht():Me(e)?U(e):et(e)?U(e):K(e)?U(e):$({})}n(ti,"FromValue");function Xa(e,t){return h(ti(e,!0),t)}n(Xa,"Const");function Ya(e,t){return nt(e)?ke(e.parameters,t):k(t)}n(Ya,"ConstructorParameters");function Qa(e,t){if(se(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>U(u));return B(a,{...t,[Le]:"Enum"})}n(Qa,"Enum");var ui=class ui extends ue{};n(ui,"ExtendsResolverError");var ni=ui,g;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(g||(g={}));function Re(e){return e===g.False?e:g.True}n(Re,"IntoBooleanResult");function Yt(e){throw new ni(e)}n(Yt,"Throw");function ne(e){return p.IsNever(e)||p.IsIntersect(e)||p.IsUnion(e)||p.IsUnknown(e)||p.IsAny(e)}n(ne,"IsStructuralRight");function oe(e,t){return p.IsNever(t)?su(e,t):p.IsIntersect(t)?Ln(e,t):p.IsUnion(t)?ai(e,t):p.IsUnknown(t)?cu(e,t):p.IsAny(t)?si(e,t):Yt("StructuralRight")}n(oe,"StructuralRight");function si(e,t){return g.True}n(si,"FromAnyRight");function Rm(e,t){return p.IsIntersect(t)?Ln(e,t):p.IsUnion(t)&&t.anyOf.some(r=>p.IsAny(r)||p.IsUnknown(r))?g.True:p.IsUnion(t)?g.Union:p.IsUnknown(t)||p.IsAny(t)?g.True:g.Union}n(Rm,"FromAny");function Am(e,t){return p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:p.IsNever(e)?g.True:g.False}n(Am,"FromArrayRight");function Cm(e,t){return p.IsObject(t)&&Pn(t)?g.True:ne(t)?oe(e,t):p.IsArray(t)?Re(W(e.items,t.items)):g.False}n(Cm,"FromArray");function Um(e,t){return ne(t)?oe(e,t):p.IsAsyncIterator(t)?Re(W(e.items,t.items)):g.False}n(Um,"FromAsyncIterator");function Bm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsBigInt(t)?g.True:g.False}n(Bm,"FromBigInt");function ou(e,t){return p.IsLiteralBoolean(e)||p.IsBoolean(e)?g.True:g.False}n(ou,"FromBooleanRight");function Dm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsBoolean(t)?g.True:g.False}n(Dm,"FromBoolean");function jm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsConstructor(t)?e.parameters.length>t.parameters.length?g.False:e.parameters.every((r,o)=>Re(W(t.parameters[o],r))===g.True)?Re(W(e.returns,t.returns)):g.False:g.False}n(jm,"FromConstructor");function Vm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsDate(t)?g.True:g.False}n(Vm,"FromDate");function Wm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsFunction(t)?e.parameters.length>t.parameters.length?g.False:e.parameters.every((r,o)=>Re(W(t.parameters[o],r))===g.True)?Re(W(e.returns,t.returns)):g.False:g.False}n(Wm,"FromFunction");function iu(e,t){return p.IsLiteral(e)&&pe.IsNumber(e.const)||p.IsNumber(e)||p.IsInteger(e)?g.True:g.False}n(iu,"FromIntegerRight");function Km(e,t){return p.IsInteger(t)||p.IsNumber(t)?g.True:ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):g.False}n(Km,"FromInteger");function Ln(e,t){return t.allOf.every(r=>W(e,r)===g.True)?g.True:g.False}n(Ln,"FromIntersectRight");function Gm(e,t){return e.allOf.some(r=>W(r,t)===g.True)?g.True:g.False}n(Gm,"FromIntersect");function $m(e,t){return ne(t)?oe(e,t):p.IsIterator(t)?Re(W(e.items,t.items)):g.False}n($m,"FromIterator");function zm(e,t){return p.IsLiteral(t)&&t.const===e.const?g.True:ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsString(t)?lu(e,t):p.IsNumber(t)?au(e,t):p.IsInteger(t)?iu(e,t):p.IsBoolean(t)?ou(e,t):g.False}n(zm,"FromLiteral");function su(e,t){return g.False}n(su,"FromNeverRight");function Hm(e,t){return g.True}n(Hm,"FromNever");function eu(e){let[t,r]=[e,0];for(;p.IsNot(t);)t=t.not,r+=1;return r%2===0?t:Xt()}n(eu,"UnwrapTNot");function qm(e,t){return p.IsNot(e)?W(eu(e),t):p.IsNot(t)?W(e,eu(t)):Yt("Invalid fallthrough for Not")}n(qm,"FromNot");function Zm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsNull(t)?g.True:g.False}n(Zm,"FromNull");function au(e,t){return p.IsLiteralNumber(e)||p.IsNumber(e)||p.IsInteger(e)?g.True:g.False}n(au,"FromNumberRight");function Jm(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsInteger(t)||p.IsNumber(t)?g.True:g.False}n(Jm,"FromNumber");function xe(e,t){return Object.getOwnPropertyNames(e.properties).length===t}n(xe,"IsObjectPropertyCount");function tu(e){return Pn(e)}n(tu,"IsObjectStringLike");function ru(e){return xe(e,0)||xe(e,1)&&"description"in e.properties&&p.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(p.IsString(e.properties.description.anyOf[0])&&p.IsUndefined(e.properties.description.anyOf[1])||p.IsString(e.properties.description.anyOf[1])&&p.IsUndefined(e.properties.description.anyOf[0]))}n(ru,"IsObjectSymbolLike");function ri(e){return xe(e,0)}n(ri,"IsObjectNumberLike");function nu(e){return xe(e,0)}n(nu,"IsObjectBooleanLike");function Xm(e){return xe(e,0)}n(Xm,"IsObjectBigIntLike");function Ym(e){return xe(e,0)}n(Ym,"IsObjectDateLike");function Qm(e){return Pn(e)}n(Qm,"IsObjectUint8ArrayLike");function ep(e){let t=qe();return xe(e,0)||xe(e,1)&&"length"in e.properties&&Re(W(e.properties.length,t))===g.True}n(ep,"IsObjectFunctionLike");function tp(e){return xe(e,0)}n(tp,"IsObjectConstructorLike");function Pn(e){let t=qe();return xe(e,0)||xe(e,1)&&"length"in e.properties&&Re(W(e.properties.length,t))===g.True}n(Pn,"IsObjectArrayLike");function rp(e){let t=ze([dt()],dt());return xe(e,0)||xe(e,1)&&"then"in e.properties&&Re(W(e.properties.then,t))===g.True}n(rp,"IsObjectPromiseLike");function uu(e,t){return W(e,t)===g.False||p.IsOptional(e)&&!p.IsOptional(t)?g.False:g.True}n(uu,"Property");function _e(e,t){return p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:p.IsNever(e)||p.IsLiteralString(e)&&tu(t)||p.IsLiteralNumber(e)&&ri(t)||p.IsLiteralBoolean(e)&&nu(t)||p.IsSymbol(e)&&ru(t)||p.IsBigInt(e)&&Xm(t)||p.IsString(e)&&tu(t)||p.IsSymbol(e)&&ru(t)||p.IsNumber(e)&&ri(t)||p.IsInteger(e)&&ri(t)||p.IsBoolean(e)&&nu(t)||p.IsUint8Array(e)&&Qm(t)||p.IsDate(e)&&Ym(t)||p.IsConstructor(e)&&tp(t)||p.IsFunction(e)&&ep(t)?g.True:p.IsRecord(e)&&p.IsString(oi(e))?t[Le]==="Record"?g.True:g.False:p.IsRecord(e)&&p.IsNumber(oi(e))?xe(t,0)?g.True:g.False:g.False}n(_e,"FromObjectRight");function np(e,t){return ne(t)?oe(e,t):p.IsRecord(t)?Ae(e,t):p.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!p.IsOptional(t.properties[r]))return g.False;if(p.IsOptional(t.properties[r]))return g.True;if(uu(e.properties[r],t.properties[r])===g.False)return g.False}return g.True})():g.False}n(np,"FromObject");function op(e,t){return ne(t)?oe(e,t):p.IsObject(t)&&rp(t)?g.True:p.IsPromise(t)?Re(W(e.item,t.item)):g.False}n(op,"FromPromise");function oi(e){return Tt in e.patternProperties?qe():vt in e.patternProperties?mt():Yt("Unknown record key pattern")}n(oi,"RecordKey");function ii(e){return Tt in e.patternProperties?e.patternProperties[Tt]:vt in e.patternProperties?e.patternProperties[vt]:Yt("Unable to get record value schema")}n(ii,"RecordValue");function Ae(e,t){let[r,o]=[oi(t),ii(t)];return p.IsLiteralString(e)&&p.IsNumber(r)&&Re(W(e,o))===g.True?g.True:p.IsUint8Array(e)&&p.IsNumber(r)||p.IsString(e)&&p.IsNumber(r)||p.IsArray(e)&&p.IsNumber(r)?W(e,o):p.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(uu(o,e.properties[a])===g.False)return g.False;return g.True})():g.False}n(Ae,"FromRecordRight");function ip(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?W(ii(e),ii(t)):g.False}n(ip,"FromRecord");function sp(e,t){let r=p.IsRegExp(e)?mt():e,o=p.IsRegExp(t)?mt():t;return W(r,o)}n(sp,"FromRegExp");function lu(e,t){return p.IsLiteral(e)&&pe.IsString(e.const)||p.IsString(e)?g.True:g.False}n(lu,"FromStringRight");function ap(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsString(t)?g.True:g.False}n(ap,"FromString");function up(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsSymbol(t)?g.True:g.False}n(up,"FromSymbol");function lp(e,t){return p.IsTemplateLiteral(e)?W(Lt(e),t):p.IsTemplateLiteral(t)?W(e,Lt(t)):Yt("Invalid fallthrough for TemplateLiteral")}n(lp,"FromTemplateLiteral");function cp(e,t){return p.IsArray(t)&&e.items!==void 0&&e.items.every(r=>W(r,t.items)===g.True)}n(cp,"IsArrayOfTuple");function dp(e,t){return p.IsNever(e)?g.True:p.IsUnknown(e)?g.False:p.IsAny(e)?g.Union:g.False}n(dp,"FromTupleRight");function mp(e,t){return ne(t)?oe(e,t):p.IsObject(t)&&Pn(t)||p.IsArray(t)&&cp(e,t)?g.True:p.IsTuple(t)?pe.IsUndefined(e.items)&&!pe.IsUndefined(t.items)||!pe.IsUndefined(e.items)&&pe.IsUndefined(t.items)?g.False:pe.IsUndefined(e.items)&&!pe.IsUndefined(t.items)||e.items.every((r,o)=>W(r,t.items[o])===g.True)?g.True:g.False:g.False}n(mp,"FromTuple");function pp(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsUint8Array(t)?g.True:g.False}n(pp,"FromUint8Array");function fp(e,t){return ne(t)?oe(e,t):p.IsObject(t)?_e(e,t):p.IsRecord(t)?Ae(e,t):p.IsVoid(t)?hp(e,t):p.IsUndefined(t)?g.True:g.False}n(fp,"FromUndefined");function ai(e,t){return t.anyOf.some(r=>W(e,r)===g.True)?g.True:g.False}n(ai,"FromUnionRight");function _p(e,t){return e.anyOf.every(r=>W(r,t)===g.True)?g.True:g.False}n(_p,"FromUnion");function cu(e,t){return g.True}n(cu,"FromUnknownRight");function gp(e,t){return p.IsNever(t)?su(e,t):p.IsIntersect(t)?Ln(e,t):p.IsUnion(t)?ai(e,t):p.IsAny(t)?si(e,t):p.IsString(t)?lu(e,t):p.IsNumber(t)?au(e,t):p.IsInteger(t)?iu(e,t):p.IsBoolean(t)?ou(e,t):p.IsArray(t)?Am(e,t):p.IsTuple(t)?dp(e,t):p.IsObject(t)?_e(e,t):p.IsUnknown(t)?g.True:g.False}n(gp,"FromUnknown");function hp(e,t){return p.IsUndefined(e)||p.IsUndefined(e)?g.True:g.False}n(hp,"FromVoidRight");function bp(e,t){return p.IsIntersect(t)?Ln(e,t):p.IsUnion(t)?ai(e,t):p.IsUnknown(t)?cu(e,t):p.IsAny(t)?si(e,t):p.IsObject(t)?_e(e,t):p.IsVoid(t)?g.True:g.False}n(bp,"FromVoid");function W(e,t){return p.IsTemplateLiteral(e)||p.IsTemplateLiteral(t)?lp(e,t):p.IsRegExp(e)||p.IsRegExp(t)?sp(e,t):p.IsNot(e)||p.IsNot(t)?qm(e,t):p.IsAny(e)?Rm(e,t):p.IsArray(e)?Cm(e,t):p.IsBigInt(e)?Bm(e,t):p.IsBoolean(e)?Dm(e,t):p.IsAsyncIterator(e)?Um(e,t):p.IsConstructor(e)?jm(e,t):p.IsDate(e)?Vm(e,t):p.IsFunction(e)?Wm(e,t):p.IsInteger(e)?Km(e,t):p.IsIntersect(e)?Gm(e,t):p.IsIterator(e)?$m(e,t):p.IsLiteral(e)?zm(e,t):p.IsNever(e)?Hm(e,t):p.IsNull(e)?Zm(e,t):p.IsNumber(e)?Jm(e,t):p.IsObject(e)?np(e,t):p.IsRecord(e)?ip(e,t):p.IsString(e)?ap(e,t):p.IsSymbol(e)?up(e,t):p.IsTuple(e)?mp(e,t):p.IsPromise(e)?op(e,t):p.IsUint8Array(e)?pp(e,t):p.IsUndefined(e)?fp(e,t):p.IsUnion(e)?_p(e,t):p.IsUnknown(e)?gp(e,t):p.IsVoid(e)?bp(e,t):Yt(`Unknown left type operand '${e[I]}'`)}n(W,"Visit");function ft(e,t){return W(e,t)}n(ft,"ExtendsCheck");function yp(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=Qt(e[i],t,r,o,z(a));return u}n(yp,"FromProperties");function Ip(e,t,r,o,a){return yp(e.properties,t,r,o,a)}n(Ip,"FromMappedResult");function du(e,t,r,o,a){let u=Ip(e,t,r,o,a);return F(u)}n(du,"ExtendsFromMappedResult");function wp(e,t,r,o){let a=ft(e,t);return a===g.Union?B([r,o]):a===g.True?r:o}n(wp,"ExtendsResolve");function Qt(e,t,r,o,a){return H(e)?du(e,t,r,o,a):Se(e)?h(mu(e,t,r,o,a)):h(wp(e,t,r,o),a)}n(Qt,"Extends");function xp(e,t,r,o,a){return{[e]:Qt(U(e),t,r,o,z(a))}}n(xp,"FromPropertyKey");function Sp(e,t,r,o,a){return e.reduce((u,i)=>({...u,...xp(i,t,r,o,a)}),{})}n(Sp,"FromPropertyKeys");function Ep(e,t,r,o,a){return Sp(e.keys,t,r,o,a)}n(Ep,"FromMappedKey");function mu(e,t,r,o,a){let u=Ep(e,t,r,o,a);return F(u)}n(mu,"ExtendsFromMappedKey");function pu(e,t){return er(Lt(e),t)}n(pu,"ExcludeFromTemplateLiteral");function Tp(e,t){let r=e.filter(o=>ft(o,t)===g.False);return r.length===1?r[0]:B(r)}n(Tp,"ExcludeRest");function er(e,t,r={}){return Ee(e)?h(pu(e,t),r):H(e)?h(fu(e,t),r):h(O(e)?Tp(e.anyOf,t):ft(e,t)!==g.False?k():e,r)}n(er,"Exclude");function vp(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=er(e[o],t);return r}n(vp,"FromProperties");function Mp(e,t){return vp(e.properties,t)}n(Mp,"FromMappedResult");function fu(e,t){let r=Mp(e,t);return F(r)}n(fu,"ExcludeFromMappedResult");function _u(e,t){return tr(Lt(e),t)}n(_u,"ExtractFromTemplateLiteral");function Lp(e,t){let r=e.filter(o=>ft(o,t)!==g.False);return r.length===1?r[0]:B(r)}n(Lp,"ExtractRest");function tr(e,t,r){return Ee(e)?h(_u(e,t),r):H(e)?h(gu(e,t),r):h(O(e)?Lp(e.anyOf,t):ft(e,t)!==g.False?e:k(),r)}n(tr,"Extract");function Pp(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=tr(e[o],t);return r}n(Pp,"FromProperties");function Np(e,t){return Pp(e.properties,t)}n(Np,"FromMappedResult");function gu(e,t){let r=Np(e,t);return F(r)}n(gu,"ExtractFromMappedResult");function hu(e,t){return nt(e)?h(e.returns,t):k(t)}n(hu,"InstanceType");function bu(e){return h({[I]:"Integer",type:"integer"},e)}n(bu,"Integer");function kp(e,t,r){return{[e]:Ve(U(e),t,z(r))}}n(kp,"MappedIntrinsicPropertyKey");function Fp(e,t,r){return e.reduce((a,u)=>({...a,...kp(u,t,r)}),{})}n(Fp,"MappedIntrinsicPropertyKeys");function Op(e,t,r){return Fp(e.keys,t,r)}n(Op,"MappedIntrinsicProperties");function yu(e,t,r){let o=Op(e,t,r);return F(o)}n(yu,"IntrinsicFromMappedKey");function Rp(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}n(Rp,"ApplyUncapitalize");function Ap(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}n(Ap,"ApplyCapitalize");function Cp(e){return e.toUpperCase()}n(Cp,"ApplyUppercase");function Up(e){return e.toLowerCase()}n(Up,"ApplyLowercase");function Bp(e,t,r){let o=zt(e.pattern);if(!Mt(o))return{...e,pattern:Iu(e.pattern,t)};let i=[...Rr(o)].map(c=>U(c)),s=wu(i,t),l=B(s);return yn([l],r)}n(Bp,"FromTemplateLiteral");function Iu(e,t){return typeof e=="string"?t==="Uncapitalize"?Rp(e):t==="Capitalize"?Ap(e):t==="Uppercase"?Cp(e):t==="Lowercase"?Up(e):e:e.toString()}n(Iu,"FromLiteralValue");function wu(e,t){return e.map(r=>Ve(r,t))}n(wu,"FromRest");function Ve(e,t,r={}){return Se(e)?yu(e,t,r):Ee(e)?Bp(e,t,r):O(e)?B(wu(e.anyOf,t),r):it(e)?U(Iu(e.const,t),r):h(e,r)}n(Ve,"Intrinsic");function xu(e,t={}){return Ve(e,"Capitalize",t)}n(xu,"Capitalize");function Su(e,t={}){return Ve(e,"Lowercase",t)}n(Su,"Lowercase");function Eu(e,t={}){return Ve(e,"Uncapitalize",t)}n(Eu,"Uncapitalize");function Tu(e,t={}){return Ve(e,"Uppercase",t)}n(Tu,"Uppercase");function Dp(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=_t(e[a],t,z(r));return o}n(Dp,"FromProperties");function jp(e,t,r){return Dp(e.properties,t,r)}n(jp,"FromMappedResult");function vu(e,t,r){let o=jp(e,t,r);return F(o)}n(vu,"OmitFromMappedResult");function Vp(e,t){return e.map(r=>li(r,t))}n(Vp,"FromIntersect");function Wp(e,t){return e.map(r=>li(r,t))}n(Wp,"FromUnion");function Kp(e,t){let{[t]:r,...o}=e;return o}n(Kp,"FromProperty");function Gp(e,t){return t.reduce((r,o)=>Kp(r,o),e)}n(Gp,"FromProperties");function $p(e,t){let r=J(e,[ce,"$id","required","properties"]),o=Gp(e.properties,t);return $(o,r)}n($p,"FromObject");function zp(e){let t=e.reduce((r,o)=>fn(o)?[...r,U(o)]:r,[]);return B(t)}n(zp,"UnionFromPropertyKeys");function li(e,t){return Q(e)?fe(Vp(e.allOf,t)):O(e)?B(Wp(e.anyOf,t)):ae(e)?$p(e,t):$({})}n(li,"OmitResolve");function _t(e,t,r){let o=Y(t)?zp(t):t,a=Te(t)?we(t):t,u=Z(e),i=Z(t);return H(e)?vu(e,a,r):Se(t)?Mu(e,t,r):u&&i?A("Omit",[e,o],r):!u&&i?A("Omit",[e,o],r):u&&!i?A("Omit",[e,o],r):h({...li(e,a),...r})}n(_t,"Omit");function Hp(e,t,r){return{[t]:_t(e,[t],z(r))}}n(Hp,"FromPropertyKey");function qp(e,t,r){return t.reduce((o,a)=>({...o,...Hp(e,a,r)}),{})}n(qp,"FromPropertyKeys");function Zp(e,t,r){return qp(e,t.keys,r)}n(Zp,"FromMappedKey");function Mu(e,t,r){let o=Zp(e,t,r);return F(o)}n(Mu,"OmitFromMappedKey");function Jp(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=gt(e[a],t,z(r));return o}n(Jp,"FromProperties");function Xp(e,t,r){return Jp(e.properties,t,r)}n(Xp,"FromMappedResult");function Lu(e,t,r){let o=Xp(e,t,r);return F(o)}n(Lu,"PickFromMappedResult");function Yp(e,t){return e.map(r=>ci(r,t))}n(Yp,"FromIntersect");function Qp(e,t){return e.map(r=>ci(r,t))}n(Qp,"FromUnion");function ef(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}n(ef,"FromProperties");function tf(e,t){let r=J(e,[ce,"$id","required","properties"]),o=ef(e.properties,t);return $(o,r)}n(tf,"FromObject");function rf(e){let t=e.reduce((r,o)=>fn(o)?[...r,U(o)]:r,[]);return B(t)}n(rf,"UnionFromPropertyKeys");function ci(e,t){return Q(e)?fe(Yp(e.allOf,t)):O(e)?B(Qp(e.anyOf,t)):ae(e)?tf(e,t):$({})}n(ci,"PickResolve");function gt(e,t,r){let o=Y(t)?rf(t):t,a=Te(t)?we(t):t,u=Z(e),i=Z(t);return H(e)?Lu(e,a,r):Se(t)?Pu(e,t,r):u&&i?A("Pick",[e,o],r):!u&&i?A("Pick",[e,o],r):u&&!i?A("Pick",[e,o],r):h({...ci(e,a),...r})}n(gt,"Pick");function nf(e,t,r){return{[t]:gt(e,[t],z(r))}}n(nf,"FromPropertyKey");function of(e,t,r){return t.reduce((o,a)=>({...o,...nf(e,a,r)}),{})}n(of,"FromPropertyKeys");function sf(e,t,r){return of(e,t.keys,r)}n(sf,"FromMappedKey");function Pu(e,t,r){let o=sf(e,t,r);return F(o)}n(Pu,"PickFromMappedKey");function af(e,t){return A("Partial",[A(e,t)])}n(af,"FromComputed");function uf(e){return A("Partial",[Oe(e)])}n(uf,"FromRef");function lf(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ie(e[r]);return t}n(lf,"FromProperties");function cf(e){let t=J(e,[ce,"$id","required","properties"]),r=lf(e.properties);return $(r,t)}n(cf,"FromObject");function Nu(e){return e.map(t=>ku(t))}n(Nu,"FromRest");function ku(e){return ye(e)?af(e.target,e.parameters):Z(e)?uf(e.$ref):Q(e)?fe(Nu(e.allOf)):O(e)?B(Nu(e.anyOf)):ae(e)?cf(e):$({})}n(ku,"PartialResolve");function rr(e,t){return H(e)?Fu(e,t):h({...ku(e),...t})}n(rr,"Partial");function df(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=rr(e[o],z(t));return r}n(df,"FromProperties");function mf(e,t){return df(e.properties,t)}n(mf,"FromMappedResult");function Fu(e,t){let r=mf(e,t);return F(r)}n(Fu,"PartialFromMappedResult");function Pt(e,t,r){return h({[I]:"Record",type:"object",patternProperties:{[e]:t}},r)}n(Pt,"RecordCreateFromPattern");function di(e,t,r){let o={};for(let a of e)o[a]=t;return $(o,{...r,[Le]:"Record"})}n(di,"RecordCreateFromKeys");function pf(e,t,r){return Oa(e)?di(we(e),t,r):Pt(e.pattern,t,r)}n(pf,"FromTemplateLiteralKey");function ff(e,t,r){return di(we(B(e)),t,r)}n(ff,"FromUnionKey");function _f(e,t,r){return di([e.toString()],t,r)}n(_f,"FromLiteralKey");function gf(e,t,r){return Pt(e.source,t,r)}n(gf,"FromRegExpKey");function hf(e,t,r){let o=se(e.pattern)?vt:e.pattern;return Pt(o,t,r)}n(hf,"FromStringKey");function bf(e,t,r){return Pt(vt,t,r)}n(bf,"FromAnyKey");function yf(e,t,r){return Pt(va,t,r)}n(yf,"FromNeverKey");function If(e,t,r){return Pt(Tt,t,r)}n(If,"FromIntegerKey");function wf(e,t,r){return Pt(Tt,t,r)}n(wf,"FromNumberKey");function Nn(e,t,r={}){return ye(t)?A("Record",[e,A(t.target,t.parameters)],r):ye(e)?A("Record",[A(t.target,t.parameters),t],r):Z(e)?A("Record",[Oe(e.$ref),t]):O(e)?ff(e.anyOf,t,r):Ee(e)?pf(e,t,r):it(e)?_f(e.const,t,r):St(e)?If(e,t,r):Et(e)?wf(e,t,r):Co(e)?gf(e,t,r):Mr(e)?hf(e,t,r):Fo(e)?bf(e,t,r):ct(e)?yf(e,t,r):k(r)}n(Nn,"Record");function xf(e,t){return A("Required",[A(e,t)])}n(xf,"FromComputed");function Sf(e){return A("Required",[Oe(e)])}n(Sf,"FromRef");function Ef(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=J(e[r],[de]);return t}n(Ef,"FromProperties");function Tf(e){let t=J(e,[ce,"$id","required","properties"]),r=Ef(e.properties);return $(r,t)}n(Tf,"FromObject");function Ou(e){return e.map(t=>Ru(t))}n(Ou,"FromRest");function Ru(e){return ye(e)?xf(e.target,e.parameters):Z(e)?Sf(e.$ref):Q(e)?fe(Ou(e.allOf)):O(e)?B(Ou(e.anyOf)):ae(e)?Tf(e):$({})}n(Ru,"RequiredResolve");function nr(e,t){return H(e)?Au(e,t):h({...Ru(e),...t})}n(nr,"Required");function vf(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=nr(e[o],t);return r}n(vf,"FromProperties");function Mf(e,t){return vf(e.properties,t)}n(Mf,"FromMappedResult");function Au(e,t){let r=Mf(e,t);return F(r)}n(Au,"RequiredFromMappedResult");function Lf(e,t){return t.map(r=>Z(r)?Cu(e,r.$ref):Ce(e,r))}n(Lf,"DerefParameters");function Cu(e,t){return t in e?Z(e[t])?Cu(e,e[t].$ref):Ce(e,e[t]):k()}n(Cu,"Deref");function Pf(e){return Zt(e[0])}n(Pf,"FromAwaited");function Nf(e){return pt(e[0],e[1])}n(Nf,"FromIndex");function kf(e){return Jt(e[0])}n(kf,"FromKeyOf");function Ff(e){return rr(e[0])}n(Ff,"FromPartial");function Of(e){return _t(e[0],e[1])}n(Of,"FromOmit");function Rf(e){return gt(e[0],e[1])}n(Rf,"FromPick");function Af(e){return Nn(e[0],e[1])}n(Af,"FromRecord");function Cf(e){return nr(e[0])}n(Cf,"FromRequired");function Uf(e,t,r){let o=Lf(e,r);return t==="Awaited"?Pf(o):t==="Index"?Nf(o):t==="KeyOf"?kf(o):t==="Partial"?Ff(o):t==="Omit"?Of(o):t==="Pick"?Rf(o):t==="Record"?Af(o):t==="Required"?Cf(o):k()}n(Uf,"FromComputed");function Bf(e,t){return $(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:Ce(e,t[o])}),{}))}n(Bf,"FromObject");function Df(e,t,r){return Gt(Br(e,t),Ce(e,r))}n(Df,"FromConstructor");function jf(e,t,r){return ze(Br(e,t),Ce(e,r))}n(jf,"FromFunction");function Vf(e,t){return ke(Br(e,t))}n(Vf,"FromTuple");function Wf(e,t){return fe(Br(e,t))}n(Wf,"FromIntersect");function Kf(e,t){return B(Br(e,t))}n(Kf,"FromUnion");function Gf(e,t){return Wt(Ce(e,t))}n(Gf,"FromArray");function $f(e,t){return Kt(Ce(e,t))}n($f,"FromAsyncIterator");function zf(e,t){return qt(Ce(e,t))}n(zf,"FromIterator");function Br(e,t){return t.map(r=>Ce(e,r))}n(Br,"FromRest");function Ce(e,t){return Pe(t)?h(Ce(e,J(t,[de])),t):pn(t)?h(Ce(e,J(t,[De])),t):rt(t)?h(Gf(e,t.items),t):Er(t)?h($f(e,t.items),t):ye(t)?h(Uf(e,t.target,t.parameters)):nt(t)?h(Df(e,t.parameters,t.returns),t):ot(t)?h(jf(e,t.parameters,t.returns),t):Q(t)?h(Wf(e,t.allOf),t):Tr(t)?h(zf(e,t.items),t):ae(t)?h(Bf(e,t.properties),t):je(t)?h(Vf(e,t.items||[]),t):O(t)?h(Kf(e,t.anyOf),t):t}n(Ce,"FromType");function Hf(e,t){return t in e?Ce(e,e[t]):k()}n(Hf,"ComputeType");function Uu(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:Hf(e,r)}),{})}n(Uu,"ComputeModuleProperties");var pi=class pi{constructor(t){let r=Uu(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:h(this.$defs[t],r)};return h({[I]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(pi,"TModule");var mi=pi;function Bu(e){return new mi(e)}n(Bu,"Module");function Du(e,t){return h({[I]:"Not",not:e},t)}n(Du,"Not");function ju(e,t){return ot(e)?ke(e.parameters,t):k()}n(ju,"Parameters");function Vu(e){return Ne(Ie(e))}n(Vu,"ReadonlyOptional");var qf=0;function Wu(e,t={}){se(t.$id)&&(t.$id=`T${qf++}`);let r=Rs(e({[I]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,h({[Le]:"Recursive",...r},t)}n(Wu,"Recursive");function Ku(e,t){let r=K(e)?new globalThis.RegExp(e):e;return h({[I]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}n(Ku,"RegExp");function Zf(e){var t;return Q(e)?e.allOf:O(e)?e.anyOf:je(e)?(t=e.items)!=null?t:[]:[]}n(Zf,"RestResolve");function Gu(e){return Zf(e)}n(Gu,"Rest");function $u(e,t){return ot(e)?h(e.returns,t):k(t)}n($u,"ReturnType");var gi=class gi{constructor(t){this.schema=t}Decode(t){return new _i(this.schema,t)}};n(gi,"TransformDecodeBuilder");var fi=gi,hi=class hi{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[ce].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[ce].Decode(i)),"Decode")};return{...r,[ce]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[ce]:o}}Encode(t){return Vt(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(hi,"TransformEncodeBuilder");var _i=hi;function zu(e){return new fi(e)}n(zu,"Transform");function Hu(e={}){var t;return h({[I]:(t=e[I])!=null?t:"Unsafe"},e)}n(Hu,"Unsafe");function qu(e){return h({[I]:"Void",type:"void"},e)}n(qu,"Void");var bi={};qr(bi,{Any:()=>dt,Array:()=>Wt,AsyncIterator:()=>Kt,Awaited:()=>Zt,BigInt:()=>Ht,Boolean:()=>bn,Capitalize:()=>xu,Composite:()=>Ja,Const:()=>Xa,Constructor:()=>Gt,ConstructorParameters:()=>Ya,Date:()=>xn,Enum:()=>Qa,Exclude:()=>er,Extends:()=>Qt,Extract:()=>tr,Function:()=>ze,Index:()=>pt,InstanceType:()=>hu,Integer:()=>bu,Intersect:()=>fe,Iterator:()=>qt,KeyOf:()=>Jt,Literal:()=>U,Lowercase:()=>Su,Mapped:()=>Ga,Module:()=>Bu,Never:()=>k,Not:()=>Du,Null:()=>Sn,Number:()=>qe,Object:()=>$,Omit:()=>_t,Optional:()=>Ie,Parameters:()=>ju,Partial:()=>rr,Pick:()=>gt,Promise:()=>wn,Readonly:()=>Ne,ReadonlyOptional:()=>Vu,Record:()=>Nn,Recursive:()=>Wu,Ref:()=>Oe,RegExp:()=>Ku,Required:()=>nr,Rest:()=>Gu,ReturnType:()=>$u,String:()=>mt,Symbol:()=>En,TemplateLiteral:()=>yn,Transform:()=>zu,Tuple:()=>ke,Uint8Array:()=>vn,Uncapitalize:()=>Eu,Undefined:()=>Tn,Union:()=>B,Unknown:()=>Xt,Unsafe:()=>Hu,Uppercase:()=>Tu,Void:()=>qu});var Ze=bi;var Jf=500,iN=8192-Jf;var Xf=Ze.Object({relativePath:Ze.Optional(Ze.String()),uri:Ze.String(),source:Ze.String(),languageId:Ze.String()}),sN=Ze.Intersect([Xf,Ze.Object({offset:Ze.Number()})]);var Xu=require("fs"),Fn=Zr(require("path")),On=Zr(Zu());var Ju={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Yu(e){if(!(e in Ju))throw new Error(`Unrecognized language: ${e}`);return Ju[e]}n(Yu,"languageIdToWasmLanguage");var Ii=new Map;async function e_(e){let t,r=Fn.default.resolve(Fn.default.extname(__filename)!==".ts"?__dirname:Fn.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Xu.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new ut(`Could not load tree-sitter-${e}.wasm`,o):o}return On.default.Language.load(t)}n(e_,"loadWasmLanguage");function t_(e){let t=Yu(e);if(!Ii.has(t)){let r=e_(t);Ii.set(t,r)}return Ii.get(t)}n(t_,"getLanguage");var xi=class xi extends Error{constructor(r,o){super(r);this.cause=o}};n(xi,"WrappedError");var wi=xi;async function Dr(e,t){await On.default.init();let r;try{r=new On.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new wi(`Could not init Parse for language <${e}>`,u):u}let o=await t_(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}n(Dr,"parseTreeSitter");function r_(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}n(r_,"innerQuery");var n_=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Qu(e){return r_([n_],e).length==1}n(Qu,"queryPythonIsDocstring");var Si=class Si{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await Dr(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(Si,"BaseBlockParser");var Rn=Si,Ei=class Ei extends Rn{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=tl(r,o),this.isBlockStart(o_(r,o))&&this.isBlockBodyEmpty(r,o)}};n(Ei,"RegexBasedBlockParser");var An=Ei;function o_(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}n(o_,"getLineAtOffset");function tl(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}n(tl,"rewindToNearestNonWs");function el(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}n(el,"indent");function i_(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=el(e,r),a=el(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}n(i_,"outdented");var Ti=class Ti extends Rn{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&Qu(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=tl(r,o);let a=await Dr(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let b=c;for(;b.parent;){if(b.type=="function_signature"||b.type=="method_signature"){let y=c.nextSibling;return y&&b.hasError()&&i_(b,y,r)?!0:!b.children.find(w=>w.type==";")&&b.endIndex<=o}b=b.parent}}let d=null,m=null,f=null,_=c;for(;_!=null;){if(_.type==this.blockNodeType){m=_;break}if(this.nodeMatch[_.type]){f=_;break}if(_.type=="ERROR"){d=_;break}_=_.parent}if(m!=null){if(!m.parent||!this.nodeMatch[m.parent.type])return!1;if(this.languageId=="python"){let b=m.previousSibling;if(b!=null&&b.hasError()&&(b.text.startsWith('"""')||b.text.startsWith("'''")))return!0}return this.isBlockEmpty(m,o)}if(d!=null){if(((u=d.previousSibling)==null?void 0:u.type)=="module"||((i=d.previousSibling)==null?void 0:i.type)=="internal_module"||((s=d.previousSibling)==null?void 0:s.type)=="def")return!0;let b=[...d.children].reverse(),y=b.find(w=>this.startKeywords.includes(w.type)),x=b.find(w=>w.type==this.blockNodeType);if(y){switch(this.languageId){case"python":{y.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=b.find(T=>T.hasError()))==null?void 0:l.children.find(T=>T.type=="block"));let w,L=0;for(let T of d.children){if(T.type==":"&&L==0){w=T;break}T.type=="("&&(L+=1),T.type==")"&&(L-=1)}if(w&&y.endIndex<=w.startIndex&&w.nextSibling){if(y.type=="def"){let T=w.nextSibling;if(T.type=='"'||T.type=="'"||T.type=="ERROR"&&(T.text=='"""'||T.text=="'''"))return!0}return!1}break}case"javascript":{let w=b.find(M=>M.type=="formal_parameters");if(y.type=="class"&&w)return!0;let L=b.find(M=>M.type=="{");if(L&&L.startIndex>y.endIndex&&L.nextSibling!=null||b.find(M=>M.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}case"typescript":{let w=b.find(T=>T.type=="{");if(w&&w.startIndex>y.endIndex&&w.nextSibling!=null||b.find(T=>T.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>y.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let b=this.nodeMatch[f.type],y=f.children.slice().reverse().find(x=>x.type==b);if(y)return this.isBlockEmpty(y,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(Ti,"TreeSitterBasedBlockParser");var ht=Ti,Tk={python:new ht("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new ht("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new ht("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new ht("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new An("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new An("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new ht("csharp",{},new Map([]),[],"block",null,!0),java:new ht("java",{},new Map([]),[],"block",null,!0)};var Li=class Li{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(Li,"FifoCache");var vi=Li;var Pi=class Pi{constructor(t){var r;this.stopsForLanguage=(r=l_.get(t.languageId))!=null?r:u_}tokenize(t){return new Set(s_(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(Pi,"Tokenizer");var Mi=Pi,rl=new vi(20),Ni=class Ni{constructor(t){this.referenceDoc=t,this.tokenizer=new Mi(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=rl.get(u))!=null?c:[],s=i.length==0,l=s?a.map(d=>this.tokenizer.tokenize(d),this.tokenizer):[];for(let[d,[m,f]]of this.getWindowsDelineations(a).entries()){if(s){let y=new Set;l.slice(m,f).forEach(x=>x.forEach(w=>y.add(w),y)),i.push(y)}let _=i[d],b=this.similarityScore(_,await this.referenceTokens);if(o.length&&m>0&&o[o.length-1].endLine>m){o[o.length-1].score<b&&(o[o.length-1].score=b,o[o.length-1].startLine=m,o[o.length-1].endLine=f);continue}o.push({score:b,startLine:m,endLine:f})}return s&&rl.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Ni,"WindowedMatcher");var or=Ni;function s_(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}n(s_,"splitIntoWords");var a_=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),u_=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...a_]),l_=new Map([]);function Cn(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}n(Cn,"getBasicWindowDelineations");var jr=class jr extends or{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Cn(this.windowLength,t)}_getCursorContextInfo(t){return Ut(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return c_(t,r)}};n(jr,"FixedWindowSizeJaccardMatcher"),jr.FACTORY=n(t=>({to:n(r=>new jr(r,t),"to")}),"FACTORY");var Un=jr;function c_(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}n(c_,"computeScore");var bt=class bt extends or{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Cn(this.windowLength,t)}_getCursorContextInfo(t){return Ut(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=bt.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):Ut(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return d_(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await Dr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(bt.isMember(u)||bt.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(bt,"BlockTokenSubsetMatcher"),bt.FACTORY=n(t=>({to:n(r=>new bt(r,t),"to")}),"FACTORY");var Bn=bt;function d_(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}n(d_,"computeScore");function m_(e,t){return(t.useSubsetMatching?Bn.FACTORY(t.snippetLength):Un.FACTORY(t.snippetLength)).to(e)}n(m_,"getMatcher");async function nl(e,t,r){let o=m_(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}n(nl,"getSimilarSnippets");var $n=Zr(require("path")),Xe=require("worker_threads");function Dl(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}n(Dl,"sleep");var Qi=["getSimilarSnippets","sleep"],es=class es{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=nl;this.sleep=Dl;var t;!Xe.isMainThread&&((t=Xe.workerData)!=null&&t.port)&&(Bl(),process.cwd=()=>Xe.workerData.cwd,this.configureWorkerResponse(Xe.workerData.port))}initWorker(){let{port1:t,port2:r}=new Xe.MessageChannel;this.port=t,this.worker=new Xe.Worker($n.default.resolve($n.default.extname(__filename)!==".ts"?__dirname:$n.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Qi)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Qi){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new ut("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(es,"WorkerProxy");var zr=es,kn=new zr,X_=n(()=>{kn.stopThreading(),kn=new zr},"reset");0&&(module.exports={WorkerProxy,reset,sleep,workerFns,workerProxy});
//# sourceMappingURL=workerProxy.js.map

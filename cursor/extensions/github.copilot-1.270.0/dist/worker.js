"use strict";var cg=Object.create;var hn=Object.defineProperty;var pg=Object.getOwnPropertyDescriptor;var mg=Object.getOwnPropertyNames;var dg=Object.getPrototypeOf,fg=Object.prototype.hasOwnProperty;var n=(e,t)=>hn(e,"name",{value:t,configurable:!0});var d=(e,t)=>()=>(e&&(t=e(e=0)),t);var ne=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),kr=(e,t)=>{for(var r in t)hn(e,r,{get:t[r],enumerable:!0})},tc=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of mg(t))!fg.call(e,a)&&a!==r&&hn(e,a,{get:()=>t[a],enumerable:!(o=pg(t,a))||o.enumerable});return e};var yn=(e,t,r)=>(r=e!=null?cg(dg(e)):{},tc(t||!e||!e.__esModule?hn(r,"default",{value:e,enumerable:!0}):r,e)),_g=e=>tc(hn({},"__esModule",{value:!0}),e);var nc=ne(gs=>{var rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");gs.encode=function(e){if(0<=e&&e<rc.length)return rc[e];throw new TypeError("Must be between 0 and 63: "+e)};gs.decode=function(e){var t=65,r=90,o=97,a=122,u=48,i=57,s=43,l=47,c=26,p=52;return t<=e&&e<=r?e-t:o<=e&&e<=a?e-o+c:u<=e&&e<=i?e-u+p:e==s?62:e==l?63:-1}});var bs=ne(ys=>{var oc=nc(),hs=5,ic=1<<hs,sc=ic-1,ac=ic;function gg(e){return e<0?(-e<<1)+1:(e<<1)+0}n(gg,"toVLQSigned");function hg(e){var t=(e&1)===1,r=e>>1;return t?-r:r}n(hg,"fromVLQSigned");ys.encode=n(function(t){var r="",o,a=gg(t);do o=a&sc,a>>>=hs,a>0&&(o|=ac),r+=oc.encode(o);while(a>0);return r},"base64VLQ_encode");ys.decode=n(function(t,r,o){var a=t.length,u=0,i=0,s,l;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(l=oc.decode(t.charCodeAt(r++)),l===-1)throw new Error("Invalid base64 digit: "+t.charAt(r-1));s=!!(l&ac),l&=sc,u=u+(l<<i),i+=hs}while(s);o.value=hg(u),o.rest=r},"base64VLQ_decode")});var Rr=ne(Se=>{function yg(e,t,r){if(t in e)return e[t];if(arguments.length===3)return r;throw new Error('"'+t+'" is a required argument.')}n(yg,"getArg");Se.getArg=yg;var uc=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,bg=/^data:.+\,.+$/;function bn(e){var t=e.match(uc);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}n(bn,"urlParse");Se.urlParse=bn;function Fr(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}n(Fr,"urlGenerate");Se.urlGenerate=Fr;function Is(e){var t=e,r=bn(e);if(r){if(!r.path)return e;t=r.path}for(var o=Se.isAbsolute(t),a=t.split(/\/+/),u,i=0,s=a.length-1;s>=0;s--)u=a[s],u==="."?a.splice(s,1):u===".."?i++:i>0&&(u===""?(a.splice(s+1,i),i=0):(a.splice(s,2),i--));return t=a.join("/"),t===""&&(t=o?"/":"."),r?(r.path=t,Fr(r)):t}n(Is,"normalize");Se.normalize=Is;function lc(e,t){e===""&&(e="."),t===""&&(t=".");var r=bn(t),o=bn(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),Fr(r);if(r||t.match(bg))return t;if(o&&!o.host&&!o.path)return o.host=t,Fr(o);var a=t.charAt(0)==="/"?t:Is(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=a,Fr(o)):a}n(lc,"join");Se.join=lc;Se.isAbsolute=function(e){return e.charAt(0)==="/"||uc.test(e)};function Ig(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var r=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)}n(Ig,"relative");Se.relative=Ig;var cc=function(){var e=Object.create(null);return!("__proto__"in e)}();function pc(e){return e}n(pc,"identity");function xg(e){return mc(e)?"$"+e:e}n(xg,"toSetString");Se.toSetString=cc?pc:xg;function wg(e){return mc(e)?e.slice(1):e}n(wg,"fromSetString");Se.fromSetString=cc?pc:wg;function mc(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var r=t-10;r>=0;r--)if(e.charCodeAt(r)!==36)return!1;return!0}n(mc,"isProtoString");function Sg(e,t,r){var o=Or(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||r)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:Or(e.name,t.name)}n(Sg,"compareByOriginalPositions");Se.compareByOriginalPositions=Sg;function Eg(e,t,r){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||r)||(o=Or(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:Or(e.name,t.name)}n(Eg,"compareByGeneratedPositionsDeflated");Se.compareByGeneratedPositionsDeflated=Eg;function Or(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}n(Or,"strcmp");function Tg(e,t){var r=e.generatedLine-t.generatedLine;return r!==0||(r=e.generatedColumn-t.generatedColumn,r!==0)||(r=Or(e.source,t.source),r!==0)||(r=e.originalLine-t.originalLine,r!==0)||(r=e.originalColumn-t.originalColumn,r!==0)?r:Or(e.name,t.name)}n(Tg,"compareByGeneratedPositionsInflated");Se.compareByGeneratedPositionsInflated=Tg;function vg(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}n(vg,"parseSourceMapInput");Se.parseSourceMapInput=vg;function Mg(e,t,r){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),r){var o=bn(r);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var a=o.path.lastIndexOf("/");a>=0&&(o.path=o.path.substring(0,a+1))}t=lc(Fr(o),t)}return Is(t)}n(Mg,"computeSourceURL");Se.computeSourceURL=Mg});var Ss=ne(dc=>{var xs=Rr(),ws=Object.prototype.hasOwnProperty,mr=typeof Map<"u";function vt(){this._array=[],this._set=mr?new Map:Object.create(null)}n(vt,"ArraySet");vt.fromArray=n(function(t,r){for(var o=new vt,a=0,u=t.length;a<u;a++)o.add(t[a],r);return o},"ArraySet_fromArray");vt.prototype.size=n(function(){return mr?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");vt.prototype.add=n(function(t,r){var o=mr?t:xs.toSetString(t),a=mr?this.has(t):ws.call(this._set,o),u=this._array.length;(!a||r)&&this._array.push(t),a||(mr?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");vt.prototype.has=n(function(t){if(mr)return this._set.has(t);var r=xs.toSetString(t);return ws.call(this._set,r)},"ArraySet_has");vt.prototype.indexOf=n(function(t){if(mr){var r=this._set.get(t);if(r>=0)return r}else{var o=xs.toSetString(t);if(ws.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");vt.prototype.at=n(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");vt.prototype.toArray=n(function(){return this._array.slice()},"ArraySet_toArray");dc.ArraySet=vt});var gc=ne(_c=>{var fc=Rr();function Lg(e,t){var r=e.generatedLine,o=t.generatedLine,a=e.generatedColumn,u=t.generatedColumn;return o>r||o==r&&u>=a||fc.compareByGeneratedPositionsInflated(e,t)<=0}n(Lg,"generatedPositionAfter");function Io(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n(Io,"MappingList");Io.prototype.unsortedForEach=n(function(t,r){this._array.forEach(t,r)},"MappingList_forEach");Io.prototype.add=n(function(t){Lg(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");Io.prototype.toArray=n(function(){return this._sorted||(this._array.sort(fc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");_c.MappingList=Io});var Es=ne(hc=>{var In=bs(),ae=Rr(),xo=Ss().ArraySet,Pg=gc().MappingList;function We(e){e||(e={}),this._file=ae.getArg(e,"file",null),this._sourceRoot=ae.getArg(e,"sourceRoot",null),this._skipValidation=ae.getArg(e,"skipValidation",!1),this._sources=new xo,this._names=new xo,this._mappings=new Pg,this._sourcesContents=null}n(We,"SourceMapGenerator");We.prototype._version=3;We.fromSourceMap=n(function(t){var r=t.sourceRoot,o=new We({file:t.file,sourceRoot:r});return t.eachMapping(function(a){var u={generated:{line:a.generatedLine,column:a.generatedColumn}};a.source!=null&&(u.source=a.source,r!=null&&(u.source=ae.relative(r,u.source)),u.original={line:a.originalLine,column:a.originalColumn},a.name!=null&&(u.name=a.name)),o.addMapping(u)}),t.sources.forEach(function(a){var u=a;r!==null&&(u=ae.relative(r,a)),o._sources.has(u)||o._sources.add(u);var i=t.sourceContentFor(a);i!=null&&o.setSourceContent(a,i)}),o},"SourceMapGenerator_fromSourceMap");We.prototype.addMapping=n(function(t){var r=ae.getArg(t,"generated"),o=ae.getArg(t,"original",null),a=ae.getArg(t,"source",null),u=ae.getArg(t,"name",null);this._skipValidation||this._validateMapping(r,o,a,u),a!=null&&(a=String(a),this._sources.has(a)||this._sources.add(a)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:a,name:u})},"SourceMapGenerator_addMapping");We.prototype.setSourceContent=n(function(t,r){var o=t;this._sourceRoot!=null&&(o=ae.relative(this._sourceRoot,o)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[ae.toSetString(o)]=r):this._sourcesContents&&(delete this._sourcesContents[ae.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");We.prototype.applySourceMap=n(function(t,r,o){var a=r;if(r==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);a=t.file}var u=this._sourceRoot;u!=null&&(a=ae.relative(u,a));var i=new xo,s=new xo;this._mappings.unsortedForEach(function(l){if(l.source===a&&l.originalLine!=null){var c=t.originalPositionFor({line:l.originalLine,column:l.originalColumn});c.source!=null&&(l.source=c.source,o!=null&&(l.source=ae.join(o,l.source)),u!=null&&(l.source=ae.relative(u,l.source)),l.originalLine=c.line,l.originalColumn=c.column,c.name!=null&&(l.name=c.name))}var p=l.source;p!=null&&!i.has(p)&&i.add(p);var m=l.name;m!=null&&!s.has(m)&&s.add(m)},this),this._sources=i,this._names=s,t.sources.forEach(function(l){var c=t.sourceContentFor(l);c!=null&&(o!=null&&(l=ae.join(o,l)),u!=null&&(l=ae.relative(u,l)),this.setSourceContent(l,c))},this)},"SourceMapGenerator_applySourceMap");We.prototype._validateMapping=n(function(t,r,o,a){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!r&&!o&&!a)){if(t&&"line"in t&&"column"in t&&r&&"line"in r&&"column"in r&&t.line>0&&t.column>=0&&r.line>0&&r.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:r,name:a}))}},"SourceMapGenerator_validateMapping");We.prototype._serializeMappings=n(function(){for(var t=0,r=1,o=0,a=0,u=0,i=0,s="",l,c,p,m,f=this._mappings.toArray(),g=0,h=f.length;g<h;g++){if(c=f[g],l="",c.generatedLine!==r)for(t=0;c.generatedLine!==r;)l+=";",r++;else if(g>0){if(!ae.compareByGeneratedPositionsInflated(c,f[g-1]))continue;l+=","}l+=In.encode(c.generatedColumn-t),t=c.generatedColumn,c.source!=null&&(m=this._sources.indexOf(c.source),l+=In.encode(m-i),i=m,l+=In.encode(c.originalLine-1-a),a=c.originalLine-1,l+=In.encode(c.originalColumn-o),o=c.originalColumn,c.name!=null&&(p=this._names.indexOf(c.name),l+=In.encode(p-u),u=p)),s+=l}return s},"SourceMapGenerator_serializeMappings");We.prototype._generateSourcesContent=n(function(t,r){return t.map(function(o){if(!this._sourcesContents)return null;r!=null&&(o=ae.relative(r,o));var a=ae.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,a)?this._sourcesContents[a]:null},this)},"SourceMapGenerator_generateSourcesContent");We.prototype.toJSON=n(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");We.prototype.toString=n(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");hc.SourceMapGenerator=We});var yc=ne(dr=>{dr.GREATEST_LOWER_BOUND=1;dr.LEAST_UPPER_BOUND=2;function Ts(e,t,r,o,a,u){var i=Math.floor((t-e)/2)+e,s=a(r,o[i],!0);return s===0?i:s>0?t-i>1?Ts(i,t,r,o,a,u):u==dr.LEAST_UPPER_BOUND?t<o.length?t:-1:i:i-e>1?Ts(e,i,r,o,a,u):u==dr.LEAST_UPPER_BOUND?i:e<0?-1:e}n(Ts,"recursiveSearch");dr.search=n(function(t,r,o,a){if(r.length===0)return-1;var u=Ts(-1,r.length,t,r,o,a||dr.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(r[u],r[u-1],!0)===0;)--u;return u},"search")});var Ic=ne(bc=>{function vs(e,t,r){var o=e[t];e[t]=e[r],e[r]=o}n(vs,"swap");function Ng(e,t){return Math.round(e+Math.random()*(t-e))}n(Ng,"randomIntInRange");function Ms(e,t,r,o){if(r<o){var a=Ng(r,o),u=r-1;vs(e,a,o);for(var i=e[o],s=r;s<o;s++)t(e[s],i)<=0&&(u+=1,vs(e,u,s));vs(e,u+1,s);var l=u+1;Ms(e,t,r,l-1),Ms(e,t,l+1,o)}}n(Ms,"doQuickSort");bc.quickSort=function(e,t){Ms(e,t,0,e.length-1)}});var wc=ne(wo=>{var v=Rr(),Ls=yc(),Cr=Ss().ArraySet,kg=bs(),xn=Ic().quickSort;function X(e,t){var r=e;return typeof e=="string"&&(r=v.parseSourceMapInput(e)),r.sections!=null?new nt(r,t):new be(r,t)}n(X,"SourceMapConsumer");X.fromSourceMap=function(e,t){return be.fromSourceMap(e,t)};X.prototype._version=3;X.prototype.__generatedMappings=null;Object.defineProperty(X.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});X.prototype.__originalMappings=null;Object.defineProperty(X.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:n(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});X.prototype._charIsMappingSeparator=n(function(t,r){var o=t.charAt(r);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");X.prototype._parseMappings=n(function(t,r){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");X.GENERATED_ORDER=1;X.ORIGINAL_ORDER=2;X.GREATEST_LOWER_BOUND=1;X.LEAST_UPPER_BOUND=2;X.prototype.eachMapping=n(function(t,r,o){var a=r||null,u=o||X.GENERATED_ORDER,i;switch(u){case X.GENERATED_ORDER:i=this._generatedMappings;break;case X.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(l){var c=l.source===null?null:this._sources.at(l.source);return c=v.computeSourceURL(s,c,this._sourceMapURL),{source:c,generatedLine:l.generatedLine,generatedColumn:l.generatedColumn,originalLine:l.originalLine,originalColumn:l.originalColumn,name:l.name===null?null:this._names.at(l.name)}},this).forEach(t,a)},"SourceMapConsumer_eachMapping");X.prototype.allGeneratedPositionsFor=n(function(t){var r=v.getArg(t,"line"),o={source:v.getArg(t,"source"),originalLine:r,originalColumn:v.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var a=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,Ls.LEAST_UPPER_BOUND);if(u>=0){var i=this._originalMappings[u];if(t.column===void 0)for(var s=i.originalLine;i&&i.originalLine===s;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u];else for(var l=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==l;)a.push({line:v.getArg(i,"generatedLine",null),column:v.getArg(i,"generatedColumn",null),lastColumn:v.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++u]}return a},"SourceMapConsumer_allGeneratedPositionsFor");wo.SourceMapConsumer=X;function be(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sources"),u=v.getArg(r,"names",[]),i=v.getArg(r,"sourceRoot",null),s=v.getArg(r,"sourcesContent",null),l=v.getArg(r,"mappings"),c=v.getArg(r,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);i&&(i=v.normalize(i)),a=a.map(String).map(v.normalize).map(function(p){return i&&v.isAbsolute(i)&&v.isAbsolute(p)?v.relative(i,p):p}),this._names=Cr.fromArray(u.map(String),!0),this._sources=Cr.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(p){return v.computeSourceURL(i,p,t)}),this.sourceRoot=i,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=c}n(be,"BasicSourceMapConsumer");be.prototype=Object.create(X.prototype);be.prototype.consumer=X;be.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=v.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1};be.fromSourceMap=n(function(t,r){var o=Object.create(be.prototype),a=o._names=Cr.fromArray(t._names.toArray(),!0),u=o._sources=Cr.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=r,o._absoluteSources=o._sources.toArray().map(function(g){return v.computeSourceURL(o.sourceRoot,g,r)});for(var i=t._mappings.toArray().slice(),s=o.__generatedMappings=[],l=o.__originalMappings=[],c=0,p=i.length;c<p;c++){var m=i[c],f=new xc;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=u.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=a.indexOf(m.name)),l.push(f)),s.push(f)}return xn(o.__originalMappings,v.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");be.prototype._version=3;Object.defineProperty(be.prototype,"sources",{get:n(function(){return this._absoluteSources.slice()},"get")});function xc(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}n(xc,"Mapping");be.prototype._parseMappings=n(function(t,r){for(var o=1,a=0,u=0,i=0,s=0,l=0,c=t.length,p=0,m={},f={},g=[],h=[],I,x,w,k,M;p<c;)if(t.charAt(p)===";")o++,p++,a=0;else if(t.charAt(p)===",")p++;else{for(I=new xc,I.generatedLine=o,k=p;k<c&&!this._charIsMappingSeparator(t,k);k++);if(x=t.slice(p,k),w=m[x],w)p+=x.length;else{for(w=[];p<k;)kg.decode(t,p,f),M=f.value,p=f.rest,w.push(M);if(w.length===2)throw new Error("Found a source, but no line and column");if(w.length===3)throw new Error("Found a source and line, but no column");m[x]=w}I.generatedColumn=a+w[0],a=I.generatedColumn,w.length>1&&(I.source=s+w[1],s+=w[1],I.originalLine=u+w[2],u=I.originalLine,I.originalLine+=1,I.originalColumn=i+w[3],i=I.originalColumn,w.length>4&&(I.name=l+w[4],l+=w[4])),h.push(I),typeof I.originalLine=="number"&&g.push(I)}xn(h,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=h,xn(g,v.compareByOriginalPositions),this.__originalMappings=g},"SourceMapConsumer_parseMappings");be.prototype._findMapping=n(function(t,r,o,a,u,i){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[a]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[a]);return Ls.search(t,r,u,i)},"SourceMapConsumer_findMapping");be.prototype.computeColumnSpans=n(function(){for(var t=0;t<this._generatedMappings.length;++t){var r=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(r.generatedLine===o.generatedLine){r.lastGeneratedColumn=o.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");be.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(o>=0){var a=this._generatedMappings[o];if(a.generatedLine===r.generatedLine){var u=v.getArg(a,"source",null);u!==null&&(u=this._sources.at(u),u=v.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var i=v.getArg(a,"name",null);return i!==null&&(i=this._names.at(i)),{source:u,line:v.getArg(a,"originalLine",null),column:v.getArg(a,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");be.prototype.hasContentsOfAllSources=n(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");be.prototype.sourceContentFor=n(function(t,r){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var a=t;this.sourceRoot!=null&&(a=v.relative(this.sourceRoot,a));var u;if(this.sourceRoot!=null&&(u=v.urlParse(this.sourceRoot))){var i=a.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!u.path||u.path=="/")&&this._sources.has("/"+a))return this.sourcesContent[this._sources.indexOf("/"+a)]}if(r)return null;throw new Error('"'+a+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");be.prototype.generatedPositionFor=n(function(t){var r=v.getArg(t,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var o={source:r,originalLine:v.getArg(t,"line"),originalColumn:v.getArg(t,"column")},a=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(t,"bias",X.GREATEST_LOWER_BOUND));if(a>=0){var u=this._originalMappings[a];if(u.source===o.source)return{line:v.getArg(u,"generatedLine",null),column:v.getArg(u,"generatedColumn",null),lastColumn:v.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");wo.BasicSourceMapConsumer=be;function nt(e,t){var r=e;typeof e=="string"&&(r=v.parseSourceMapInput(e));var o=v.getArg(r,"version"),a=v.getArg(r,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new Cr,this._names=new Cr;var u={line:-1,column:0};this._sections=a.map(function(i){if(i.url)throw new Error("Support for url field in sections not implemented.");var s=v.getArg(i,"offset"),l=v.getArg(s,"line"),c=v.getArg(s,"column");if(l<u.line||l===u.line&&c<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=s,{generatedOffset:{generatedLine:l+1,generatedColumn:c+1},consumer:new X(v.getArg(i,"map"),t)}})}n(nt,"IndexedSourceMapConsumer");nt.prototype=Object.create(X.prototype);nt.prototype.constructor=X;nt.prototype._version=3;Object.defineProperty(nt.prototype,"sources",{get:n(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e},"get")});nt.prototype.originalPositionFor=n(function(t){var r={generatedLine:v.getArg(t,"line"),generatedColumn:v.getArg(t,"column")},o=Ls.search(r,this._sections,function(u,i){var s=u.generatedLine-i.generatedOffset.generatedLine;return s||u.generatedColumn-i.generatedOffset.generatedColumn}),a=this._sections[o];return a?a.consumer.originalPositionFor({line:r.generatedLine-(a.generatedOffset.generatedLine-1),column:r.generatedColumn-(a.generatedOffset.generatedLine===r.generatedLine?a.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");nt.prototype.hasContentsOfAllSources=n(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");nt.prototype.sourceContentFor=n(function(t,r){for(var o=0;o<this._sections.length;o++){var a=this._sections[o],u=a.consumer.sourceContentFor(t,!0);if(u)return u}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");nt.prototype.generatedPositionFor=n(function(t){for(var r=0;r<this._sections.length;r++){var o=this._sections[r];if(o.consumer._findSourceIndex(v.getArg(t,"source"))!==-1){var a=o.consumer.generatedPositionFor(t);if(a){var u={line:a.line+(o.generatedOffset.generatedLine-1),column:a.column+(o.generatedOffset.generatedLine===a.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");nt.prototype._parseMappings=n(function(t,r){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var a=this._sections[o],u=a.consumer._generatedMappings,i=0;i<u.length;i++){var s=u[i],l=a.consumer._sources.at(s.source);l=v.computeSourceURL(a.consumer.sourceRoot,l,this._sourceMapURL),this._sources.add(l),l=this._sources.indexOf(l);var c=null;s.name&&(c=a.consumer._names.at(s.name),this._names.add(c),c=this._names.indexOf(c));var p={source:l,generatedLine:s.generatedLine+(a.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(a.generatedOffset.generatedLine===s.generatedLine?a.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:c};this.__generatedMappings.push(p),typeof p.originalLine=="number"&&this.__originalMappings.push(p)}xn(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),xn(this.__originalMappings,v.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");wo.IndexedSourceMapConsumer=nt});var Ec=ne(Sc=>{var Fg=Es().SourceMapGenerator,So=Rr(),Og=/(\r?\n)/,Rg=10,Ar="$$$isSourceNode$$$";function Ue(e,t,r,o,a){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=r==null?null:r,this.name=a==null?null:a,this[Ar]=!0,o!=null&&this.add(o)}n(Ue,"SourceNode");Ue.fromStringWithSourceMap=n(function(t,r,o){var a=new Ue,u=t.split(Og),i=0,s=n(function(){var f=h(),g=h()||"";return f+g;function h(){return i<u.length?u[i++]:void 0}},"shiftNextLine"),l=1,c=0,p=null;return r.eachMapping(function(f){if(p!==null)if(l<f.generatedLine)m(p,s()),l++,c=0;else{var g=u[i]||"",h=g.substr(0,f.generatedColumn-c);u[i]=g.substr(f.generatedColumn-c),c=f.generatedColumn,m(p,h),p=f;return}for(;l<f.generatedLine;)a.add(s()),l++;if(c<f.generatedColumn){var g=u[i]||"";a.add(g.substr(0,f.generatedColumn)),u[i]=g.substr(f.generatedColumn),c=f.generatedColumn}p=f},this),i<u.length&&(p&&m(p,s()),a.add(u.splice(i).join(""))),r.sources.forEach(function(f){var g=r.sourceContentFor(f);g!=null&&(o!=null&&(f=So.join(o,f)),a.setSourceContent(f,g))}),a;function m(f,g){if(f===null||f.source===void 0)a.add(g);else{var h=o?So.join(o,f.source):f.source;a.add(new Ue(f.originalLine,f.originalColumn,h,g,f.name))}}n(m,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Ue.prototype.add=n(function(t){if(Array.isArray(t))t.forEach(function(r){this.add(r)},this);else if(t[Ar]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Ue.prototype.prepend=n(function(t){if(Array.isArray(t))for(var r=t.length-1;r>=0;r--)this.prepend(t[r]);else if(t[Ar]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Ue.prototype.walk=n(function(t){for(var r,o=0,a=this.children.length;o<a;o++)r=this.children[o],r[Ar]?r.walk(t):r!==""&&t(r,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Ue.prototype.join=n(function(t){var r,o,a=this.children.length;if(a>0){for(r=[],o=0;o<a-1;o++)r.push(this.children[o]),r.push(t);r.push(this.children[o]),this.children=r}return this},"SourceNode_join");Ue.prototype.replaceRight=n(function(t,r){var o=this.children[this.children.length-1];return o[Ar]?o.replaceRight(t,r):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,r):this.children.push("".replace(t,r)),this},"SourceNode_replaceRight");Ue.prototype.setSourceContent=n(function(t,r){this.sourceContents[So.toSetString(t)]=r},"SourceNode_setSourceContent");Ue.prototype.walkSourceContents=n(function(t){for(var r=0,o=this.children.length;r<o;r++)this.children[r][Ar]&&this.children[r].walkSourceContents(t);for(var a=Object.keys(this.sourceContents),r=0,o=a.length;r<o;r++)t(So.fromSetString(a[r]),this.sourceContents[a[r]])},"SourceNode_walkSourceContents");Ue.prototype.toString=n(function(){var t="";return this.walk(function(r){t+=r}),t},"SourceNode_toString");Ue.prototype.toStringWithSourceMap=n(function(t){var r={code:"",line:1,column:0},o=new Fg(t),a=!1,u=null,i=null,s=null,l=null;return this.walk(function(c,p){r.code+=c,p.source!==null&&p.line!==null&&p.column!==null?((u!==p.source||i!==p.line||s!==p.column||l!==p.name)&&o.addMapping({source:p.source,original:{line:p.line,column:p.column},generated:{line:r.line,column:r.column},name:p.name}),u=p.source,i=p.line,s=p.column,l=p.name,a=!0):a&&(o.addMapping({generated:{line:r.line,column:r.column}}),u=null,a=!1);for(var m=0,f=c.length;m<f;m++)c.charCodeAt(m)===Rg?(r.line++,r.column=0,m+1===f?(u=null,a=!1):a&&o.addMapping({source:p.source,original:{line:p.line,column:p.column},generated:{line:r.line,column:r.column},name:p.name})):r.column++}),this.walkSourceContents(function(c,p){o.setSourceContent(c,p)}),{code:r.code,map:o}},"SourceNode_toStringWithSourceMap");Sc.SourceNode=Ue});var Tc=ne(Eo=>{Eo.SourceMapGenerator=Es().SourceMapGenerator;Eo.SourceMapConsumer=wc().SourceMapConsumer;Eo.SourceNode=Ec().SourceNode});var Mc=ne((CS,vc)=>{var Cg=Object.prototype.toString,Ps=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function Ag(e){return Cg.call(e).slice(8,-1)==="ArrayBuffer"}n(Ag,"isArrayBuffer");function Ug(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=o;else if(r>>>=0,r>o)throw new RangeError("'length' is out of bounds");return Ps?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}n(Ug,"fromArrayBuffer");function Bg(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Ps?Buffer.from(e,t):new Buffer(e,t)}n(Bg,"fromString");function Dg(e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return Ag(e)?Ug(e,t,r):typeof e=="string"?Bg(e,t):Ps?Buffer.from(e):new Buffer(e)}n(Dg,"bufferFrom");vc.exports=Dg});var Cc=ne((_r,Os)=>{var jg=Tc().SourceMapConsumer,Ns=require("path"),mt;try{mt=require("fs"),(!mt.existsSync||!mt.readFileSync)&&(mt=null)}catch{}var Vg=Mc();function Lc(e,t){return e.require(t)}n(Lc,"dynamicRequire");var Pc=!1,Nc=!1,ks=!1,wn="auto",fr={},Sn={},Wg=/^data:application\/json[^,]+base64,/,Gt=[],$t=[];function Rs(){return wn==="browser"?!0:wn==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}n(Rs,"isInBrowser");function Kg(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}n(Kg,"hasGlobalProcessEventEmitter");function Gg(){return typeof process=="object"&&process!==null?process.version:""}n(Gg,"globalProcessVersion");function $g(){if(typeof process=="object"&&process!==null)return process.stderr}n($g,"globalProcessStderr");function zg(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}n(zg,"globalProcessExit");function To(e){return function(t){for(var r=0;r<e.length;r++){var o=e[r](t);if(o)return o}return null}}n(To,"handlerExec");var Cs=To(Gt);Gt.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,a){return a?"":"/"})),e in fr)return fr[e];var t="";try{if(mt)mt.existsSync(e)&&(t=mt.readFileSync(e,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),r.readyState===4&&r.status===200&&(t=r.responseText)}}catch{}return fr[e]=t});function Fs(e,t){if(!e)return t;var r=Ns.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(r),a=o?o[0]:"",u=r.slice(a.length);return a&&/^\/\w\:/.test(u)?(a+="/",a+Ns.resolve(r.slice(a.length),t).replace(/\\/g,"/")):a+Ns.resolve(r.slice(a.length),t)}n(Fs,"supportRelativeURL");function Hg(e){var t;if(Rs())try{var r=new XMLHttpRequest;r.open("GET",e,!1),r.send(null),t=r.readyState===4?r.responseText:null;var o=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Cs(e);for(var a=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,i;i=a.exec(t);)u=i;return u?u[1]:null}n(Hg,"retrieveSourceMapURL");var As=To($t);$t.push(function(e){var t=Hg(e);if(!t)return null;var r;if(Wg.test(t)){var o=t.slice(t.indexOf(",")+1);r=Vg(o,"base64").toString(),t=e}else t=Fs(e,t),r=Cs(t);return r?{url:t,map:r}:null});function Us(e){var t=Sn[e.source];if(!t){var r=As(e.source);r?(t=Sn[e.source]={url:r.url,map:new jg(r.map)},t.map.sourcesContent&&t.map.sources.forEach(function(a,u){var i=t.map.sourcesContent[u];if(i){var s=Fs(t.url,a);fr[s]=i}})):t=Sn[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=Fs(t.url,o.source),o}return e}n(Us,"mapSourcePosition");function Fc(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var r=Us({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+Fc(t[2])+")":e}n(Fc,"mapEvalOrigin");function qg(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(r!=null){t+=":"+r;var o=this.getColumnNumber();o&&(t+=":"+o)}}var a="",u=this.getFunctionName(),i=!0,s=this.isConstructor(),l=!(this.isToplevel()||s);if(l){var c=this.getTypeName();c==="[object Object]"&&(c="null");var p=this.getMethodName();u?(c&&u.indexOf(c)!=0&&(a+=c+"."),a+=u,p&&u.indexOf("."+p)!=u.length-p.length-1&&(a+=" [as "+p+"]")):a+=c+"."+(p||"<anonymous>")}else s?a+="new "+(u||"<anonymous>"):u?a+=u:(a+=t,i=!1);return i&&(a+=" ("+t+")"),a}n(qg,"CallSiteToString");function kc(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=qg,t}n(kc,"cloneCallSite");function Oc(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var o=e.getLineNumber(),a=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,i=u.test(Gg())?0:62;o===1&&a>i&&!Rs()&&!e.isEval()&&(a-=i);var s=Us({source:r,line:o,column:a});t.curPosition=s,e=kc(e);var l=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?l():t.nextPosition.name||l()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var c=e.isEval()&&e.getEvalOrigin();return c&&(c=Fc(c),e=kc(e),e.getEvalOrigin=function(){return c}),e}n(Oc,"wrapCallSite");function Zg(e,t){ks&&(fr={},Sn={});for(var r=e.name||"Error",o=e.message||"",a=r+": "+o,u={nextPosition:null,curPosition:null},i=[],s=t.length-1;s>=0;s--)i.push(`
    at `+Oc(t[s],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,a+i.reverse().join("")}n(Zg,"prepareStackTrace");function Rc(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var r=t[1],o=+t[2],a=+t[3],u=fr[r];if(!u&&mt&&mt.existsSync(r))try{u=mt.readFileSync(r,"utf8")}catch{u=""}if(u){var i=u.split(/(?:\r\n|\r|\n)/)[o-1];if(i)return r+":"+o+`
`+i+`
`+new Array(a).join(" ")+"^"}}return null}n(Rc,"getErrorSource");function Jg(e){var t=Rc(e),r=$g();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),zg(1)}n(Jg,"printErrorAndExit");function Xg(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(r&&!o)return Jg(arguments[1])}return e.apply(this,arguments)}}n(Xg,"shimEmitUncaughtException");var Yg=Gt.slice(0),Qg=$t.slice(0);_r.wrapCallSite=Oc;_r.getErrorSource=Rc;_r.mapSourcePosition=Us;_r.retrieveSourceMap=As;_r.install=function(e){if(e=e||{},e.environment&&(wn=e.environment,["node","browser","auto"].indexOf(wn)===-1))throw new Error("environment "+wn+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(Gt.length=0),Gt.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&($t.length=0),$t.unshift(e.retrieveSourceMap)),e.hookRequire&&!Rs()){var t=Lc(Os,"module"),r=t.prototype._compile;r.__sourceMapSupport||(t.prototype._compile=function(u,i){return fr[i]=u,Sn[i]=void 0,r.call(this,u,i)},t.prototype._compile.__sourceMapSupport=!0)}if(ks||(ks="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),Pc||(Pc=!0,Error.prepareStackTrace=Zg),!Nc){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var a=Lc(Os,"worker_threads");a.isMainThread===!1&&(o=!1)}catch{}o&&Kg()&&(Nc=!0,Xg())}};_r.resetRetrieveHandlers=function(){Gt.length=0,$t.length=0,Gt=Yg.slice(0),$t=Qg.slice(0),As=To($t),Cs=To(Gt)}});var Bs=ne(()=>{Cc().install()});function vo(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}function Ds(e,t,r,o,a){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:o,label:a}}function Mo(e){return{type:"blank",lineNumber:e,subs:[]}}function En(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}function re(e){return e.type==="blank"}function ot(e){return e.type==="line"}function Be(e){return e.type==="virtual"}function zt(e){return e.type==="top"}function eh(e,t){function r(o){if(!Be(o)&&!zt(o)&&o.lineNumber===t)return o.subs=[],!0;for(let a=0;a<o.subs.length;a++)if(r(o.subs[a]))return o.subs=o.subs.slice(0,a+1),!0;return!1}n(r,"cut"),r(e)}function th(e){return JSON.parse(JSON.stringify(e))}var gr=d(()=>{"use strict";n(vo,"virtualNode");n(Ds,"lineNode");n(Mo,"blankNode");n(En,"topNode");n(re,"isBlank");n(ot,"isLine");n(Be,"isVirtual");n(zt,"isTop");n(eh,"cutTreeAfterLine");n(th,"duplicateTree")});function Ac(e){return oe(e,t=>{t.label=void 0},"bottomUp"),e}function js(e,t){return oe(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}function dt(e,t){switch(e.type){case"line":case"virtual":{let r=e.subs.map(o=>dt(o,t));return{...e,subs:r,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(r=>dt(r,t)),label:e.label?t(e.label):void 0}}}function rh(e){let t=0;function r(o){!Be(o)&&!zt(o)&&(o.lineNumber=t,t++)}n(r,"visitor"),oe(e,r,"topDown")}function oe(e,t,r){function o(a){r==="topDown"&&t(a),a.subs.forEach(u=>{o(u)}),r==="bottomUp"&&t(a)}n(o,"_visit"),o(e)}function nh(e,t,r){function o(a){if(r==="topDown"&&!t(a))return!1;let u=!0;return a.subs.forEach(i=>{u=u&&o(i)}),r==="bottomUp"&&(u=u&&t(a)),u}n(o,"_visit"),o(e)}function Tn(e,t,r,o){let a=t;function u(i){a=r(i,a)}return n(u,"visitor"),oe(e,u,o),a}function vn(e,t,r){let o=n(u=>{if(r!==void 0&&r(u))return u;{let i=u.subs.map(o).filter(s=>s!==void 0);return u.subs=i,t(u)}},"rebuild"),a=o(e);return a!==void 0?a:En()}var Ur=d(()=>{"use strict";gr();n(Ac,"clearLabels");n(js,"clearLabelsIf");n(dt,"mapLabels");n(rh,"resetLineNumbers");n(oe,"visitTree");n(nh,"visitTreeConditionally");n(Tn,"foldTree");n(vn,"rebuildTree")});function Uc(e){let t=e.split(`
`),r=t.map(c=>c.match(/^\s*/)[0].length),o=t.map(c=>c.trimLeft());function a(c){let[p,m]=u(c+1,r[c]);return[Ds(r[c],c,o[c],p),m]}n(a,"parseNode");function u(c,p){let m,f=[],g=c,h;for(;g<o.length&&(o[g]===""||r[g]>p);)if(o[g]==="")h===void 0&&(h=g),g+=1;else{if(h!==void 0){for(let I=h;I<g;I++)f.push(Mo(I));h=void 0}[m,g]=a(g),f.push(m)}return h!==void 0&&(g=h),[f,g]}n(u,"parseSubs");let[i,s]=u(0,-1),l=s;for(;l<o.length&&o[l]==="";)i.push(Mo(l)),l+=1;if(l<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${l} out of ${o.length}`);return En(i)}function Br(e,t){function r(o){if(ot(o)){let a=t.find(u=>u.matches(o.sourceLine));a&&(o.label=a.label)}}n(r,"visitor"),oe(e,r,"bottomUp")}function Mn(e){function t(r){if(Be(r)&&r.label===void 0){let o=r.subs.filter(a=>!re(a));o.length===1&&(r.label=o[0].label)}}n(t,"visitor"),oe(e,t,"bottomUp")}function Dr(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=n(o=>e[t].test(o),"matches"):r=e[t],{matches:r,label:t}})}function Lo(e){let r=vn(e,n(function(o){if(o.subs.length===0||o.subs.findIndex(i=>i.label==="closer"||i.label==="opener")===-1)return o;let a=[],u;for(let i=0;i<o.subs.length;i++){let s=o.subs[i],l=o.subs[i-1];if(s.label==="opener"&&l!==void 0&&ot(l))l.subs.push(s),s.subs.forEach(c=>l.subs.push(c)),s.subs=[];else if(s.label==="closer"&&u!==void 0&&(ot(s)||Be(s))&&s.indentation>=u.indentation){let c=a.length-1;for(;c>0&&re(a[c]);)c-=1;if(u.subs.push(...a.splice(c+1)),s.subs.length>0){let p=u.subs.findIndex(h=>h.label!=="newVirtual"),m=u.subs.slice(0,p),f=u.subs.slice(p),g=f.length>0?[vo(s.indentation,f,"newVirtual")]:[];u.subs=[...m,...g,s]}else u.subs.push(s)}else a.push(s),re(s)||(u=s)}return o.subs=a,o},"rebuilder"));return js(e,o=>o==="newVirtual"),r}function Vs(e,t=re,r){return vn(e,n(function(a){if(a.subs.length<=1)return a;let u=[],i=[],s,l=!1;function c(p=!1){if(s!==void 0&&(u.length>0||!p)){let m=vo(s,i,r);u.push(m)}else i.forEach(m=>u.push(m))}n(c,"flushBlockIntoNewSubs");for(let p=0;p<a.subs.length;p++){let m=a.subs[p],f=t(m);!f&&l&&(c(),i=[]),l=f,i.push(m),re(m)||(s=s!=null?s:m.indentation)}return c(!0),a.subs=u,a},"rebuilder"))}function ft(e){return vn(e,n(function(r){return Be(r)&&r.label===void 0&&r.subs.length<=1?r.subs.length===0?void 0:r.subs[0]:(r.subs.length===1&&Be(r.subs[0])&&r.subs[0].label===void 0&&(r.subs=r.subs[0].subs),r)},"rebuilder"))}function Po(e,t){Bc[e]=t}function Ht(e,t){let r=Uc(e),o=Bc[t!=null?t:""];return o?o(r):(Br(r,ih),Lo(r))}var oh,ih,Bc,jr=d(()=>{"use strict";gr();Ur();n(Uc,"parseRaw");n(Br,"labelLines");n(Mn,"labelVirtualInherited");n(Dr,"buildLabelRules");n(Lo,"combineClosersAndOpeners");n(Vs,"groupBlocks");n(ft,"flattenVirtual");oh={opener:/^[[({]/,closer:/^[\])}]/},ih=Dr(oh),Bc={};n(Po,"registerLanguageSpecificParser");n(Ht,"parseTree")});function Dc(e){let t=e;return Br(t,ah),t=Lo(t),t=ft(t),Mn(t),oe(t,r=>{if(r.label==="class"||r.label==="interface")for(let o of r.subs)!re(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}var sh,ah,jc=d(()=>{"use strict";gr();Ur();jr();sh={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},ah=Dr(sh);n(Dc,"processJava")});function Vc(e){let t=e;if(Br(t,lh),re(t))return t;function r(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}n(r,"headingLevel");let o=[t],a=[...t.subs];t.subs=[];for(let u of a){let i=r(u);if(i===void 0||re(u))o[o.length-1].subs.push(u);else{for(;o.length<i;)o.push(o[o.length-1]);for(o[i-1].subs.push(u),o[i]=u;o.length>i+1;)o.pop()}}return t=Vs(t),t=ft(t),Mn(t),t}var uh,lh,Wc=d(()=>{"use strict";gr();jr();uh={heading:/^# /,subheading:/^## /,subsubheading:/### /},lh=Dr(uh);n(Vc,"processMarkdown")});function Ln(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}function Kc(e){function t(r,o){let a="";return ot(r)?a=Ln(r):re(r)&&(a=`
`),o+a}return n(t,"accumulator"),Tn(e,"",t,"topDown")}function ch(e,t){let r=new Set(t),o=[],a="";function u(i){i.label!==void 0&&r.has(i.label)?(a!==""&&o.push({label:void 0,source:a}),o.push({label:i.label,source:Kc(i)}),a=""):(ot(i)&&(a+=Ln(i)),i.subs.forEach(u))}return n(u,"visit"),u(e),a!==""&&o.push({label:void 0,source:a}),o}function Gc(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let o;e.subs===void 0?o="UNDEFINED SUBS":o=e.subs.map(i=>Gc(i,t+2)).join(`,
`),o===""?o="[]":o=`[
${o}
      ${r}]`;let a=(Be(e)||zt(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,u=e.label===void 0?"":JSON.stringify(e.label);return Be(e)||zt(e)?`${a}vnode(${e.indentation}, ${u}, ${o})`:re(e)?`${a}blank(${u!=null?u:""})`:`${a}lnode(${e.indentation}, ${u}, ${JSON.stringify(e.sourceLine)}, ${o})`}function $c(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,o=!re(e)&&e.subs.length>0?`[
${e.subs.map(a=>$c(a,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${o}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${o}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${o}${r})`}}function zc(e){if(ot(e)||re(e))return e.lineNumber;for(let t of e.subs){let r=zc(t);if(r!==void 0)return r}}function Hc(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Hc(e.subs[r]),r--;return t===void 0&&!Be(e)&&!zt(e)?e.lineNumber:t}var qc=d(()=>{"use strict";gr();Ur();n(Ln,"deparseLine");n(Kc,"deparseTree");n(ch,"deparseAndCutTree");n(Gc,"describeTree");n($c,"encodeTree");n(zc,"firstLineOf");n(Hc,"lastLineOf")});var Pn=d(()=>{"use strict";jc();Wc();jr();gr();qc();Ur();jr();Po("markdown",Vc);Po("java",Dc)});function Vr(e,t=Zc){let r=dt(e,o=>o?1:void 0);return oe(r,o=>{var u;if(re(o))return;let a=o.subs.reduce((i,s)=>{var l;return Math.max(i,(l=s.label)!=null?l:0)},0);o.label=Math.max((u=o.label)!=null?u:0,a*t.worthUp)},"bottomUp"),oe(r,o=>{if(re(o))return;let a=o.subs.map(s=>{var l;return(l=s.label)!=null?l:0}),u=[...a];for(let s=0;s<a.length;s++)a[s]!==0&&(u=u.map((l,c)=>Math.max(l,Math.pow(t.worthSibling,Math.abs(s-c))*a[s])));let i=o.label;i!==void 0&&(u=u.map(s=>Math.max(s,t.worthDown*i))),o.subs.forEach((s,l)=>s.label=u[l])},"topDown"),Jc(r)}function Jc(e){let t=Tn(e,[],(r,o)=>{var a,u;return(r.type==="line"||r.type==="blank")&&o.push(r.type==="line"?[Ln(r).trimEnd(),(a=r.label)!=null?a:0]:["",(u=r.label)!=null?u:0]),o},"topDown");return new Nn(t)}var Zc,No=d(()=>{"use strict";Ws();Pn();Zc={worthUp:.9,worthSibling:.88,worthDown:.8};n(Vr,"fromTreeWithFocussedLines");n(Jc,"fromTreeWithValuedLines")});function Ks(e,t=!0,r=!0){let o=typeof e=="string"?Ht(e):Ht(e.source,e.languageId);ft(o);let a=dt(o,u=>t&&u!=="closer");return oe(a,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&oe(a,u=>{if(u.label){let i=!1;for(let s of[...u.subs].reverse())s.label&&!i?i=!0:s.label=!1}else for(let i of u.subs)i.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),r&&oe(a,u=>{u.label||(u.label=(ot(u)||re(u))&&u.lineNumber==0)},"topDown"),Vr(a)}var Gs=d(()=>{"use strict";No();Pn();n(Ks,"elidableTextForSourceCode")});var $s,qt,ko=d(()=>{"use strict";$s=class $s extends Error{constructor(r,o){super(r);this.cause=o;this.code="CopilotPromptLoadFailure"}};n($s,"CopilotPromptLoadFailure");qt=$s});var Xc=ne(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.bytePairEncode=gt.BinaryMap=gt.binaryMapKey=void 0;var ph=n((e,t,r)=>{let o=r-t,a=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&a,i=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),s=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&i;return u+16777216*s},"binaryMapKey");gt.binaryMapKey=ph;var kn=class kn{constructor(){this.nested=new Map,this.final=new Map}get(t,r=0,o=t.length){var i;let a=o<6+r,u=(0,gt.binaryMapKey)(t,r,o);return a?this.final.get(u):(i=this.nested.get(u))==null?void 0:i.get(t,6+r,o)}set(t,r){let o=(0,gt.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,r);return}let u=this.nested.get(o);if(u instanceof kn)u.set(t.subarray(6),r);else{let i=new kn;i.set(t.subarray(6),r),this.nested.set(o,i)}}};n(kn,"BinaryMap");var zs=kn;gt.BinaryMap=zs;var _t=new Int32Array(128),Me=new Int32Array(128);function mh(e,t,r){var l;if(r===1)return[t.get(e)];let o=2147483647,a=-1;for(;_t.length<r*2;)Me=new Int32Array(Me.length*2),_t=new Int32Array(_t.length*2);for(let c=0;c<r-1;c++){let p=(l=t.get(e,c,c+2))!=null?l:2147483647;p<o&&(o=p,a=c),Me[c]=c,_t[c]=p}Me[r-1]=r-1,_t[r-1]=2147483647,Me[r]=r,_t[r]=2147483647;let u=r+1;function i(c,p=0){if(c+p+2<u){let m=t.get(e,Me[c],Me[c+p+2]);if(m!==void 0)return m}return 2147483647}for(n(i,"getRank");o!==2147483647;){_t[Me[a]]=i(a,1),a>0&&(_t[Me[a-1]]=i(a-1,1));for(let c=a+1;c<u-1;c++)Me[c]=Me[c+1];u--,a=-1,o=2147483647;for(let c=0;c<u-1;c++){let p=_t[Me[c]];_t[Me[c]]<o&&(o=p,a=c)}}let s=[];for(let c=0;c<u-1;c++)s.push(t.get(e,Me[c],Me[c+1]));return s}n(mh,"bytePairEncode");gt.bytePairEncode=mh});var Yc=ne(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.makeTextEncoder=void 0;var Zs=class Zs{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let r=this.encoder.encode(t);return this.length=r.length,r}};n(Zs,"UniversalTextEncoder");var Hs=Zs,Js=class Js{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};n(Js,"NodeTextEncoder");var qs=Js,dh=n(()=>typeof Buffer<"u"?new qs:new Hs,"makeTextEncoder");Fo.makeTextEncoder=dh});var Qc=ne(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.LRUCache=void 0;var Qs=class Qs{constructor(t){this.size=t,this.nodes=new Map}get(t){let r=this.nodes.get(t);if(r)return this.moveToHead(r),r.value}set(t,r){let o=this.nodes.get(t);if(o)o.value=r,this.moveToHead(o);else{let a=new Ys(t,r);this.nodes.set(t,a),this.addNode(a),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};n(Qs,"LRUCache");var Xs=Qs;Oo.LRUCache=Xs;var ea=class ea{constructor(t,r){this.key=t,this.value=r}};n(ea,"Node");var Ys=ea});var na=ne(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.TikTokenizer=void 0;var fh=require("fs"),_h=require("util"),Ro=Xc(),gh=Yc(),hh=Qc();function yh(e){let t=new Map;try{let o=fh.readFileSync(e,"utf-8");return r(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function r(o){for(let a of o.split(/[\r\n]+/)){if(a.trim()==="")continue;let u=a.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let i=new Uint8Array(Buffer.from(u[0],"base64")),s=parseInt(u[1]);if(!isNaN(s))t.set(i,s);else throw new Error(`Can't parse ${u[1]} to integer`)}}n(r,"processBpeRanks")}n(yh,"loadTikTokenBpe");function bh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}n(bh,"escapeRegExp");var ra=class ra{constructor(t,r,o,a=8192){this.textEncoder=(0,gh.makeTextEncoder)(),this.textDecoder=new _h.TextDecoder("utf-8"),this.cache=new hh.LRUCache(a);let u=typeof t=="string"?yh(t):t;this.init(u,r,o)}init(t,r,o){this.encoder=new Ro.BinaryMap;for(let[a,u]of t)this.encoder.set(a,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(a=>bh(a)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[a,u]of t)this.decoder.set(u,a);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[a,u]of r)this.specialTokensDecoder.set(u,a)}findNextSpecialToken(t,r,o){let a=r,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(a).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)a+=u.index+1;let i=u?a+u.index:t.length;return[u,i]}encode(t,r){let o=[],a=0;for(;;){let u,i;if([u,i]=this.findNextSpecialToken(t,a,r),i>a&&this.encodeByIndex(t,o,a,i),u){if(a=a+this.encodeSpecialToken(o,u),a>=t.length)break}else break}return o}encodeSpecialToken(t,r){var a;let o=(a=this.specialTokensEncoder)==null?void 0:a.get(r[0]);return t.push(o),r.index+r[0].length}encodeByIndex(t,r,o,a){let u,i=t.substring(o,a);for(this.regex.lastIndex=0;u=this.regex.exec(i);){let s=this.cache.get(u[0]);if(s)for(let l of s)r.push(l);else{let l=this.textEncoder.encode(u[0]),c=this.encoder.get(l,0,this.textEncoder.length);if(c!==void 0)r.push(c),this.cache.set(u[0],[c]);else{let p=(0,Ro.bytePairEncode)(l,this.encoder,this.textEncoder.length);for(let m of p)r.push(m);this.cache.set(u[0],p)}}}}encodeTrimSuffixByIndex(t,r,o,a,u,i,s){let l,c=t.substring(o,a);for(this.regex.lastIndex=0;l=this.regex.exec(c);){let p=l[0],m=this.cache.get(p);if(m)if(i+m.length<=u)i+=m.length,s+=p.length,r.push(...m);else{let f=u-i;i+=f,s+=p.length,r.push(...m.slice(0,f));break}else{let f=this.textEncoder.encode(p),g=this.encoder.get(f,0,f.length);if(g!==void 0)if(this.cache.set(p,[g]),i+1<=u)i++,s+=p.length,r.push(g);else break;else{let h=(0,Ro.bytePairEncode)(f,this.encoder,this.textEncoder.length);if(this.cache.set(p,h),i+h.length<=u){i+=h.length,s+=p.length;for(let I of h)r.push(I)}else{let I=u-i;i+=I,s+=p.length;for(let x=0;x<I;x++)r.push(h[x]);break}}}if(i>=u)break}return{tokenCount:i,encodeLength:s}}encodeTrimSuffix(t,r,o){let a=[],u=0,i=0,s=0;for(;;){let c,p;if([c,p]=this.findNextSpecialToken(t,u,o),p>u){let{tokenCount:m,encodeLength:f}=this.encodeTrimSuffixByIndex(t,a,u,p,r,i,s);if(i=m,s=f,i>=r)break}if(c!==null){if(i++,i<=r&&(u=u+this.encodeSpecialToken(a,c),s+=c[0].length,u>=t.length)||i>=r)break}else break}let l=s===t.length?t:t.slice(0,s);return{tokenIds:a,text:l}}encodeTrimPrefix(t,r,o){let a=[],u=0,i=0,s=0,l=new Map;for(l.set(i,s);;){let f,g;if([f,g]=this.findNextSpecialToken(t,u,o),g>u){let h,I=t.substring(u,g);for(this.regex.lastIndex=0;h=this.regex.exec(I);){let x=h[0],w=this.cache.get(x);if(w)i+=w.length,s+=x.length,a.push(...w),l.set(i,s);else{let k=this.textEncoder.encode(x),M=this.encoder.get(k);if(M!==void 0)this.cache.set(x,[M]),i++,s+=x.length,a.push(M),l.set(i,s);else{let T=(0,Ro.bytePairEncode)(k,this.encoder,this.textEncoder.length);this.cache.set(x,T),i+=T.length,s+=x.length;for(let L of T)a.push(L);l.set(i,s)}}}}if(f!==null){if(u=u+this.encodeSpecialToken(a,f),i++,s+=f[0].length,l.set(i,s),u>=t.length)break}else break}if(i<=r)return{tokenIds:a,text:t};let c=i-r,p=0,m=0;for(let[f,g]of l)if(f>=c){p=f,m=g;break}if(p>r){let f=this.encode(t,o),g=f.slice(f.length-r);return{tokenIds:g,text:this.decode(g)}}return{tokenIds:a.slice(p),text:t.slice(m)}}decode(t){var o,a;let r=[];for(let u of t){let i=[],s=(o=this.decoder)==null?void 0:o.get(u);if(s!==void 0)i=Array.from(s);else{let l=(a=this.specialTokensDecoder)==null?void 0:a.get(u);if(l!==void 0){let c=this.textEncoder.encode(l);i=Array.from(c.subarray(0,this.textEncoder.length))}}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};n(ra,"TikTokenizer");var ta=ra;Co.TikTokenizer=ta});var lp=ne(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.createTokenizer=ue.createByEncoderName=ue.createByModelName=ue.getRegexByModel=ue.getRegexByEncoder=ue.getSpecialTokensByModel=ue.getSpecialTokensByEncoder=ue.MODEL_TO_ENCODING=void 0;var Uo=require("fs"),oa=require("path"),Ih=na(),xh=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);ue.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var Ao="<|endoftext|>",ep="<|fim_prefix|>",tp="<|fim_middle|>",rp="<|fim_suffix|>",np="<|endofprompt|>",Fn="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",op="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",wh=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],ip=wh.join("|");function ia(e){let t="";if(ue.MODEL_TO_ENCODING.has(e))t=ue.MODEL_TO_ENCODING.get(e);else for(let[r,o]of xh)if(e.startsWith(r)){t=o;break}return t}n(ia,"getEncoderFromModelName");async function Sh(e,t){let r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${r.status}`);let o=await r.text();Uo.writeFileSync(t,o)}n(Sh,"fetchAndSaveFile");function sa(e){let t=new Map([[Ao,50256]]);switch(e){case"o200k_base":t=new Map([[Ao,199999],[np,200018]]);break;case"cl100k_base":t=new Map([[Ao,100257],[ep,100258],[tp,100259],[rp,100260],[np,100276]]);break;case"p50k_edit":t=new Map([[Ao,50256],[ep,50281],[tp,50282],[rp,50283]]);break;default:break}return t}n(sa,"getSpecialTokensByEncoder");ue.getSpecialTokensByEncoder=sa;function Eh(e){let t=ia(e);return sa(t)}n(Eh,"getSpecialTokensByModel");ue.getSpecialTokensByModel=Eh;function sp(e){switch(e){case"o200k_base":return ip;case"cl100k_base":return op;default:break}return Fn}n(sp,"getRegexByEncoder");ue.getRegexByEncoder=sp;function Th(e){let t=ia(e);return sp(t)}n(Th,"getRegexByModel");ue.getRegexByModel=Th;async function vh(e,t=null){return ap(ia(e),t)}n(vh,"createByModelName");ue.createByModelName=vh;async function ap(e,t=null){let r,o,a=sa(e);switch(e){case"o200k_base":r=ip,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":r=op,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=Fn,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=Fn,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=Fn,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=Fn,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(a=new Map([...a,...t]));let u=oa.basename(o),i=oa.resolve(__dirname,"..","model");Uo.existsSync(i)||Uo.mkdirSync(i,{recursive:!0});let s=oa.resolve(i,u);return Uo.existsSync(s)||(console.log(`Downloading file from ${o}`),await Sh(o,s),console.log(`Saved file to ${s}`)),up(s,a,r)}n(ap,"createByEncoderName");ue.createByEncoderName=ap;function up(e,t,r,o=8192){return new Ih.TikTokenizer(e,t,r,o)}n(up,"createTokenizer");ue.createTokenizer=up});var cp=ne(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.createTokenizer=le.createByEncoderName=le.createByModelName=le.getSpecialTokensByModel=le.getSpecialTokensByEncoder=le.getRegexByModel=le.getRegexByEncoder=le.MODEL_TO_ENCODING=le.TikTokenizer=void 0;var Mh=na();Object.defineProperty(le,"TikTokenizer",{enumerable:!0,get:n(function(){return Mh.TikTokenizer},"get")});var Zt=lp();Object.defineProperty(le,"MODEL_TO_ENCODING",{enumerable:!0,get:n(function(){return Zt.MODEL_TO_ENCODING},"get")});Object.defineProperty(le,"getRegexByEncoder",{enumerable:!0,get:n(function(){return Zt.getRegexByEncoder},"get")});Object.defineProperty(le,"getRegexByModel",{enumerable:!0,get:n(function(){return Zt.getRegexByModel},"get")});Object.defineProperty(le,"getSpecialTokensByEncoder",{enumerable:!0,get:n(function(){return Zt.getSpecialTokensByEncoder},"get")});Object.defineProperty(le,"getSpecialTokensByModel",{enumerable:!0,get:n(function(){return Zt.getSpecialTokensByModel},"get")});Object.defineProperty(le,"createByModelName",{enumerable:!0,get:n(function(){return Zt.createByModelName},"get")});Object.defineProperty(le,"createByEncoderName",{enumerable:!0,get:n(function(){return Zt.createByEncoderName},"get")});Object.defineProperty(le,"createTokenizer",{enumerable:!0,get:n(function(){return Zt.createTokenizer},"get")})});function it(e="cl100k_base"){let t=pp.get(e);return t!==void 0||(e==="mock"?t=new aa:t=new Bo(e),pp.set(e,t)),t}function Lh(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,mp.readFileSync)(e,"utf-8"),r=new Map;for(let o of t.split(`
`)){if(!o)continue;let a=Buffer.from(o,"base64");r.set(a,r.size)}return r}var Wr,mp,dp,Do,pp,ua,Bo,la,aa,fp=d(()=>{"use strict";ko();Wr=yn(cp()),mp=require("fs"),dp=require("path"),Do=(o=>(o.cl100k="cl100k_base",o.o200k="o200k_base",o.mock="mock",o))(Do||{}),pp=new Map;n(it,"getTokenizer");n(Lh,"parseTikTokenNoIndex");ua=class ua{constructor(t){try{this._tokenizer=(0,Wr.createTokenizer)(Lh((0,dp.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,Wr.getSpecialTokensByEncoder)(t),(0,Wr.getRegexByEncoder)(t),32768)}catch(r){throw r instanceof Error?new qt("Could not load tokenizer",r):r}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,r){if(r<=0)return"";let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(-u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(-u),s=this.tokenize(i);return s.length<r?t:(s=s.slice(-r),this.detokenize(s))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let o=4,a=1,u=Math.min(t.length,r*o),i=t.slice(0,u),s=this.tokenize(i);for(;s.length<r+2&&u<t.length;)u=Math.min(t.length,u+r*a),i=t.slice(0,u),s=this.tokenize(i);return s.length<r?{text:t,tokens:s}:(s=s.slice(0,r),{text:this.detokenize(s),tokens:s})}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(ua,"TTokenizer");Bo=ua,la=class la{constructor(){this.hash=n(t=>{let r=0;for(let o=0;o<t.length;o++){let a=t.charCodeAt(o);r=(r<<5)-r+a,r&=r&65535}return r},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let o=this.tokenizeStrings(t).slice(0,r);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,r){let o=this.takeLastTokens(t,r);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let a=o.indexOf(`
`);return o.substring(a+1)}};n(la,"MockTokenizer");aa=la});var Kr=d(()=>{"use strict";fp()});var jo,Gr,ca=d(()=>{"use strict";Kr();jo=class jo{constructor(t,r,o=it().tokenLength(t+`
`),a="strict"){this.text=t;this._value=r;this._cost=o;if(t.includes(`
`)&&a!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&a!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&a!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(a=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>it().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new jo(this.text,this.value,this.cost,"none")}};n(jo,"LineWithValueAndCost");Gr=jo});function Ph(e,t,r,o,a,u){var m,f,g,h,I,x,w,k,M,T,L,O,R;if(u.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");a==="removeLeastBangForBuck"&&e.forEach(E=>E.adjustValue(1/E.cost));let i=e.reduce((E,F)=>Math.max(E,F.value),0)+1,s=e.reduce((E,F)=>Math.max(E,F.text.length),0)+1,l=r.trim(),c=e.reduce((E,F)=>E+F.cost,0),p=e.length+1;for(;c>t&&p-->=-1;){let E=e.reduce((Le,Kt)=>Kt.value<Le.value?Kt:Le),F=e.indexOf(E),ge=(m=e.slice(0,F+1).reverse().find(Le=>Le.text.trim()!==""))!=null?m:{text:""},pr=o?Math.min((g=(f=ge.text.match(/^\s*/))==null?void 0:f[0].length)!=null?g:0,((h=e[F-1])==null?void 0:h.text.trim())===l?(w=(x=(I=e[F-1])==null?void 0:I.text.match(/^\s*/))==null?void 0:x[0].length)!=null?w:0:s,((k=e[F+1])==null?void 0:k.text.trim())===l?(L=(T=(M=e[F+1])==null?void 0:M.text.match(/^\s*/))==null?void 0:T[0].length)!=null?L:0:s):0,Wt=" ".repeat(pr)+r,pt=new Gr(Wt,i,u.tokenLength(Wt+`
`),"loose");e.splice(F,1,pt),((O=e[F+1])==null?void 0:O.text.trim())===l&&e.splice(F+1,1),((R=e[F-1])==null?void 0:R.text.trim())===l&&e.splice(F-1,1);let rt=e.reduce((Le,Kt)=>Le+Kt.cost,0);rt>=c&&e.every(Le=>Le.value===i)&&(o=!1),c=rt}if(p<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(E=>E.text).join(`
`)}var Vo,Nn,Ws=d(()=>{"use strict";Gs();ca();Kr();Vo=class Vo{constructor(t){this.lines=[];let r=[];for(let o of t){let a=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(i=>r.push(new Gr(i,a))):u instanceof Vo?u.lines.forEach(i=>r.push(i.copy().adjustValue(a))):"source"in u&&"languageId"in u&&Ks(u).lines.forEach(i=>r.push(i.copy().adjustValue(a)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>it().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",o=!0,a="removeLeastDesirable",u=it()){let i=this.lines.map(s=>s.copy());return Ph(i,t,r,o,a,u)}};n(Vo,"ElidableText");Nn=Vo;n(Ph,"makePrompt")});function st(){}function _p(e,t,r,o,a){for(var u=[],i;t;)u.push(t),i=t.previousComponent,delete t.previousComponent,t=i;u.reverse();for(var s=0,l=u.length,c=0,p=0;s<l;s++){var m=u[s];if(m.removed)m.value=e.join(o.slice(p,p+m.count)),p+=m.count;else{if(!m.added&&a){var f=r.slice(c,c+m.count);f=f.map(function(g,h){var I=o[p+h];return I.length>g.length?I:g}),m.value=e.join(f)}else m.value=e.join(r.slice(c,c+m.count));c+=m.count,m.added||(p+=m.count)}}return u}function gp(e,t){var r;for(r=0;r<e.length&&r<t.length;r++)if(e[r]!=t[r])return e.slice(0,r);return e.slice(0,r)}function hp(e,t){var r;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(r=0;r<e.length&&r<t.length;r++)if(e[e.length-(r+1)]!=t[t.length-(r+1)])return e.slice(-r);return e.slice(-r)}function ma(e,t,r){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return r+e.slice(t.length)}function da(e,t,r){if(!t)return e+r;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+r}function On(e,t){return ma(e,t,"")}function Wo(e,t){return da(e,t,"")}function yp(e,t){return t.slice(0,Nh(e,t))}function Nh(e,t){var r=0;e.length>t.length&&(r=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var a=Array(o),u=0;a[0]=0;for(var i=1;i<o;i++){for(t[i]==t[u]?a[i]=a[u]:a[i]=u;u>0&&t[i]!=t[u];)u=a[u];t[i]==t[u]&&u++}u=0;for(var s=r;s<e.length;s++){for(;u>0&&e[s]!=t[u];)u=a[u];e[s]==t[u]&&u++}return u}function bp(e,t,r,o){if(t&&r){var a=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],i=r.value.match(/^\s*/)[0],s=r.value.match(/\s*$/)[0];if(e){var l=gp(a,i);e.value=da(e.value,i,l),t.value=On(t.value,l),r.value=On(r.value,l)}if(o){var c=hp(u,s);o.value=ma(o.value,s,c),t.value=Wo(t.value,c),r.value=Wo(r.value,c)}}else if(r)e&&(r.value=r.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var p=o.value.match(/^\s*/)[0],m=t.value.match(/^\s*/)[0],f=t.value.match(/\s*$/)[0],g=gp(p,m);t.value=On(t.value,g);var h=hp(On(p,g),f);t.value=Wo(t.value,h),o.value=ma(o.value,p,h),e.value=da(e.value,p,p.slice(0,p.length-h.length))}else if(o){var I=o.value.match(/^\s*/)[0],x=t.value.match(/\s*$/)[0],w=yp(x,I);t.value=Wo(t.value,w)}else if(e){var k=e.value.match(/\s*$/)[0],M=t.value.match(/^\s*/)[0],T=yp(k,M);t.value=On(t.value,T)}}function Ip(e,t,r){return $o.diff(e,t,r)}function xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,o)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(r),!0).forEach(function(o){Uh(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xp(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function Ch(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(e){var t=Ch(e,"string");return typeof t=="symbol"?t:t+""}function fa(e){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fa(e)}function Uh(e,t,r){return t=Ah(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pa(e){return Bh(e)||Dh(e)||jh(e)||Vh()}function Bh(e){if(Array.isArray(e))return _a(e)}function Dh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jh(e,t){if(e){if(typeof e=="string")return _a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _a(e,t)}}function _a(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function Vh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ga(e,t,r,o,a){t=t||[],r=r||[],o&&(e=o(a,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var i;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),i=new Array(e.length),r.push(i),u=0;u<e.length;u+=1)i[u]=ga(e[u],t,r,o,a);return t.pop(),r.pop(),i}if(e&&e.toJSON&&(e=e.toJSON()),fa(e)==="object"&&e!==null){t.push(e),i={},r.push(i);var s=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(l);for(s.sort(),u=0;u<s.length;u+=1)l=s[u],i[l]=ga(e[l],t,r,o,l);t.pop(),r.pop()}else i=e;return i}function Sp(e,t,r,o,a,u,i){if(i||(i={}),typeof i=="function"&&(i={callback:i}),typeof i.context>"u"&&(i.context=4),i.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(i.callback){var s=i,l=s.callback;Ip(r,o,wp(wp({},i),{},{callback:n(function(m){var f=c(m);l(f)},"callback")}))}else return c(Ip(r,o,i));function c(p){if(!p)return;p.push({value:"",lines:[]});function m(E){return E.map(function(F){return" "+F})}n(m,"contextLines");for(var f=[],g=0,h=0,I=[],x=1,w=1,k=n(function(){var F=p[M],ge=F.lines||Wh(F.value);if(F.lines=ge,F.added||F.removed){var pr;if(!g){var Wt=p[M-1];g=x,h=w,Wt&&(I=i.context>0?m(Wt.lines.slice(-i.context)):[],g-=I.length,h-=I.length)}(pr=I).push.apply(pr,pa(ge.map(function(gn){return(F.added?"+":"-")+gn}))),F.added?w+=ge.length:x+=ge.length}else{if(g)if(ge.length<=i.context*2&&M<p.length-2){var pt;(pt=I).push.apply(pt,pa(m(ge)))}else{var rt,Le=Math.min(ge.length,i.context);(rt=I).push.apply(rt,pa(m(ge.slice(0,Le))));var Kt={oldStart:g,oldLines:x-g+Le,newStart:h,newLines:w-h+Le,lines:I};f.push(Kt),g=0,h=0,I=[]}x+=ge.length,w+=ge.length}},"_loop"),M=0;M<p.length;M++)k();for(var T=0,L=f;T<L.length;T++)for(var O=L[T],R=0;R<O.lines.length;R++)O.lines[R].endsWith(`
`)?O.lines[R]=O.lines[R].slice(0,-1):(O.lines.splice(R+1,0,"\\ No newline at end of file"),R++);return{oldFileName:e,newFileName:t,oldHeader:a,newHeader:u,hunks:f}}n(c,"diffLinesResultToPatch")}function Wh(e){var t=e.endsWith(`
`),r=e.split(`
`).map(function(o){return o+`
`});return t?r.pop():r.push(r.pop().slice(0,-1)),r}var yT,Ko,kh,Go,Fh,$o,Oh,Rh,Rn,ha,Ep=d(()=>{n(st,"Diff");st.prototype={diff:n(function(t,r){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=a.callback;typeof a=="function"&&(u=a,a={});var i=this;function s(T){return T=i.postProcess(T,a),u?(setTimeout(function(){u(T)},0),!0):T}n(s,"done"),t=this.castInput(t,a),r=this.castInput(r,a),t=this.removeEmpty(this.tokenize(t,a)),r=this.removeEmpty(this.tokenize(r,a));var l=r.length,c=t.length,p=1,m=l+c;a.maxEditLength!=null&&(m=Math.min(m,a.maxEditLength));var f=(o=a.timeout)!==null&&o!==void 0?o:1/0,g=Date.now()+f,h=[{oldPos:-1,lastComponent:void 0}],I=this.extractCommon(h[0],r,t,0,a);if(h[0].oldPos+1>=c&&I+1>=l)return s(_p(i,h[0].lastComponent,r,t,i.useLongestToken));var x=-1/0,w=1/0;function k(){for(var T=Math.max(x,-p);T<=Math.min(w,p);T+=2){var L=void 0,O=h[T-1],R=h[T+1];O&&(h[T-1]=void 0);var E=!1;if(R){var F=R.oldPos-T;E=R&&0<=F&&F<l}var ge=O&&O.oldPos+1<c;if(!E&&!ge){h[T]=void 0;continue}if(!ge||E&&O.oldPos<R.oldPos?L=i.addToPath(R,!0,!1,0,a):L=i.addToPath(O,!1,!0,1,a),I=i.extractCommon(L,r,t,T,a),L.oldPos+1>=c&&I+1>=l)return s(_p(i,L.lastComponent,r,t,i.useLongestToken));h[T]=L,L.oldPos+1>=c&&(w=Math.min(w,T-1)),I+1>=l&&(x=Math.max(x,T+1))}p++}if(n(k,"execEditLength"),u)n(function T(){setTimeout(function(){if(p>m||Date.now()>g)return u();k()||T()},0)},"exec")();else for(;p<=m&&Date.now()<=g;){var M=k();if(M)return M}},"diff"),addToPath:n(function(t,r,o,a,u){var i=t.lastComponent;return i&&!u.oneChangePerToken&&i.added===r&&i.removed===o?{oldPos:t.oldPos+a,lastComponent:{count:i.count+1,added:r,removed:o,previousComponent:i.previousComponent}}:{oldPos:t.oldPos+a,lastComponent:{count:1,added:r,removed:o,previousComponent:i}}},"addToPath"),extractCommon:n(function(t,r,o,a,u){for(var i=r.length,s=o.length,l=t.oldPos,c=l-a,p=0;c+1<i&&l+1<s&&this.equals(o[l+1],r[c+1],u);)c++,l++,p++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return p&&!u.oneChangePerToken&&(t.lastComponent={count:p,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,c},"extractCommon"),equals:n(function(t,r,o){return o.comparator?o.comparator(t,r):t===r||o.ignoreCase&&t.toLowerCase()===r.toLowerCase()},"equals"),removeEmpty:n(function(t){for(var r=[],o=0;o<t.length;o++)t[o]&&r.push(t[o]);return r},"removeEmpty"),castInput:n(function(t){return t},"castInput"),tokenize:n(function(t){return Array.from(t)},"tokenize"),join:n(function(t){return t.join("")},"join"),postProcess:n(function(t){return t},"postProcess")};n(_p,"buildValues");yT=new st;n(gp,"longestCommonPrefix");n(hp,"longestCommonSuffix");n(ma,"replacePrefix");n(da,"replaceSuffix");n(On,"removePrefix");n(Wo,"removeSuffix");n(yp,"maximumOverlap");n(Nh,"overlapCount");Ko="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",kh=new RegExp("[".concat(Ko,"]+|\\s+|[^").concat(Ko,"]"),"ug"),Go=new st;Go.equals=function(e,t,r){return r.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Go.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else r=e.match(kh)||[];var o=[],a=null;return r.forEach(function(u){/\s/.test(u)?a==null?o.push(u):o.push(o.pop()+u):/\s/.test(a)?o[o.length-1]==a?o.push(o.pop()+u):o.push(a+u):o.push(u),a=u}),o};Go.join=function(e){return e.map(function(t,r){return r==0?t:t.replace(/^\s+/,"")}).join("")};Go.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var r=null,o=null,a=null;return e.forEach(function(u){u.added?o=u:u.removed?a=u:((o||a)&&bp(r,a,o,u),r=u,o=null,a=null)}),(o||a)&&bp(r,a,o,null),e};n(bp,"dedupeWhitespaceInChangeObjects");Fh=new st;Fh.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Ko,"]+|[^\\S\\n\\r]+|[^").concat(Ko,"]"),"ug");return e.match(t)||[]};$o=new st;$o.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var r=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var a=0;a<o.length;a++){var u=o[a];a%2&&!t.newlineIsToken?r[r.length-1]+=u:r.push(u)}return r};$o.equals=function(e,t,r){return r.ignoreWhitespace?((!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),st.prototype.equals.call(this,e,t,r)};n(Ip,"diffLines");Oh=new st;Oh.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};Rh=new st;Rh.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};n(xp,"ownKeys");n(wp,"_objectSpread2");n(Ch,"_toPrimitive");n(Ah,"_toPropertyKey");n(fa,"_typeof");n(Uh,"_defineProperty");n(pa,"_toConsumableArray");n(Bh,"_arrayWithoutHoles");n(Dh,"_iterableToArray");n(jh,"_unsupportedIterableToArray");n(_a,"_arrayLikeToArray");n(Vh,"_nonIterableSpread");Rn=new st;Rn.useLongestToken=!0;Rn.tokenize=$o.tokenize;Rn.castInput=function(e,t){var r=t.undefinedReplacement,o=t.stringifyReplacer,a=o===void 0?function(u,i){return typeof i>"u"?r:i}:o;return typeof e=="string"?e:JSON.stringify(ga(e,null,null,a),a,"  ")};Rn.equals=function(e,t,r){return st.prototype.equals.call(Rn,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),r)};n(ga,"canonicalize");ha=new st;ha.tokenize=function(e){return e.slice()};ha.join=ha.removeEmpty=function(e){return e};n(Sp,"structuredPatch");n(Wh,"splitLines")});function Gh(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let o=Sp("","",e,t),a=new Set,u=new Set;for(let l of o.hunks){for(let c=l.oldStart;c<l.oldStart+l.oldLines;c++)a.add(c);for(let c=l.newStart;c<l.newStart+l.newLines;c++)u.add(c)}let i=dt(ft(Ht(e,r)),()=>!1),s=dt(ft(Ht(t,r)),()=>!1);return oe(i,l=>{(l.type==="line"||l.type==="blank")&&a.has(l.lineNumber)&&(l.label=!0)},"topDown"),oe(s,l=>{(l.type==="line"||l.type==="blank")&&u.has(l.lineNumber)&&(l.label=!0)},"topDown"),[Vr(i),Vr(s)]}var Tp=d(()=>{"use strict";No();Pn();Ep();n(Gh,"elidableTextForDiff")});var vp=d(()=>{"use strict";Ws();Tp();No();Gs();ca()});function Hh({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function Cn(e,t){var o;let r=(o=ya[t])!=null?o:$h;if(r){let a=r.end==""?"":" "+r.end;return`${r.start} ${e}${a}`}return""}function Jt(e,t){if(e==="")return"";let r=e.endsWith(`
`),a=(r?e.slice(0,-1):e).split(`
`).map(u=>Cn(u,t)).join(`
`);return r?a+`
`:a}function Lp(e){let{languageId:t}=e;return zh.indexOf(t)===-1&&!Hh(e)?t in Mp?Mp[t]:Cn(`Language: ${t}`,t):""}function Pp(e){return e.relativePath?Cn(`Path: ${e.relativePath}`,e.languageId):""}function at(e){return e===""||e.endsWith(`
`)?e:e+`
`}var ya,$h,zh,Mp,Mt=d(()=>{"use strict";ya={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},$h={start:"//",end:""},zh=["php","plaintext"],Mp={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};n(Hh,"hasLanguageMarker");n(Cn,"comment");n(Jt,"commentBlockAsSingles");n(Lp,"getLanguageMarker");n(Pp,"getPathMarker");n(at,"newLineEnded")});function Zh(e){return{...qh,...e}}function hr(e,t={}){let r=Zh(t),o=it(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let a=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(a=a.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(a=o.takeLastLinesTokens(a,r.maxTokenLength)),{context:a,lineCount:a.split(`
`).length,tokenLength:o.tokenLength(a),tokenizerName:r.tokenizerName}}var qh,zo=d(()=>{"use strict";Kr();qh={tokenizerName:"cl100k_base"};n(Zh,"cursorContextOptions");n(hr,"getCursorContext")});function Jh(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}var xa,ba,wa,Ia,Np,Sa,$r,Xh,Yh,Qh,Ho=d(()=>{"use strict";Pt();xa=class xa{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,r){var o;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let a=(o=this.keys.shift())!=null?o:"";delete this.cache[a]}}get(t){return this.cache[t]}};n(xa,"FifoCache");ba=xa,wa=class wa{constructor(t){var r;this.stopsForLanguage=(r=Qh.get(t.languageId))!=null?r:Yh}tokenize(t){return new Set(Jh(t).filter(r=>!this.stopsForLanguage.has(r)))}};n(wa,"Tokenizer");Ia=wa,Np=new ba(20),Sa=class Sa{constructor(t){this.referenceDoc=t,this.tokenizer=new Ia(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((o,a)=>o.score>a.score?1:-1):r=="descending"?t.sort((o,a)=>o.score>a.score?-1:1):t}async retrieveAllSnippets(t,r="descending"){var c;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let a=t.source.split(`
`),u=this.id()+":"+t.source,i=(c=Np.get(u))!=null?c:[],s=i.length==0,l=s?a.map(p=>this.tokenizer.tokenize(p),this.tokenizer):[];for(let[p,[m,f]]of this.getWindowsDelineations(a).entries()){if(s){let I=new Set;l.slice(m,f).forEach(x=>x.forEach(w=>I.add(w),I)),i.push(I)}let g=i[p],h=this.similarityScore(g,await this.referenceTokens);if(o.length&&m>0&&o[o.length-1].endLine>m){o[o.length-1].score<h&&(o[o.length-1].score=h,o[o.length-1].startLine=m,o[o.length-1].endLine=f);continue}o.push({score:h,startLine:m,endLine:f})}return s&&Np.put(u,i),this.sortScoredSnippets(o,r)}findMatches(t,r){return this.findBestMatch(t,r)}async findBestMatch(t,r){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),a=await this.retrieveAllSnippets(t,"descending");if(a.length===0)return[];let u=[];for(let i=0;i<a.length&&i<r;i++)if(a[i].score!==0){let s=o.slice(a[i].startLine,a[i].endLine).join(`
`);u.push({snippet:s,semantics:"snippet",provider:"similar-files",...a[i]})}return u}};n(Sa,"WindowedMatcher");$r=Sa;n(Jh,"splitIntoWords");Xh=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Yh=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...Xh]),Qh=new Map([])});function qo(e,t){let r=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let a=0;a<o-e+1;a++)r.push([a,a+e]);return r}var Ea=d(()=>{"use strict";Ur();jr();n(qo,"getBasicWindowDelineations")});function ey(e,t){let r=new Set;return e.forEach(o=>{t.has(o)&&r.add(o)}),r.size/(e.size+t.size-r.size)}var An,Zo,kp=d(()=>{"use strict";zo();Ho();Ea();An=class An extends $r{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return qo(this.windowLength,t)}_getCursorContextInfo(t){return hr(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return ey(t,r)}};n(An,"FixedWindowSizeJaccardMatcher"),An.FACTORY=n(t=>({to:n(r=>new An(r,t),"to")}),"FACTORY");Zo=An;n(ey,"computeScore")});var Fp=ne((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=n((i,s)=>{throw s},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(i){return Module.locateFile?Module.locateFile(i,scriptDirectory):scriptDirectory+i}n(locateFile,"locateFile");function logExceptionOnExit(i){i instanceof ExitStatus||err("exiting due to exception: "+i)}if(n(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=n((i,s)=>(i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFileSync(i,s?void 0:"utf8")),"read_"),readBinary=n(i=>{var s=read_(i,!0);return s.buffer||(s=new Uint8Array(s)),s},"readBinary"),readAsync=n((i,s,l)=>{i=isFileURI(i)?new URL(i):nodePath.normalize(i),fs.readFile(i,function(c,p){c?l(c):s(p.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=n((i,s)=>{if(keepRuntimeAlive())throw process.exitCode=i,s;logExceptionOnExit(s),process.exit(i)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.send(null),s.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=n(i=>{var s=new XMLHttpRequest;return s.open("GET",i,!1),s.responseType="arraybuffer",s.send(null),new Uint8Array(s.response)},"readBinary")),readAsync=n((i,s,l)=>{var c=new XMLHttpRequest;c.open("GET",i,!0),c.responseType="arraybuffer",c.onload=()=>{c.status==200||c.status==0&&c.response?s(c.response):l()},c.onerror=l,c.send(null)},"readAsync"),setWindowTitle=n(i=>document.title=i,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(i,s,l){for(var c=s+l,p=s;i[p]&&!(p>=c);)++p;if(p-s>16&&i.buffer&&UTF8Decoder)return UTF8Decoder.decode(i.subarray(s,p));for(var m="";s<p;){var f=i[s++];if(128&f){var g=63&i[s++];if((224&f)!=192){var h=63&i[s++];if((f=(240&f)==224?(15&f)<<12|g<<6|h:(7&f)<<18|g<<12|h<<6|63&i[s++])<65536)m+=String.fromCharCode(f);else{var I=f-65536;m+=String.fromCharCode(55296|I>>10,56320|1023&I)}}else m+=String.fromCharCode((31&f)<<6|g)}else m+=String.fromCharCode(f)}return m}n(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(i,s){return i?UTF8ArrayToString(HEAPU8,i,s):""}n(UTF8ToString,"UTF8ToString");function stringToUTF8Array(i,s,l,c){if(!(c>0))return 0;for(var p=l,m=l+c-1,f=0;f<i.length;++f){var g=i.charCodeAt(f);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&i.charCodeAt(++f)),g<=127){if(l>=m)break;s[l++]=g}else if(g<=2047){if(l+1>=m)break;s[l++]=192|g>>6,s[l++]=128|63&g}else if(g<=65535){if(l+2>=m)break;s[l++]=224|g>>12,s[l++]=128|g>>6&63,s[l++]=128|63&g}else{if(l+3>=m)break;s[l++]=240|g>>18,s[l++]=128|g>>12&63,s[l++]=128|g>>6&63,s[l++]=128|63&g}}return s[l]=0,l-p}n(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(i,s,l){return stringToUTF8Array(i,HEAPU8,s,l)}n(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(i){for(var s=0,l=0;l<i.length;++l){var c=i.charCodeAt(l);c<=127?s++:c<=2047?s+=2:c>=55296&&c<=57343?(s+=4,++l):s+=3}return s}n(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(i){buffer=i,Module.HEAP8=HEAP8=new Int8Array(i),Module.HEAP16=HEAP16=new Int16Array(i),Module.HEAP32=HEAP32=new Int32Array(i),Module.HEAPU8=HEAPU8=new Uint8Array(i),Module.HEAPU16=HEAPU16=new Uint16Array(i),Module.HEAPU32=HEAPU32=new Uint32Array(i),Module.HEAPF32=HEAPF32=new Float32Array(i),Module.HEAPF64=HEAPF64=new Float64Array(i)}n(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}n(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}n(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}n(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}n(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}n(postRun,"postRun");function addOnPreRun(i){__ATPRERUN__.unshift(i)}n(addOnPreRun,"addOnPreRun");function addOnInit(i){__ATINIT__.unshift(i)}n(addOnInit,"addOnInit");function addOnPostRun(i){__ATPOSTRUN__.unshift(i)}n(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(i){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}n(addRunDependency,"addRunDependency");function removeRunDependency(i){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var s=dependenciesFulfilled;dependenciesFulfilled=null,s()}}n(removeRunDependency,"removeRunDependency");function abort(i){throw Module.onAbort&&Module.onAbort(i),err(i="Aborted("+i+")"),ABORT=!0,EXITSTATUS=1,i+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(i)}n(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(i){return i.startsWith(dataURIPrefix)}n(isDataURI,"isDataURI");function isFileURI(i){return i.startsWith("file://")}n(isFileURI,"isFileURI");function getBinary(i){try{if(i==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(s){abort(s)}}n(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return i.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(i,s){readAsync(wasmBinaryFile,function(l){i(new Uint8Array(l))},s)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}n(getBinaryPromise,"getBinaryPromise");function createWasm(){var i={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function s(p,m){var f=p.exports;f=relocateExports(f,1024);var g=getDylinkMetadata(m);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(f,"main"),Module.asm=f,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}n(s,"t");function l(p){s(p.instance,p.module)}n(l,"r");function c(p){return getBinaryPromise().then(function(m){return WebAssembly.instantiate(m,i)}).then(function(m){return m}).then(p,function(m){err("failed to asynchronously prepare wasm: "+m),abort(m)})}if(n(c,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(i,s)}catch(p){return err("Module.instantiateWasm callback failed with error: "+p),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?c(l):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(p){return WebAssembly.instantiateStreaming(p,i).then(l,function(m){return err("wasm streaming compile failed: "+m),err("falling back to ArrayBuffer instantiation"),c(l)})}),{}}n(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}n(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:n(function(i,s){var l=GOT[s];return l||(l=GOT[s]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(s)||(l.required=!0),l},"get")};function callRuntimeCallbacks(i){for(;i.length>0;)i.shift()(Module)}n(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(i){var s=0,l=0;function c(){for(var R=0,E=1;;){var F=i[s++];if(R+=(127&F)*E,E*=128,!(128&F))break}return R}n(c,"_");function p(){var R=c();return UTF8ArrayToString(i,(s+=R)-R,R)}n(p,"n");function m(R,E){if(R)throw new Error(E)}n(m,"s");var f="dylink.0";if(i instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(i,f);g.length===0&&(f="dylink",g=WebAssembly.Module.customSections(i,f)),m(g.length===0,"need dylink section"),l=(i=new Uint8Array(g[0])).length}else{m(new Uint32Array(new Uint8Array(i.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),m(i[8]!==0,"need the dylink section to be first"),s=9;var h=c();l=s+h,f=p()}var I={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(f=="dylink"){I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();for(var x=c(),w=0;w<x;++w){var k=p();I.neededDynlibs.push(k)}}else for(m(f!=="dylink.0");s<l;){var M=i[s++],T=c();if(M===1)I.memorySize=c(),I.memoryAlign=c(),I.tableSize=c(),I.tableAlign=c();else if(M===2)for(x=c(),w=0;w<x;++w)k=p(),I.neededDynlibs.push(k);else if(M===3)for(var L=c();L--;){var O=p();256&c()&&I.tlsExports.add(O)}else if(M===4)for(L=c();L--;)p(),O=p(),(3&c())==1&&I.weakImports.add(O);else s+=T}return I}n(getDylinkMetadata,"getDylinkMetadata");function getValue(i,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":case"i8":return HEAP8[i>>0];case"i16":return HEAP16[i>>1];case"i32":case"i64":return HEAP32[i>>2];case"float":return HEAPF32[i>>2];case"double":return HEAPF64[i>>3];case"*":return HEAPU32[i>>2];default:abort("invalid type for getValue: "+s)}return null}n(getValue,"getValue");function asmjsMangle(i){return i.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(i)?i:"_"+i}n(asmjsMangle,"asmjsMangle");function mergeLibSymbols(i,s){for(var l in i)if(i.hasOwnProperty(l)){asmLibraryArg.hasOwnProperty(l)||(asmLibraryArg[l]=i[l]);var c=asmjsMangle(l);Module.hasOwnProperty(c)||(Module[c]=i[l]),l=="__main_argc_argv"&&(Module._main=i[l])}}n(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(i,s,l){var c=Module["dynCall_"+i];return l&&l.length?c.apply(null,[s].concat(l)):c.call(null,s)}n(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(i){var s=wasmTableMirror[i];return s||(i>=wasmTableMirror.length&&(wasmTableMirror.length=i+1),wasmTableMirror[i]=s=wasmTable.get(i)),s}n(getWasmTableEntry,"getWasmTableEntry");function dynCall(i,s,l){return i.includes("j")?dynCallLegacy(i,s,l):getWasmTableEntry(s).apply(null,l)}n(dynCall,"dynCall");function createInvokeFunction(i){return function(){var s=stackSave();try{return dynCall(i,arguments[0],Array.prototype.slice.call(arguments,1))}catch(l){if(stackRestore(s),l!==l+0)throw l;_setThrew(1,0)}}}n(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(i,s){return HEAPU8.fill(0,i,i+s),i}n(zeroMemory,"zeroMemory");function getMemory(i){if(runtimeInitialized)return zeroMemory(_malloc(i),i);var s=___heap_base,l=s+i+15&-16;return ___heap_base=l,GOT.__heap_base.value=l,s}n(getMemory,"getMemory");function isInternalSym(i){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(i)}n(isInternalSym,"isInternalSym");function uleb128Encode(i,s){i<128?s.push(i):s.push(i%128|128,i>>7)}n(uleb128Encode,"uleb128Encode");function sigToWasmTypes(i){for(var s={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},l={parameters:[],results:i[0]=="v"?[]:[s[i[0]]]},c=1;c<i.length;++c)l.parameters.push(s[i[c]]),i[c]==="j"&&l.parameters.push("i32");return l}n(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(i,s){var l=i.slice(0,1),c=i.slice(1),p={i:127,p:127,j:126,f:125,d:124};s.push(96),uleb128Encode(c.length,s);for(var m=0;m<c.length;++m)s.push(p[c[m]]);l=="v"?s.push(0):s.push(1,p[l])}n(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(i,s){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(s),i);var l=[1];generateFuncType(s,l);var c=[0,97,115,109,1,0,0,0,1];uleb128Encode(l.length,c),c.push.apply(c,l),c.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var p=new WebAssembly.Module(new Uint8Array(c));return new WebAssembly.Instance(p,{e:{f:i}}).exports.f}n(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(i,s){if(functionsInTableMap)for(var l=i;l<i+s;l++){var c=getWasmTableEntry(l);c&&functionsInTableMap.set(c,l)}}n(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(i){throw i instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":i}return wasmTable.length-1}n(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(i,s){wasmTable.set(i,s),wasmTableMirror[i]=wasmTable.get(i)}n(setWasmTableEntry,"setWasmTableEntry");function addFunction(i,s){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(i))return functionsInTableMap.get(i);var l=getEmptyTableSlot();try{setWasmTableEntry(l,i)}catch(c){if(!(c instanceof TypeError))throw c;setWasmTableEntry(l,convertJsFunctionToWasm(i,s))}return functionsInTableMap.set(i,l),l}n(addFunction,"addFunction");function updateGOT(i,s){for(var l in i)if(!isInternalSym(l)){var c=i[l];l.startsWith("orig$")&&(l=l.split("$")[1],s=!0),GOT[l]||(GOT[l]=new WebAssembly.Global({value:"i32",mutable:!0})),(s||GOT[l].value==0)&&(typeof c=="function"?GOT[l].value=addFunction(c):typeof c=="number"?GOT[l].value=c:err("unhandled export type for `"+l+"`: "+typeof c))}}n(updateGOT,"updateGOT");function relocateExports(i,s,l){var c={};for(var p in i){var m=i[p];typeof m=="object"&&(m=m.value),typeof m=="number"&&(m+=s),c[p]=m}return updateGOT(c,l),c}n(relocateExports,"relocateExports");function resolveGlobalSymbol(i,s){var l;return s&&(l=asmLibraryArg["orig$"+i]),l||(l=asmLibraryArg[i])&&l.stub&&(l=void 0),l||(l=Module[asmjsMangle(i)]),!l&&i.startsWith("invoke_")&&(l=createInvokeFunction(i.split("_")[1])),l}n(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(i,s){return Math.ceil(i/s)*s}n(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(i){var s=resolveGlobalSymbol(i,!1);return s||(s=moduleExports[i]),s}n(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:n(function(i,s){switch(s){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(s in asmLibraryArg)return asmLibraryArg[s];var l;return s in i||(i[s]=function(){return l||(l=resolveSymbol(s)),l.apply(null,arguments)}),i[s]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(n(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(n(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(i){return postInstantiation(i.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return n(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(i){loadDynamicLibrary(i,flags)}),loadModule())}n(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(i,s,l){s=s||{global:!0,nodelete:!0};var c=LDSO.loadedLibsByName[i];if(c)return s.global&&!c.global&&(c.global=!0,c.module!=="loading"&&mergeLibSymbols(c.module,i)),s.nodelete&&c.refcount!==1/0&&(c.refcount=1/0),c.refcount++,l&&(LDSO.loadedLibsByHandle[l]=c),!s.loadAsync||Promise.resolve(!0);function p(g){if(s.fs&&s.fs.findObject(g)){var h=s.fs.readFile(g,{encoding:"binary"});return h instanceof Uint8Array||(h=new Uint8Array(h)),s.loadAsync?Promise.resolve(h):h}if(g=locateFile(g),s.loadAsync)return new Promise(function(I,x){readAsync(g,w=>I(new Uint8Array(w)),x)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}n(p,"n");function m(){if(typeof preloadedWasm<"u"&&preloadedWasm[i]){var g=preloadedWasm[i];return s.loadAsync?Promise.resolve(g):g}return s.loadAsync?p(i).then(function(h){return loadWebAssemblyModule(h,s,l)}):loadWebAssemblyModule(p(i),s,l)}n(m,"s");function f(g){c.global&&mergeLibSymbols(g,i),c.module=g}return n(f,"a"),c={refcount:s.nodelete?1/0:1,name:i,module:"loading",global:s.global},LDSO.loadedLibsByName[i]=c,l&&(LDSO.loadedLibsByHandle[l]=c),s.loadAsync?m().then(function(g){return f(g),!0}):(f(m()),!0)}n(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var i in GOT)if(GOT[i].value==0){var s=resolveGlobalSymbol(i,!0);if(!s&&!GOT[i].required)continue;if(typeof s=="function")GOT[i].value=addFunction(s,s.sig);else{if(typeof s!="number")throw new Error("bad export type for `"+i+"`: "+typeof s);GOT[i].value=s}}}n(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(i,s){return i.then(function(){return loadDynamicLibrary(s,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}n(preloadDylibs,"preloadDylibs");function setValue(i,s,l="i8"){switch(l.endsWith("*")&&(l="*"),l){case"i1":case"i8":HEAP8[i>>0]=s;break;case"i16":HEAP16[i>>1]=s;break;case"i32":HEAP32[i>>2]=s;break;case"i64":tempI64=[s>>>0,(tempDouble=s,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1];break;case"float":HEAPF32[i>>2]=s;break;case"double":HEAPF64[i>>3]=s;break;case"*":HEAPU32[i>>2]=s;break;default:abort("invalid type for setValue: "+l)}}n(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}n(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}n(_abort,"_abort");function _emscripten_date_now(){return Date.now()}n(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(i,s,l){HEAPU8.copyWithin(i,s,s+l)}n(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}n(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(i){try{return wasmMemory.grow(i-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}n(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(i){var s=HEAPU8.length;i>>>=0;var l=getHeapMax();if(i>l)return!1;for(var c=1;c<=4;c*=2){var p=s*(1+.2/c);if(p=Math.min(p,i+100663296),emscripten_realloc_buffer(Math.min(l,(m=Math.max(i,p))+((f=65536)-m%f)%f)))return!0}var m,f;return!1}n(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var i=process.hrtime();return 1e3*i[0]+i[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:n(function(i,s,l){if(PATH.isAbs(s))return s;var c;if(i===-100?c=FS.cwd():c=SYSCALLS.getStreamFromFD(i).path,s.length==0){if(!l)throw new FS.ErrnoError(44);return c}return PATH.join2(c,s)},"calculateAt"),doStat:n(function(i,s,l){try{var c=i(s)}catch(g){if(g&&g.node&&PATH.normalize(s)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[l>>2]=c.dev,HEAP32[l+8>>2]=c.ino,HEAP32[l+12>>2]=c.mode,HEAPU32[l+16>>2]=c.nlink,HEAP32[l+20>>2]=c.uid,HEAP32[l+24>>2]=c.gid,HEAP32[l+28>>2]=c.rdev,tempI64=[c.size>>>0,(tempDouble=c.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+40>>2]=tempI64[0],HEAP32[l+44>>2]=tempI64[1],HEAP32[l+48>>2]=4096,HEAP32[l+52>>2]=c.blocks;var p=c.atime.getTime(),m=c.mtime.getTime(),f=c.ctime.getTime();return tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+56>>2]=tempI64[0],HEAP32[l+60>>2]=tempI64[1],HEAPU32[l+64>>2]=p%1e3*1e3,tempI64=[Math.floor(m/1e3)>>>0,(tempDouble=Math.floor(m/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+72>>2]=tempI64[0],HEAP32[l+76>>2]=tempI64[1],HEAPU32[l+80>>2]=m%1e3*1e3,tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+88>>2]=tempI64[0],HEAP32[l+92>>2]=tempI64[1],HEAPU32[l+96>>2]=f%1e3*1e3,tempI64=[c.ino>>>0,(tempDouble=c.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l+104>>2]=tempI64[0],HEAP32[l+108>>2]=tempI64[1],0},"doStat"),doMsync:n(function(i,s,l,c,p){if(!FS.isFile(s.node.mode))throw new FS.ErrnoError(43);if(2&c)return 0;var m=HEAPU8.slice(i,i+l);FS.msync(s,m,p,l,c)},"doMsync"),varargs:void 0,get:n(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:n(function(i){return UTF8ToString(i)},"getStr"),getStreamFromFD:n(function(i){var s=FS.getStream(i);if(!s)throw new FS.ErrnoError(8);return s},"getStreamFromFD")};function _proc_exit(i){EXITSTATUS=i,keepRuntimeAlive()||(Module.onExit&&Module.onExit(i),ABORT=!0),quit_(i,new ExitStatus(i))}n(_proc_exit,"_proc_exit");function exitJS(i,s){EXITSTATUS=i,_proc_exit(i)}n(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(i){try{var s=SYSCALLS.getStreamFromFD(i);return FS.close(s),0}catch(l){if(typeof FS>"u"||!(l instanceof FS.ErrnoError))throw l;return l.errno}}n(_fd_close,"_fd_close");function convertI32PairToI53Checked(i,s){return s+2097152>>>0<4194305-!!i?(i>>>0)+4294967296*s:NaN}n(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(i,s,l,c,p){try{var m=convertI32PairToI53Checked(s,l);if(isNaN(m))return 61;var f=SYSCALLS.getStreamFromFD(i);return FS.llseek(f,m,c),tempI64=[f.position>>>0,(tempDouble=f.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[p>>2]=tempI64[0],HEAP32[p+4>>2]=tempI64[1],f.getdents&&m===0&&c===0&&(f.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}n(_fd_seek,"_fd_seek");function doWritev(i,s,l,c){for(var p=0,m=0;m<l;m++){var f=HEAPU32[s>>2],g=HEAPU32[s+4>>2];s+=8;var h=FS.write(i,HEAP8,f,g,c);if(h<0)return-1;p+=h,c!==void 0&&(c+=h)}return p}n(doWritev,"doWritev");function _fd_write(i,s,l,c){try{var p=doWritev(SYSCALLS.getStreamFromFD(i),s,l);return HEAPU32[c>>2]=p,0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}n(_fd_write,"_fd_write");function _tree_sitter_log_callback(i,s){if(currentLogCallback){let l=UTF8ToString(s);currentLogCallback(l,i!==0)}}n(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(i,s,l,c,p){var m=currentParseCallback(s,{row:l,column:c});typeof m=="string"?(setValue(p,m.length,"i32"),stringToUTF16(m,i,10240)):setValue(p,0,"i32")}n(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(i){if(i instanceof ExitStatus||i=="unwind")return EXITSTATUS;quit_(1,i)}n(handleException,"handleException");function allocateUTF8OnStack(i){var s=lengthBytesUTF8(i)+1,l=stackAlloc(s);return stringToUTF8Array(i,HEAP8,l,s),l}n(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(i,s,l){if(l===void 0&&(l=2147483647),l<2)return 0;for(var c=s,p=(l-=2)<2*i.length?l/2:i.length,m=0;m<p;++m){var f=i.charCodeAt(m);HEAP16[s>>1]=f,s+=2}return HEAP16[s>>1]=0,s-c}n(stringToUTF16,"stringToUTF16");function AsciiToString(i){for(var s="";;){var l=HEAPU8[i++>>0];if(!l)return s;s+=String.fromCharCode(l)}}n(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(i){var s=Module._main;if(s){(i=i||[]).unshift(thisProgram);var l=i.length,c=stackAlloc(4*(l+1)),p=c>>2;i.forEach(f=>{HEAP32[p++]=allocateUTF8OnStack(f)}),HEAP32[p]=0;try{var m=s(l,c);return exitJS(m,!0),m}catch(f){return handleException(f)}}}n(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=n(function i(){calledRun||run(),calledRun||(dependenciesFulfilled=i)},"e");var dylibsLoaded=!1;function run(i){function s(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(i),postRun()))}n(s,"t"),i=i||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),s()},1)):s()))}if(n(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(s){let l;if(s){if(s.constructor!==Language)throw new Error("Argument must be a Language");{l=s[0];let c=C._ts_language_version(l);if(c<MIN_COMPATIBLE_VERSION||VERSION<c)throw new Error(`Incompatible language version ${c}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else l=0,s=null;return this.language=s,C._ts_parser_set_language(this[0],l),this}getLanguage(){return this.language}parse(s,l,c){if(typeof s=="string")currentParseCallback=n((h,I,x)=>s.slice(h,x),"currentParseCallback");else{if(typeof s!="function")throw new Error("Argument must be a string or a function");currentParseCallback=s}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let p=0,m=0;if(c&&c.includedRanges){p=c.includedRanges.length,m=C._calloc(p,SIZE_OF_RANGE);let h=m;for(let I=0;I<p;I++)marshalRange(h,c.includedRanges[I]),h+=SIZE_OF_RANGE}let f=C._ts_parser_parse_wasm(this[0],this[1],l?l[0]:0,m,p);if(!f)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,f,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(s){C._ts_parser_set_timeout_micros(this[0],s)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(s){if(s){if(typeof s!="function")throw new Error("Logger callback must be a function")}else s=null;return this.logCallback=s,this}getLogger(){return this.logCallback}};n(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(s,l,c,p){assertInternal(s),this[0]=l,this.language=c,this.textCallback=p}copy(){let s=C._ts_tree_copy(this[0]);return new t(INTERNAL,s,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(s){marshalEdit(s),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(s){if(s.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],s[0]);let l=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),p=new Array(l);if(l>0){let m=c;for(let f=0;f<l;f++)p[f]=unmarshalRange(m),m+=SIZE_OF_RANGE;C._free(c)}return p}};n(t,"Tree");let Tree=t,r=class r{constructor(s,l){assertInternal(s),this.tree=l}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(s){return this.id===s.id}child(s){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}namedChild(s){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldId(s){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],s),unmarshalNode(this.tree)}childForFieldName(s){let l=this.tree.language.fields.indexOf(s);if(l!==-1)return this.childForFieldId(l)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(s),s>0){let c=l;for(let p=0;p<s;p++)this._children[p]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let s=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(s),s>0){let c=l;for(let p=0;p<s;p++)this._namedChildren[p]=unmarshalNode(this.tree,c),c+=SIZE_OF_NODE;C._free(l)}}return this._namedChildren}descendantsOfType(s,l,c){Array.isArray(s)||(s=[s]),l||(l=ZERO_POINT),c||(c=ZERO_POINT);let p=[],m=this.tree.language.types;for(let x=0,w=m.length;x<w;x++)s.includes(m[x])&&p.push(x);let f=C._malloc(SIZE_OF_INT*p.length);for(let x=0,w=p.length;x<w;x++)setValue(f+x*SIZE_OF_INT,p[x],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],f,p.length,l.row,l.column,c.row,c.column);let g=getValue(TRANSFER_BUFFER,"i32"),h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),I=new Array(g);if(g>0){let x=h;for(let w=0;w<g;w++)I[w]=unmarshalNode(this.tree,x),x+=SIZE_OF_NODE}return C._free(h),C._free(f),I}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(s,l=s){if(typeof s!="number"||typeof l!="number")throw new Error("Arguments must be numbers");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(c,s,"i32"),setValue(c+SIZE_OF_INT,l,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(s,l=s){if(!isPoint(s)||!isPoint(l))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let c=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(c,s),marshalPoint(c+SIZE_OF_POINT,l),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let s=C._ts_node_to_string_wasm(this.tree[0]),l=AsciiToString(s);return C._free(s),l}};n(r,"Node");let Node=r,o=class o{constructor(s,l){assertInternal(s),this.tree=l,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(s){marshalNode(s),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let s=C._ts_tree_cursor_start_index_wasm(this.tree[0]),l=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,s,l)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoParent(){marshalTreeCursor(this);let s=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}};n(o,"TreeCursor");let TreeCursor=o,a=class a{constructor(s,l){assertInternal(s),this[0]=l,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let c=0,p=this.types.length;c<p;c++)C._ts_language_symbol_type(this[0],c)<2&&(this.types[c]=UTF8ToString(C._ts_language_symbol_name(this[0],c)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let c=0,p=this.fields.length;c<p;c++){let m=C._ts_language_field_name_for_id(this[0],c);this.fields[c]=m!==0?UTF8ToString(m):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(s){let l=this.fields.indexOf(s);return l!==-1?l:null}fieldNameForId(s){return this.fields[s]||null}idForNodeType(s,l){let c=lengthBytesUTF8(s),p=C._malloc(c+1);stringToUTF8(s,p,c+1);let m=C._ts_language_symbol_for_name(this[0],p,c,l);return C._free(p),m||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(s){let l=C._ts_language_symbol_name(this[0],s);return l?UTF8ToString(l):null}nodeTypeIsNamed(s){return!!C._ts_language_type_is_named_wasm(this[0],s)}nodeTypeIsVisible(s){return!!C._ts_language_type_is_visible_wasm(this[0],s)}query(s){let l=lengthBytesUTF8(s),c=C._malloc(l+1);stringToUTF8(s,c,l+1);let p=C._ts_query_new(this[0],c,l,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!p){let L=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),O=UTF8ToString(c,getValue(TRANSFER_BUFFER,"i32")).length,R=s.substr(O,100).split(`
`)[0],E,F=R.match(QUERY_WORD_REGEX)[0];switch(L){case 2:E=new RangeError(`Bad node name '${F}'`);break;case 3:E=new RangeError(`Bad field name '${F}'`);break;case 4:E=new RangeError(`Bad capture name @${F}`);break;case 5:E=new TypeError(`Bad pattern structure at offset ${O}: '${R}'...`),F="";break;default:E=new SyntaxError(`Bad syntax at offset ${O}: '${R}'...`),F=""}throw E.index=O,E.length=F.length,C._free(c),E}let m=C._ts_query_string_count(p),f=C._ts_query_capture_count(p),g=C._ts_query_pattern_count(p),h=new Array(f),I=new Array(m);for(let L=0;L<f;L++){let O=C._ts_query_capture_name_for_id(p,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");h[L]=UTF8ToString(O,R)}for(let L=0;L<m;L++){let O=C._ts_query_string_value_for_id(p,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");I[L]=UTF8ToString(O,R)}let x=new Array(g),w=new Array(g),k=new Array(g),M=new Array(g),T=new Array(g);for(let L=0;L<g;L++){let O=C._ts_query_predicates_for_pattern(p,L,TRANSFER_BUFFER),R=getValue(TRANSFER_BUFFER,"i32");M[L]=[],T[L]=[];let E=[],F=O;for(let ge=0;ge<R;ge++){let pr=getValue(F,"i32");F+=SIZE_OF_INT;let Wt=getValue(F,"i32");if(F+=SIZE_OF_INT,pr===PREDICATE_STEP_TYPE_CAPTURE)E.push({type:"capture",name:h[Wt]});else if(pr===PREDICATE_STEP_TYPE_STRING)E.push({type:"string",value:I[Wt]});else if(E.length>0){if(E[0].type!=="string")throw new Error("Predicates must begin with a literal value");let pt=E[0].value,rt=!0;switch(pt){case"not-eq?":rt=!1;case"eq?":if(E.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(E.length-1));if(E[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${E[1].value}"`);if(E[2].type==="capture"){let Tt=E[1].name,Pr=E[2].name;T[L].push(function(ds){let Nr,_s;for(let bo of ds)bo.name===Tt&&(Nr=bo.node),bo.name===Pr&&(_s=bo.node);return Nr===void 0||_s===void 0||Nr.text===_s.text===rt})}else{let Tt=E[1].name,Pr=E[2].value;T[L].push(function(ds){for(let Nr of ds)if(Nr.name===Tt)return Nr.node.text===Pr===rt;return!0})}break;case"not-match?":rt=!1;case"match?":if(E.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${E.length-1}.`);if(E[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${E[1].value}".`);if(E[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${E[2].value}.`);let Le=E[1].name,Kt=new RegExp(E[2].value);T[L].push(function(Tt){for(let Pr of Tt)if(Pr.name===Le)return Kt.test(Pr.node.text)===rt;return!0});break;case"set!":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Tt=>Tt.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');x[L]||(x[L]={}),x[L][E[1].value]=E[2]?E[2].value:null;break;case"is?":case"is-not?":if(E.length<2||E.length>3)throw new Error(`Wrong number of arguments to \`#${pt}\` predicate. Expected 1 or 2. Got ${E.length-1}.`);if(E.some(Tt=>Tt.type!=="string"))throw new Error(`Arguments to \`#${pt}\` predicate must be a strings.".`);let gn=pt==="is?"?w:k;gn[L]||(gn[L]={}),gn[L][E[1].value]=E[2]?E[2].value:null;break;default:M[L].push({operator:pt,operands:E.slice(1)})}E.length=0}}Object.freeze(x[L]),Object.freeze(w[L]),Object.freeze(k[L])}return C._free(c),new Query(INTERNAL,p,h,T,M,Object.freeze(x),Object.freeze(w),Object.freeze(k))}static load(s){let l;if(s instanceof Uint8Array)l=Promise.resolve(s);else{let p=s;if(typeof process<"u"&&process.versions&&process.versions.node){let m=require("fs");l=Promise.resolve(m.readFileSync(p))}else l=fetch(p).then(m=>m.arrayBuffer().then(f=>{if(m.ok)return new Uint8Array(f);{let g=new TextDecoder("utf-8").decode(f);throw new Error(`Language.load failed with status ${m.status}.

${g}`)}}))}let c=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return l.then(p=>c(p,{loadAsync:!0})).then(p=>{let m=Object.keys(p),f=m.find(h=>LANGUAGE_FUNCTION_REGEX.test(h)&&!h.includes("external_scanner_"));f||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(m,null,2)}`);let g=p[f]();return new a(INTERNAL,g)})}};n(a,"Language");let Language=a,u=class u{constructor(s,l,c,p,m,f,g,h){assertInternal(s),this[0]=l,this.captureNames=c,this.textPredicates=p,this.predicates=m,this.setProperties=f,this.assertedProperties=g,this.refutedProperties=h,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(s,l,c,p){l||(l=ZERO_POINT),c||(c=ZERO_POINT),p||(p={});let m=p.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_matches_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=new Array(f);this.exceededMatchLimit=!!h;let x=0,w=g;for(let k=0;k<f;k++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=new Array(T);if(w=unmarshalCaptures(this,s.tree,w,L),this.textPredicates[M].every(O=>O(L))){I[x++]={pattern:M,captures:L};let O=this.setProperties[M];O&&(I[k].setProperties=O);let R=this.assertedProperties[M];R&&(I[k].assertedProperties=R);let E=this.refutedProperties[M];E&&(I[k].refutedProperties=E)}}return I.length=x,C._free(g),I}captures(s,l,c,p){l||(l=ZERO_POINT),c||(c=ZERO_POINT),p||(p={});let m=p.matchLimit;if(m===void 0)m=0;else if(typeof m!="number")throw new Error("Arguments must be numbers");marshalNode(s),C._ts_query_captures_wasm(this[0],s.tree[0],l.row,l.column,c.row,c.column,m);let f=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),I=[];this.exceededMatchLimit=!!h;let x=[],w=g;for(let k=0;k<f;k++){let M=getValue(w,"i32");w+=SIZE_OF_INT;let T=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");if(w+=SIZE_OF_INT,x.length=T,w=unmarshalCaptures(this,s.tree,w,x),this.textPredicates[M].every(O=>O(x))){let O=x[L],R=this.setProperties[M];R&&(O.setProperties=R);let E=this.assertedProperties[M];E&&(O.assertedProperties=E);let F=this.refutedProperties[M];F&&(O.refutedProperties=F),I.push(O)}}return C._free(g),I}predicatesForPattern(s){return this.predicates[s]}didExceedMatchLimit(){return this.exceededMatchLimit}};n(u,"Query");let Query=u;function getText(i,s,l){let c=l-s,p=i.textCallback(s,null,l);for(s+=p.length;s<l;){let m=i.textCallback(s,null,l);if(!(m&&m.length>0))break;s+=m.length,p+=m}return s>l&&(p=p.slice(0,c)),p}n(getText,"getText");function unmarshalCaptures(i,s,l,c){for(let p=0,m=c.length;p<m;p++){let f=getValue(l,"i32"),g=unmarshalNode(s,l+=SIZE_OF_INT);l+=SIZE_OF_NODE,c[p]={name:i.captureNames[f],node:g}}return l}n(unmarshalCaptures,"unmarshalCaptures");function assertInternal(i){if(i!==INTERNAL)throw new Error("Illegal constructor")}n(assertInternal,"assertInternal");function isPoint(i){return i&&typeof i.row=="number"&&typeof i.column=="number"}n(isPoint,"isPoint");function marshalNode(i){let s=TRANSFER_BUFFER;setValue(s,i.id,"i32"),s+=SIZE_OF_INT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.row,"i32"),s+=SIZE_OF_INT,setValue(s,i.startPosition.column,"i32"),s+=SIZE_OF_INT,setValue(s,i[0],"i32")}n(marshalNode,"marshalNode");function unmarshalNode(i,s=TRANSFER_BUFFER){let l=getValue(s,"i32");if(l===0)return null;let c=getValue(s+=SIZE_OF_INT,"i32"),p=getValue(s+=SIZE_OF_INT,"i32"),m=getValue(s+=SIZE_OF_INT,"i32"),f=getValue(s+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,i);return g.id=l,g.startIndex=c,g.startPosition={row:p,column:m},g[0]=f,g}n(unmarshalNode,"unmarshalNode");function marshalTreeCursor(i,s=TRANSFER_BUFFER){setValue(s+0*SIZE_OF_INT,i[0],"i32"),setValue(s+1*SIZE_OF_INT,i[1],"i32"),setValue(s+2*SIZE_OF_INT,i[2],"i32")}n(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(i){i[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),i[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),i[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}n(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(i,s){setValue(i,s.row,"i32"),setValue(i+SIZE_OF_INT,s.column,"i32")}n(marshalPoint,"marshalPoint");function unmarshalPoint(i){return{row:getValue(i,"i32"),column:getValue(i+SIZE_OF_INT,"i32")}}n(unmarshalPoint,"unmarshalPoint");function marshalRange(i,s){marshalPoint(i,s.startPosition),marshalPoint(i+=SIZE_OF_POINT,s.endPosition),setValue(i+=SIZE_OF_POINT,s.startIndex,"i32"),setValue(i+=SIZE_OF_INT,s.endIndex,"i32"),i+=SIZE_OF_INT}n(marshalRange,"marshalRange");function unmarshalRange(i){let s={};return s.startPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.endPosition=unmarshalPoint(i),i+=SIZE_OF_POINT,s.startIndex=getValue(i,"i32"),i+=SIZE_OF_INT,s.endIndex=getValue(i,"i32"),s}n(unmarshalRange,"unmarshalRange");function marshalEdit(i){let s=TRANSFER_BUFFER;marshalPoint(s,i.startPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.oldEndPosition),s+=SIZE_OF_POINT,marshalPoint(s,i.newEndPosition),s+=SIZE_OF_POINT,setValue(s,i.startIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.oldEndIndex,"i32"),s+=SIZE_OF_INT,setValue(s,i.newEndIndex,"i32"),s+=SIZE_OF_INT}n(marshalEdit,"marshalEdit");for(let i of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,i,{value:ParserImpl.prototype[i],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};n(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});function zr(e){return e in va&&e!=="csharp"&&e!=="java"}function Un(e){if(!(e in va))throw new Error(`Unrecognized language: ${e}`);return va[e]}async function ty(e){let t,r=Jo.default.resolve(Jo.default.extname(__filename)!==".ts"?__dirname:Jo.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Op.promises.readFile(r)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new qt(`Could not load tree-sitter-${e}.wasm`,o):o}return Xo.default.Language.load(t)}function Cp(e){let t=Un(e);if(!Ta.has(t)){let r=ty(t);Ta.set(t,r)}return Ta.get(t)}async function Hr(e,t){await Xo.default.init();let r;try{r=new Xo.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Ma(`Could not init Parse for language <${e}>`,u):u}let o=await Cp(e);r.setLanguage(o);let a=r.parse(t);return r.delete(),a}function ry(e){switch(Un(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":case"c_sharp":case"java":return"}";case"ruby":return"end"}}function ny(e,t){let r=[];for(let o of e){if(!o[1]){let a=t.tree.getLanguage();o[1]=a.query(o[0])}r.push(...o[1].matches(t))}return r}function La(e){return ny([oy],e).length==1}var Op,Jo,Xo,Rp,va,Ta,Pa,Ma,oy,Yo=d(()=>{"use strict";ko();Op=require("fs"),Jo=yn(require("path")),Xo=yn(Fp()),Rp=(l=>(l.Python="python",l.JavaScript="javascript",l.TypeScript="typescript",l.TSX="tsx",l.Go="go",l.Ruby="ruby",l.CSharp="c_sharp",l.Java="java",l))(Rp||{}),va={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};n(zr,"isSupportedLanguageId");n(Un,"languageIdToWasmLanguage");Ta=new Map;n(ty,"loadWasmLanguage");n(Cp,"getLanguage");Pa=class Pa extends Error{constructor(r,o){super(r);this.cause=o}};n(Pa,"WrappedError");Ma=Pa;n(Hr,"parseTreeSitter");n(ry,"getBlockCloseToken");n(ny,"innerQuery");oy=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];n(La,"queryPythonIsDocstring")});function iy(e,t){let r=new Set;return t.forEach(o=>{e.has(o)&&r.add(o)}),r.size}var Xt,Qo,Ap=d(()=>{"use strict";Yo();zo();Ho();Ea();Xt=class Xt extends $r{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return qo(this.windowLength,t)}_getCursorContextInfo(t){return hr(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=Xt.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var a;let t=(a=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:a.startIndex,r=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,r):hr(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,r){return iy(t,r)}async getEnclosingMemberStart(t,r){var a;let o;try{o=await Hr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(r);for(;u&&!(Xt.isMember(u)||Xt.isBlock(u));)u=(a=u.parent)!=null?a:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};n(Xt,"BlockTokenSubsetMatcher"),Xt.FACTORY=n(t=>({to:n(r=>new Xt(r,t),"to")}),"FACTORY");Qo=Xt;n(iy,"computeScore")});function my(e,t){return(t.useSubsetMatching?Qo.FACTORY(t.snippetLength):Zo.FACTORY(t.snippetLength)).to(e)}async function Bp(e,t,r){let o=my(e,r);return r.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<r.maxCharPerFile&&u.source.length>0).slice(0,r.maxNumberOfFiles).reduce(async(u,i)=>(await u).concat((await o.findMatches(i,r.maxSnippetsPerFile)).map(s=>({relativePath:i.relativePath,...s}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>r.threshold).sort((u,i)=>u.score-i.score).slice(-r.maxTopSnippets)}var sy,ay,uy,ly,cy,py,Up,Na,ei=d(()=>{"use strict";kp();Ap();sy=0,ay=60,uy=4,ly=1,cy=20,py=1e4,Up={snippetLength:ay,threshold:sy,maxTopSnippets:uy,maxCharPerFile:py,maxNumberOfFiles:cy,maxSnippetsPerFile:ly,useSubsetMatching:!1},Na={snippetLength:60,threshold:0,maxTopSnippets:16,maxCharPerFile:1e5,maxNumberOfFiles:200,maxSnippetsPerFile:4};n(my,"getMatcher");n(Bp,"getSimilarSnippets")});function Dp(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let o=t.text.split(`
`);for(let x=0;x<o.length-1;x++)o[x]+=`
`;let a=[];o.forEach((x,w)=>{x===`
`&&a.length>0&&!a[a.length-1].endsWith(`

`)?a[a.length-1]+=`
`:a.push(x)});let u=a.map(x=>e.tokenLength(x)),i=1,s=0;for(;i<=u.length;i++){let x=u.at(-i);if(x){if(x+s>r){i--;break}s+=x}}let c=a.slice(-i).join(""),p=e.tokenLength(c),f=a.slice(0,-i).join(""),g=e.tokenLength(f),h={id:t.id,kind:t.kind,text:c,tokens:p,score:t.score},I={id:t.id,kind:t.kind,text:f,tokens:g,score:t.score};return{summarizedElement:h,removedMaterial:I}}var jp=d(()=>{"use strict";n(Dp,"truncateFirstLinesFirst")});var ka,ti,Vp=d(()=>{"use strict";jp();ri();ka=class ka{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Dp]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,o){return this.kindToFunctionMap.get(r.kind)(t,r,o)}};n(ka,"SnippetTextProcessor");ti=ka});function Wp(e,t){let r=`Use ${e}`;return Jt(r,t)}function Kp(e){let t=e.source.substring(0,e.offset);return fy.test(t)}function Gp(e,t){let r=e.lastIndexOf(`
`)+1,o=e.substring(0,r),a=e.substring(r);return t.snippet=t.snippet+a,[o,t]}var fy,Fa=d(()=>{"use strict";Mt();fy=/(\.|->|::)\w+$/;n(Wp,"announceTooltipSignatureSnippet");n(Kp,"endsWithAttributesOrMethod");n(Gp,"transferLastLineToTooltipSignature")});var Ee={};kr(Ee,{HasPropertyKey:()=>ni,IsArray:()=>ie,IsAsyncIterator:()=>Oa,IsBigInt:()=>Bn,IsBoolean:()=>Nt,IsDate:()=>yr,IsFunction:()=>Ra,IsIterator:()=>Ca,IsNull:()=>Aa,IsNumber:()=>Ge,IsObject:()=>$,IsRegExp:()=>Dn,IsString:()=>q,IsSymbol:()=>Ua,IsUint8Array:()=>kt,IsUndefined:()=>de});function ni(e,t){return t in e}function Oa(e){return $(e)&&!ie(e)&&!kt(e)&&Symbol.asyncIterator in e}function ie(e){return Array.isArray(e)}function Bn(e){return typeof e=="bigint"}function Nt(e){return typeof e=="boolean"}function yr(e){return e instanceof globalThis.Date}function Ra(e){return typeof e=="function"}function Ca(e){return $(e)&&!ie(e)&&!kt(e)&&Symbol.iterator in e}function Aa(e){return e===null}function Ge(e){return typeof e=="number"}function $(e){return typeof e=="object"&&e!==null}function Dn(e){return e instanceof globalThis.RegExp}function q(e){return typeof e=="string"}function Ua(e){return typeof e=="symbol"}function kt(e){return e instanceof globalThis.Uint8Array}function de(e){return e===void 0}var Pe=d(()=>{n(ni,"HasPropertyKey");n(Oa,"IsAsyncIterator");n(ie,"IsArray");n(Bn,"IsBigInt");n(Nt,"IsBoolean");n(yr,"IsDate");n(Ra,"IsFunction");n(Ca,"IsIterator");n(Aa,"IsNull");n(Ge,"IsNumber");n($,"IsObject");n(Dn,"IsRegExp");n(q,"IsString");n(Ua,"IsSymbol");n(kt,"IsUint8Array");n(de,"IsUndefined")});function _y(e){return e.map(t=>oi(t))}function gy(e){return new Date(e.getTime())}function hy(e){return new Uint8Array(e)}function yy(e){return new RegExp(e.source,e.flags)}function by(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=oi(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=oi(e[r]);return t}function oi(e){return ie(e)?_y(e):yr(e)?gy(e):kt(e)?hy(e):Dn(e)?yy(e):$(e)?by(e):e}function Y(e){return oi(e)}var Ne=d(()=>{Pe();n(_y,"ArrayType");n(gy,"DateType");n(hy,"Uint8ArrayType");n(yy,"RegExpType");n(by,"ObjectType");n(oi,"Visit");n(Y,"Clone")});function $p(e,t){return t===void 0?Y(e):Y({...t,...e})}var Ba=d(()=>{Ne();n($p,"CloneType")});var zp=d(()=>{Ba();Ne()});function Hp(e){return e!==null&&typeof e=="object"}function qp(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function Zp(e){return e===void 0}function Jp(e){return typeof e=="number"}var Xp=d(()=>{n(Hp,"IsObject");n(qp,"IsArray");n(Zp,"IsUndefined");n(Jp,"IsNumber")});var Yp=d(()=>{Xp()});var ii,Qp=d(()=>{Yp();(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(i,s){return e.ExactOptionalPropertyTypes?s in i:i[s]!==void 0}n(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(i){let s=Hp(i);return e.AllowArrayObject?s:s&&!qp(i)}n(r,"IsObjectLike"),e.IsObjectLike=r;function o(i){return r(i)&&!(i instanceof Date)&&!(i instanceof Uint8Array)}n(o,"IsRecordLike"),e.IsRecordLike=o;function a(i){return e.AllowNaN?Jp(i):Number.isFinite(i)}n(a,"IsNumberLike"),e.IsNumberLike=a;function u(i){let s=Zp(i);return e.AllowNullVoid?s||i===null:s}n(u,"IsVoidLike"),e.IsVoidLike=u})(ii||(ii={}))});function Iy(e){return globalThis.Object.freeze(e).map(t=>jn(t))}function xy(e){let t={};for(let r of Object.getOwnPropertyNames(e))t[r]=jn(e[r]);for(let r of Object.getOwnPropertySymbols(e))t[r]=jn(e[r]);return globalThis.Object.freeze(t)}function jn(e){return ie(e)?Iy(e):yr(e)?e:kt(e)?e:Dn(e)?e:$(e)?xy(e):e}var em=d(()=>{Pe();n(Iy,"ImmutableArray");n(xy,"ImmutableObject");n(jn,"Immutable")});function b(e,t){let r=t!==void 0?{...t,...e}:e;switch(ii.InstanceMode){case"freeze":return jn(r);case"clone":return Y(r);default:return r}}var P=d(()=>{Qp();em();Ne();n(b,"CreateType")});var Ft=d(()=>{P()});var Da,he,tm=d(()=>{Da=class Da extends Error{constructor(t){super(t)}};n(Da,"TypeBoxError");he=Da});var ht=d(()=>{tm()});var Ie,ut,xe,$e,S,Vn=d(()=>{Ie=Symbol.for("TypeBox.Transform"),ut=Symbol.for("TypeBox.Readonly"),xe=Symbol.for("TypeBox.Optional"),$e=Symbol.for("TypeBox.Hint"),S=Symbol.for("TypeBox.Kind")});var N=d(()=>{Vn()});function si(e){return $(e)&&e[ut]==="Readonly"}function ze(e){return $(e)&&e[xe]==="Optional"}function ja(e){return U(e,"Any")}function Ot(e){return U(e,"Array")}function Wn(e){return U(e,"AsyncIterator")}function Va(e){return U(e,"BigInt")}function Wa(e){return U(e,"Boolean")}function ke(e){return U(e,"Computed")}function Rt(e){return U(e,"Constructor")}function wy(e){return U(e,"Date")}function Ct(e){return U(e,"Function")}function br(e){return U(e,"Integer")}function se(e){return U(e,"Intersect")}function Kn(e){return U(e,"Iterator")}function U(e,t){return $(e)&&S in e&&e[S]===t}function ai(e){return Nt(e)||Ge(e)||q(e)}function At(e){return U(e,"Literal")}function De(e){return U(e,"MappedKey")}function Q(e){return U(e,"MappedResult")}function Yt(e){return U(e,"Never")}function Sy(e){return U(e,"Not")}function Ey(e){return U(e,"Null")}function Ir(e){return U(e,"Number")}function fe(e){return U(e,"Object")}function Gn(e){return U(e,"Promise")}function Ka(e){return U(e,"Record")}function ee(e){return U(e,"Ref")}function Ga(e){return U(e,"RegExp")}function $n(e){return U(e,"String")}function Ty(e){return U(e,"Symbol")}function je(e){return U(e,"TemplateLiteral")}function vy(e){return U(e,"This")}function qr(e){return $(e)&&Ie in e}function lt(e){return U(e,"Tuple")}function My(e){return U(e,"Undefined")}function j(e){return U(e,"Union")}function Ly(e){return U(e,"Uint8Array")}function Py(e){return U(e,"Unknown")}function Ny(e){return U(e,"Unsafe")}function ky(e){return U(e,"Void")}function Fy(e){return $(e)&&S in e&&q(e[S])}function Ve(e){return ja(e)||Ot(e)||Wa(e)||Va(e)||Wn(e)||ke(e)||Rt(e)||wy(e)||Ct(e)||br(e)||se(e)||Kn(e)||At(e)||De(e)||Q(e)||Yt(e)||Sy(e)||Ey(e)||Ir(e)||fe(e)||Gn(e)||Ka(e)||ee(e)||Ga(e)||$n(e)||Ty(e)||je(e)||vy(e)||lt(e)||My(e)||j(e)||Ly(e)||Py(e)||Ny(e)||ky(e)||Fy(e)}var V=d(()=>{Pe();N();n(si,"IsReadonly");n(ze,"IsOptional");n(ja,"IsAny");n(Ot,"IsArray");n(Wn,"IsAsyncIterator");n(Va,"IsBigInt");n(Wa,"IsBoolean");n(ke,"IsComputed");n(Rt,"IsConstructor");n(wy,"IsDate");n(Ct,"IsFunction");n(br,"IsInteger");n(se,"IsIntersect");n(Kn,"IsIterator");n(U,"IsKindOf");n(ai,"IsLiteralValue");n(At,"IsLiteral");n(De,"IsMappedKey");n(Q,"IsMappedResult");n(Yt,"IsNever");n(Sy,"IsNot");n(Ey,"IsNull");n(Ir,"IsNumber");n(fe,"IsObject");n(Gn,"IsPromise");n(Ka,"IsRecord");n(ee,"IsRef");n(Ga,"IsRegExp");n($n,"IsString");n(Ty,"IsSymbol");n(je,"IsTemplateLiteral");n(vy,"IsThis");n(qr,"IsTransform");n(lt,"IsTuple");n(My,"IsUndefined");n(j,"IsUnion");n(Ly,"IsUint8Array");n(Py,"IsUnknown");n(Ny,"IsUnsafe");n(ky,"IsVoid");n(Fy,"IsKind");n(Ve,"IsSchema")});var _={};kr(_,{IsAny:()=>im,IsArray:()=>sm,IsAsyncIterator:()=>am,IsBigInt:()=>um,IsBoolean:()=>lm,IsComputed:()=>cm,IsConstructor:()=>pm,IsDate:()=>mm,IsFunction:()=>dm,IsImport:()=>By,IsInteger:()=>fm,IsIntersect:()=>_m,IsIterator:()=>gm,IsKind:()=>Wm,IsKindOf:()=>A,IsLiteral:()=>qn,IsLiteralBoolean:()=>Dy,IsLiteralNumber:()=>ym,IsLiteralString:()=>hm,IsLiteralValue:()=>bm,IsMappedKey:()=>Im,IsMappedResult:()=>xm,IsNever:()=>wm,IsNot:()=>Sm,IsNull:()=>Em,IsNumber:()=>Tm,IsObject:()=>vm,IsOptional:()=>Uy,IsPromise:()=>Mm,IsProperties:()=>ui,IsReadonly:()=>Ay,IsRecord:()=>Lm,IsRecursive:()=>jy,IsRef:()=>Pm,IsRegExp:()=>Nm,IsSchema:()=>ye,IsString:()=>km,IsSymbol:()=>Fm,IsTemplateLiteral:()=>Om,IsThis:()=>Rm,IsTransform:()=>Cm,IsTuple:()=>Am,IsUint8Array:()=>Bm,IsUndefined:()=>Um,IsUnion:()=>qa,IsUnionLiteral:()=>Vy,IsUnknown:()=>Dm,IsUnsafe:()=>jm,IsVoid:()=>Vm,TypeGuardUnknownTypeError:()=>$a});function rm(e){try{return new RegExp(e),!0}catch{return!1}}function za(e){if(!q(e))return!1;for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(r>=7&&r<=13||r===27||r===127)return!1}return!0}function nm(e){return Ha(e)||ye(e)}function Hn(e){return de(e)||Bn(e)}function Z(e){return de(e)||Ge(e)}function Ha(e){return de(e)||Nt(e)}function z(e){return de(e)||q(e)}function Ry(e){return de(e)||q(e)&&za(e)&&rm(e)}function Cy(e){return de(e)||q(e)&&za(e)}function om(e){return de(e)||ye(e)}function Ay(e){return $(e)&&e[ut]==="Readonly"}function Uy(e){return $(e)&&e[xe]==="Optional"}function im(e){return A(e,"Any")&&z(e.$id)}function sm(e){return A(e,"Array")&&e.type==="array"&&z(e.$id)&&ye(e.items)&&Z(e.minItems)&&Z(e.maxItems)&&Ha(e.uniqueItems)&&om(e.contains)&&Z(e.minContains)&&Z(e.maxContains)}function am(e){return A(e,"AsyncIterator")&&e.type==="AsyncIterator"&&z(e.$id)&&ye(e.items)}function um(e){return A(e,"BigInt")&&e.type==="bigint"&&z(e.$id)&&Hn(e.exclusiveMaximum)&&Hn(e.exclusiveMinimum)&&Hn(e.maximum)&&Hn(e.minimum)&&Hn(e.multipleOf)}function lm(e){return A(e,"Boolean")&&e.type==="boolean"&&z(e.$id)}function cm(e){return A(e,"Computed")&&q(e.target)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))}function pm(e){return A(e,"Constructor")&&e.type==="Constructor"&&z(e.$id)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function mm(e){return A(e,"Date")&&e.type==="Date"&&z(e.$id)&&Z(e.exclusiveMaximumTimestamp)&&Z(e.exclusiveMinimumTimestamp)&&Z(e.maximumTimestamp)&&Z(e.minimumTimestamp)&&Z(e.multipleOfTimestamp)}function dm(e){return A(e,"Function")&&e.type==="Function"&&z(e.$id)&&ie(e.parameters)&&e.parameters.every(t=>ye(t))&&ye(e.returns)}function By(e){return A(e,"Import")&&ni(e,"$defs")&&$(e.$defs)&&ui(e.$defs)&&ni(e,"$ref")&&q(e.$ref)&&e.$ref in e.$defs}function fm(e){return A(e,"Integer")&&e.type==="integer"&&z(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function ui(e){return $(e)&&Object.entries(e).every(([t,r])=>za(t)&&ye(r))}function _m(e){return A(e,"Intersect")&&!(q(e.type)&&e.type!=="object")&&ie(e.allOf)&&e.allOf.every(t=>ye(t)&&!Cm(t))&&z(e.type)&&(Ha(e.unevaluatedProperties)||om(e.unevaluatedProperties))&&z(e.$id)}function gm(e){return A(e,"Iterator")&&e.type==="Iterator"&&z(e.$id)&&ye(e.items)}function A(e,t){return $(e)&&S in e&&e[S]===t}function hm(e){return qn(e)&&q(e.const)}function ym(e){return qn(e)&&Ge(e.const)}function Dy(e){return qn(e)&&Nt(e.const)}function qn(e){return A(e,"Literal")&&z(e.$id)&&bm(e.const)}function bm(e){return Nt(e)||Ge(e)||q(e)}function Im(e){return A(e,"MappedKey")&&ie(e.keys)&&e.keys.every(t=>Ge(t)||q(t))}function xm(e){return A(e,"MappedResult")&&ui(e.properties)}function wm(e){return A(e,"Never")&&$(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function Sm(e){return A(e,"Not")&&ye(e.not)}function Em(e){return A(e,"Null")&&e.type==="null"&&z(e.$id)}function Tm(e){return A(e,"Number")&&e.type==="number"&&z(e.$id)&&Z(e.exclusiveMaximum)&&Z(e.exclusiveMinimum)&&Z(e.maximum)&&Z(e.minimum)&&Z(e.multipleOf)}function vm(e){return A(e,"Object")&&e.type==="object"&&z(e.$id)&&ui(e.properties)&&nm(e.additionalProperties)&&Z(e.minProperties)&&Z(e.maxProperties)}function Mm(e){return A(e,"Promise")&&e.type==="Promise"&&z(e.$id)&&ye(e.item)}function Lm(e){return A(e,"Record")&&e.type==="object"&&z(e.$id)&&nm(e.additionalProperties)&&$(e.patternProperties)&&(t=>{let r=Object.getOwnPropertyNames(t.patternProperties);return r.length===1&&rm(r[0])&&$(t.patternProperties)&&ye(t.patternProperties[r[0]])})(e)}function jy(e){return $(e)&&$e in e&&e[$e]==="Recursive"}function Pm(e){return A(e,"Ref")&&z(e.$id)&&q(e.$ref)}function Nm(e){return A(e,"RegExp")&&z(e.$id)&&q(e.source)&&q(e.flags)&&Z(e.maxLength)&&Z(e.minLength)}function km(e){return A(e,"String")&&e.type==="string"&&z(e.$id)&&Z(e.minLength)&&Z(e.maxLength)&&Ry(e.pattern)&&Cy(e.format)}function Fm(e){return A(e,"Symbol")&&e.type==="symbol"&&z(e.$id)}function Om(e){return A(e,"TemplateLiteral")&&e.type==="string"&&q(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function Rm(e){return A(e,"This")&&z(e.$id)&&q(e.$ref)}function Cm(e){return $(e)&&Ie in e}function Am(e){return A(e,"Tuple")&&e.type==="array"&&z(e.$id)&&Ge(e.minItems)&&Ge(e.maxItems)&&e.minItems===e.maxItems&&(de(e.items)&&de(e.additionalItems)&&e.minItems===0||ie(e.items)&&e.items.every(t=>ye(t)))}function Um(e){return A(e,"Undefined")&&e.type==="undefined"&&z(e.$id)}function Vy(e){return qa(e)&&e.anyOf.every(t=>hm(t)||ym(t))}function qa(e){return A(e,"Union")&&z(e.$id)&&$(e)&&ie(e.anyOf)&&e.anyOf.every(t=>ye(t))}function Bm(e){return A(e,"Uint8Array")&&e.type==="Uint8Array"&&z(e.$id)&&Z(e.minByteLength)&&Z(e.maxByteLength)}function Dm(e){return A(e,"Unknown")&&z(e.$id)}function jm(e){return A(e,"Unsafe")}function Vm(e){return A(e,"Void")&&e.type==="void"&&z(e.$id)}function Wm(e){return $(e)&&S in e&&q(e[S])&&!Oy.includes(e[S])}function ye(e){return $(e)&&(im(e)||sm(e)||lm(e)||um(e)||am(e)||cm(e)||pm(e)||mm(e)||dm(e)||fm(e)||_m(e)||gm(e)||qn(e)||Im(e)||xm(e)||wm(e)||Sm(e)||Em(e)||Tm(e)||vm(e)||Mm(e)||Lm(e)||Pm(e)||Nm(e)||km(e)||Fm(e)||Om(e)||Rm(e)||Am(e)||Um(e)||qa(e)||Bm(e)||Dm(e)||jm(e)||Vm(e)||Wm(e))}var Za,$a,Oy,Km=d(()=>{Pe();N();ht();Za=class Za extends he{};n(Za,"TypeGuardUnknownTypeError");$a=Za,Oy=["Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];n(rm,"IsPattern");n(za,"IsControlCharacterFree");n(nm,"IsAdditionalProperties");n(Hn,"IsOptionalBigInt");n(Z,"IsOptionalNumber");n(Ha,"IsOptionalBoolean");n(z,"IsOptionalString");n(Ry,"IsOptionalPattern");n(Cy,"IsOptionalFormat");n(om,"IsOptionalSchema");n(Ay,"IsReadonly");n(Uy,"IsOptional");n(im,"IsAny");n(sm,"IsArray");n(am,"IsAsyncIterator");n(um,"IsBigInt");n(lm,"IsBoolean");n(cm,"IsComputed");n(pm,"IsConstructor");n(mm,"IsDate");n(dm,"IsFunction");n(By,"IsImport");n(fm,"IsInteger");n(ui,"IsProperties");n(_m,"IsIntersect");n(gm,"IsIterator");n(A,"IsKindOf");n(hm,"IsLiteralString");n(ym,"IsLiteralNumber");n(Dy,"IsLiteralBoolean");n(qn,"IsLiteral");n(bm,"IsLiteralValue");n(Im,"IsMappedKey");n(xm,"IsMappedResult");n(wm,"IsNever");n(Sm,"IsNot");n(Em,"IsNull");n(Tm,"IsNumber");n(vm,"IsObject");n(Mm,"IsPromise");n(Lm,"IsRecord");n(jy,"IsRecursive");n(Pm,"IsRef");n(Nm,"IsRegExp");n(km,"IsString");n(Fm,"IsSymbol");n(Om,"IsTemplateLiteral");n(Rm,"IsThis");n(Cm,"IsTransform");n(Am,"IsTuple");n(Um,"IsUndefined");n(Vy,"IsUnionLiteral");n(qa,"IsUnion");n(Bm,"IsUint8Array");n(Dm,"IsUnknown");n(jm,"IsUnsafe");n(Vm,"IsVoid");n(Wm,"IsKind");n(ye,"IsSchema")});var Ja=d(()=>{Km();Pe()});var Gm=d(()=>{});var $m=d(()=>{Gm()});var Xa,Zn,Ya,Wy,u0,xr,wr,zm,Hm=d(()=>{Xa="(true|false)",Zn="(0|[1-9][0-9]*)",Ya="(.*)",Wy="(?!.*)",u0=`^${Xa}$`,xr=`^${Zn}$`,wr=`^${Ya}$`,zm=`^${Wy}$`});var Jn=d(()=>{Hm()});var Qa={};kr(Qa,{Clear:()=>Gy,Delete:()=>$y,Entries:()=>Ky,Get:()=>qy,Has:()=>zy,Set:()=>Hy});function Ky(){return new Map(Zr)}function Gy(){return Zr.clear()}function $y(e){return Zr.delete(e)}function zy(e){return Zr.has(e)}function Hy(e,t){Zr.set(e,t)}function qy(e){return Zr.get(e)}var Zr,qm=d(()=>{Zr=new Map;n(Ky,"Entries");n(Gy,"Clear");n($y,"Delete");n(zy,"Has");n(Hy,"Set");n(qy,"Get")});var eu={};kr(eu,{Clear:()=>Jy,Delete:()=>Xy,Entries:()=>Zy,Get:()=>eb,Has:()=>Yy,Set:()=>Qy});function Zy(){return new Map(Jr)}function Jy(){return Jr.clear()}function Xy(e){return Jr.delete(e)}function Yy(e){return Jr.has(e)}function Qy(e,t){Jr.set(e,t)}function eb(e){return Jr.get(e)}var Jr,Zm=d(()=>{Jr=new Map;n(Zy,"Entries");n(Jy,"Clear");n(Xy,"Delete");n(Yy,"Has");n(Qy,"Set");n(eb,"Get")});var Jm=d(()=>{qm();Zm()});function Xm(e,t){return e.includes(t)}function Ym(e){return[...new Set(e)]}function tb(e,t){return e.filter(r=>t.includes(r))}function rb(e,t){return e.reduce((r,o)=>tb(r,o),t)}function Qm(e){return e.length===1?e[0]:e.length>1?rb(e.slice(1),e[0]):[]}function ed(e){let t=[];for(let r of e)t.push(...r);return t}var td=d(()=>{n(Xm,"SetIncludes");n(Ym,"SetDistinct");n(tb,"SetIntersect");n(rb,"SetIntersectManyResolve");n(Qm,"SetIntersectMany");n(ed,"SetUnionMany")});var Xn=d(()=>{td()});function Qt(e){return b({[S]:"Any"},e)}var rd=d(()=>{Ft();N();n(Qt,"Any")});var Yn=d(()=>{rd()});function Xr(e,t){return b({[S]:"Array",type:"array",items:e},t)}var nd=d(()=>{P();N();n(Xr,"Array")});var Qn=d(()=>{nd()});function Yr(e,t){return b({[S]:"AsyncIterator",type:"AsyncIterator",items:e},t)}var od=d(()=>{N();P();n(Yr,"AsyncIterator")});var eo=d(()=>{od()});function W(e,t,r){return b({[S]:"Computed",target:e,parameters:t},r)}var id=d(()=>{Ft();Vn();n(W,"Computed")});var Ut=d(()=>{id()});function nb(e,t){let{[t]:r,...o}=e;return o}function te(e,t){return t.reduce((r,o)=>nb(r,o),e)}var li=d(()=>{n(nb,"DiscardKey");n(te,"Discard")});var Bt=d(()=>{li()});function B(e){return b({[S]:"Never",not:{}},e)}var sd=d(()=>{P();N();n(B,"Never")});var we=d(()=>{sd()});var ad=d(()=>{});function D(e){return b({[S]:"MappedResult",properties:e})}var tu=d(()=>{P();N();n(D,"MappedResult")});function Qr(e,t,r){return b({[S]:"Constructor",type:"Constructor",parameters:e,returns:t},r)}var ud=d(()=>{P();N();n(Qr,"Constructor")});var to=d(()=>{ud()});function yt(e,t,r){return b({[S]:"Function",type:"Function",parameters:e,returns:t},r)}var ld=d(()=>{P();N();n(yt,"Function")});var Sr=d(()=>{ld()});function ro(e,t){return b({[S]:"Union",anyOf:e},t)}var ru=d(()=>{P();N();n(ro,"UnionCreate")});function ob(e){return e.some(t=>ze(t))}function cd(e){return e.map(t=>ze(t)?ib(t):t)}function ib(e){return te(e,[xe])}function sb(e,t){return ob(e)?Fe(ro(cd(e),t)):ro(cd(e),t)}function bt(e,t){return e.length===1?b(e[0],t):e.length===0?B(t):sb(e,t)}var pd=d(()=>{P();N();Bt();we();er();ru();V();n(ob,"IsUnionOptional");n(cd,"RemoveOptionalFromRest");n(ib,"RemoveOptionalFromType");n(sb,"ResolveUnion");n(bt,"UnionEvaluated")});var md=d(()=>{});function G(e,t){return e.length===0?B(t):e.length===1?b(e[0],t):ro(e,t)}var dd=d(()=>{we();P();ru();n(G,"Union")});var ce=d(()=>{pd();md();dd()});function ab(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function nu(e,t,r){return e[t]===r&&e.charCodeAt(t-1)!==92}function Dt(e,t){return nu(e,t,"(")}function no(e,t){return nu(e,t,")")}function fd(e,t){return nu(e,t,"|")}function ub(e){if(!(Dt(e,0)&&no(e,e.length-1)))return!1;let t=0;for(let r=0;r<e.length;r++)if(Dt(e,r)&&(t+=1),no(e,r)&&(t-=1),t===0&&r!==e.length-1)return!1;return!0}function lb(e){return e.slice(1,e.length-1)}function cb(e){let t=0;for(let r=0;r<e.length;r++)if(Dt(e,r)&&(t+=1),no(e,r)&&(t-=1),fd(e,r)&&t===0)return!0;return!1}function pb(e){for(let t=0;t<e.length;t++)if(Dt(e,t))return!0;return!1}function mb(e){let[t,r]=[0,0],o=[];for(let u=0;u<e.length;u++)if(Dt(e,u)&&(t+=1),no(e,u)&&(t-=1),fd(e,u)&&t===0){let i=e.slice(r,u);i.length>0&&o.push(en(i)),r=u+1}let a=e.slice(r);return a.length>0&&o.push(en(a)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}function db(e){function t(a,u){if(!Dt(a,u))throw new ci("TemplateLiteralParser: Index must point to open parens");let i=0;for(let s=u;s<a.length;s++)if(Dt(a,s)&&(i+=1),no(a,s)&&(i-=1),i===0)return[u,s];throw new ci("TemplateLiteralParser: Unclosed group parens in expression")}n(t,"Group");function r(a,u){for(let i=u;i<a.length;i++)if(Dt(a,i))return[u,i];return[u,a.length]}n(r,"Range");let o=[];for(let a=0;a<e.length;a++)if(Dt(e,a)){let[u,i]=t(e,a),s=e.slice(u,i+1);o.push(en(s)),a=i}else{let[u,i]=r(e,a),s=e.slice(u,i);s.length>0&&o.push(en(s)),a=i-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}function en(e){return ub(e)?en(lb(e)):cb(e)?mb(e):pb(e)?db(e):{type:"const",const:ab(e)}}function tn(e){return en(e.slice(1,e.length-1))}var ou,ci,pi=d(()=>{ht();ou=class ou extends he{};n(ou,"TemplateLiteralParserError");ci=ou;n(ab,"Unescape");n(nu,"IsNonEscaped");n(Dt,"IsOpenParen");n(no,"IsCloseParen");n(fd,"IsSeparator");n(ub,"IsGroup");n(lb,"InGroup");n(cb,"IsPrecedenceOr");n(pb,"IsPrecedenceAnd");n(mb,"Or");n(db,"And");n(en,"TemplateLiteralParse");n(tn,"TemplateLiteralParseExact")});function fb(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function _b(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function gb(e){return e.type==="const"&&e.const===".*"}function Er(e){return fb(e)||gb(e)?!1:_b(e)?!0:e.type==="and"?e.expr.every(t=>Er(t)):e.type==="or"?e.expr.every(t=>Er(t)):e.type==="const"?!0:(()=>{throw new iu("Unknown expression type")})()}function _d(e){let t=tn(e.pattern);return Er(t)}var su,iu,au=d(()=>{pi();ht();su=class su extends he{};n(su,"TemplateLiteralFiniteError");iu=su;n(fb,"IsNumberExpression");n(_b,"IsBooleanExpression");n(gb,"IsStringExpression");n(Er,"IsTemplateLiteralExpressionFinite");n(_d,"IsTemplateLiteralFinite")});function*gd(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let r of gd(e.slice(1)))yield`${t}${r}`}function*hb(e){return yield*gd(e.expr.map(t=>[...oo(t)]))}function*yb(e){for(let t of e.expr)yield*oo(t)}function*bb(e){return yield e.const}function*oo(e){return e.type==="and"?yield*hb(e):e.type==="or"?yield*yb(e):e.type==="const"?yield*bb(e):(()=>{throw new uu("Unknown expression")})()}function mi(e){let t=tn(e.pattern);return Er(t)?[...oo(t)]:[]}var lu,uu,cu=d(()=>{au();pi();ht();lu=class lu extends he{};n(lu,"TemplateLiteralGenerateError");uu=lu;n(gd,"GenerateReduce");n(hb,"GenerateAnd");n(yb,"GenerateOr");n(bb,"GenerateConst");n(oo,"TemplateLiteralExpressionGenerate");n(mi,"TemplateLiteralGenerate")});function K(e,t){return b({[S]:"Literal",const:e,type:typeof e},t)}var hd=d(()=>{P();N();n(K,"Literal")});var Oe=d(()=>{hd()});function di(e){return b({[S]:"Boolean",type:"boolean"},e)}var yd=d(()=>{N();Ft();n(di,"Boolean")});var fi=d(()=>{yd()});function rn(e){return b({[S]:"BigInt",type:"bigint"},e)}var bd=d(()=>{N();Ft();n(rn,"BigInt")});var io=d(()=>{bd()});function It(e){return b({[S]:"Number",type:"number"},e)}var Id=d(()=>{P();N();n(It,"Number")});var nn=d(()=>{Id()});function tr(e){return b({[S]:"String",type:"string"},e)}var xd=d(()=>{P();N();n(tr,"String")});var so=d(()=>{xd()});function*Ib(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield di():t==="number"?yield It():t==="bigint"?yield rn():t==="string"?yield tr():yield(()=>{let r=t.split("|").map(o=>K(o.trim()));return r.length===0?B():r.length===1?r[0]:bt(r)})()}function*xb(e){if(e[1]!=="{"){let t=K("$"),r=pu(e.slice(1));return yield*[t,...r]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let r=Ib(e.slice(2,t)),o=pu(e.slice(t+1));return yield*[...r,...o]}yield K(e)}function*pu(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let r=K(e.slice(0,t)),o=xb(e.slice(t));return yield*[r,...o]}yield K(e)}function wd(e){return[...pu(e)]}var mu=d(()=>{Oe();fi();io();nn();so();ce();we();n(Ib,"FromUnion");n(xb,"FromTerminal");n(pu,"FromSyntax");n(wd,"TemplateLiteralSyntax")});function wb(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sd(e,t){return je(e)?e.pattern.slice(1,e.pattern.length-1):j(e)?`(${e.anyOf.map(r=>Sd(r,t)).join("|")})`:Ir(e)?`${t}${Zn}`:br(e)?`${t}${Zn}`:Va(e)?`${t}${Zn}`:$n(e)?`${t}${Ya}`:At(e)?`${t}${wb(e.const.toString())}`:Wa(e)?`${t}${Xa}`:(()=>{throw new du(`Unexpected Kind '${e[S]}'`)})()}function fu(e){return`^${e.map(t=>Sd(t,"")).join("")}$`}var _u,du,gu=d(()=>{Jn();N();ht();V();_u=class _u extends he{};n(_u,"TemplateLiteralPatternError");du=_u;n(wb,"Escape");n(Sd,"Visit");n(fu,"TemplateLiteralPattern")});function Tr(e){let r=mi(e).map(o=>K(o));return bt(r)}var Ed=d(()=>{ce();Oe();cu();n(Tr,"TemplateLiteralToUnion")});function _i(e,t){let r=q(e)?fu(wd(e)):fu(e);return b({[S]:"TemplateLiteral",type:"string",pattern:r},t)}var Td=d(()=>{P();mu();gu();Pe();N();n(_i,"TemplateLiteral")});var jt=d(()=>{au();cu();mu();pi();gu();Ed();Td()});function Sb(e){return mi(e).map(r=>r.toString())}function Eb(e){let t=[];for(let r of e)t.push(...Re(r));return t}function Tb(e){return[e.toString()]}function Re(e){return[...new Set(je(e)?Sb(e):j(e)?Eb(e.anyOf):At(e)?Tb(e.const):Ir(e)?["[number]"]:br(e)?["[number]"]:[])]}var gi=d(()=>{jt();V();n(Sb,"FromTemplateLiteral");n(Eb,"FromUnion");n(Tb,"FromLiteral");n(Re,"IndexPropertyKeys")});function vb(e,t,r){let o={};for(let a of Object.getOwnPropertyNames(t))o[a]=rr(e,Re(t[a]),r);return o}function Mb(e,t,r){return vb(e,t.properties,r)}function vd(e,t,r){let o=Mb(e,t,r);return D(o)}var hu=d(()=>{_e();gi();xt();n(vb,"FromProperties");n(Mb,"FromMappedResult");n(vd,"IndexFromMappedResult")});function Ld(e,t){return e.map(r=>Pd(r,t))}function Lb(e){return e.filter(t=>!Yt(t))}function Pb(e,t){return hi(Lb(Ld(e,t)))}function Nb(e){return e.some(t=>Yt(t))?[]:e}function kb(e,t){return bt(Nb(Ld(e,t)))}function Fb(e,t){return t in e?e[t]:t==="[number]"?bt(e):B()}function Ob(e,t){return t==="[number]"?e:B()}function Rb(e,t){return t in e?e[t]:B()}function Pd(e,t){var r;return se(e)?Pb(e.allOf,t):j(e)?kb(e.anyOf,t):lt(e)?Fb((r=e.items)!=null?r:[],t):Ot(e)?Ob(e.items,t):fe(e)?Rb(e.properties,t):B()}function yu(e,t){return t.map(r=>Pd(e,r))}function Md(e,t){return bt(yu(e,t))}function rr(e,t,r){if(ee(e)||ee(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!Ve(e)||!Ve(t))throw new he(o);return W("Index",[e,t])}return Q(t)?vd(e,t,r):De(t)?Nd(e,t,r):b(Ve(t)?Md(e,Re(t)):Md(e,t),r)}var bu=d(()=>{P();ht();Ut();we();He();ce();gi();Iu();hu();V();n(Ld,"FromRest");n(Lb,"FromIntersectRest");n(Pb,"FromIntersect");n(Nb,"FromUnionRest");n(kb,"FromUnion");n(Fb,"FromTuple");n(Ob,"FromArray");n(Rb,"FromProperty");n(Pd,"IndexFromPropertyKey");n(yu,"IndexFromPropertyKeys");n(Md,"FromSchema");n(rr,"Index")});function Cb(e,t,r){return{[t]:rr(e,[t],Y(r))}}function Ab(e,t,r){return t.reduce((o,a)=>({...o,...Cb(e,a,r)}),{})}function Ub(e,t,r){return Ab(e,t.keys,r)}function Nd(e,t,r){let o=Ub(e,t,r);return D(o)}var Iu=d(()=>{bu();_e();Ne();n(Cb,"MappedIndexPropertyKey");n(Ab,"MappedIndexPropertyKeys");n(Ub,"MappedIndexProperties");n(Nd,"IndexFromMappedKey")});var xt=d(()=>{Iu();hu();gi();bu()});function on(e,t){return b({[S]:"Iterator",type:"Iterator",items:e},t)}var kd=d(()=>{P();N();n(on,"Iterator")});var ao=d(()=>{kd()});function Bb(e){let t=[];for(let r in e)ze(e[r])||t.push(r);return t}function Db(e,t){let r=Bb(e),o=r.length>0?{[S]:"Object",type:"object",properties:e,required:r}:{[S]:"Object",type:"object",properties:e};return b(o,t)}var J,Fd=d(()=>{P();N();V();n(Bb,"RequiredKeys");n(Db,"_Object");J=Db});var qe=d(()=>{Fd()});function yi(e,t){return b({[S]:"Promise",type:"Promise",item:e},t)}var Od=d(()=>{P();N();n(yi,"Promise")});var bi=d(()=>{Od()});function jb(e){return b(te(e,[ut]))}function Vb(e){return b({...e,[ut]:"Readonly"})}function Wb(e,t){return t===!1?jb(e):Vb(e)}function Ze(e,t){let r=t!=null?t:!0;return Q(e)?Rd(e,r):Wb(e,r)}var xu=d(()=>{P();N();Bt();wu();V();n(jb,"RemoveReadonly");n(Vb,"AddReadonly");n(Wb,"ReadonlyWithFlag");n(Ze,"Readonly")});function Kb(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Ze(e[o],t);return r}function Gb(e,t){return Kb(e.properties,t)}function Rd(e,t){let r=Gb(e,t);return D(r)}var wu=d(()=>{_e();xu();n(Kb,"FromProperties");n(Gb,"FromMappedResult");n(Rd,"ReadonlyFromMappedResult")});var sn=d(()=>{wu();xu()});function Je(e,t){return b(e.length>0?{[S]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[S]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}var Cd=d(()=>{P();N();n(Je,"Tuple")});var nr=d(()=>{Cd()});function Ad(e,t){return e in t?Xe(e,t[e]):D(t)}function $b(e){return{[e]:K(e)}}function zb(e){let t={};for(let r of e)t[r]=K(r);return t}function Hb(e,t){return Xm(t,e)?$b(e):zb(t)}function qb(e,t){let r=Hb(e,t);return Ad(e,r)}function uo(e,t){return t.map(r=>Xe(e,r))}function Zb(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(t))r[o]=Xe(e,t[o]);return r}function Xe(e,t){var o;let r={...t};return ze(t)?Fe(Xe(e,te(t,[xe]))):si(t)?Ze(Xe(e,te(t,[ut]))):Q(t)?Ad(e,t.properties):De(t)?qb(e,t.keys):Rt(t)?Qr(uo(e,t.parameters),Xe(e,t.returns),r):Ct(t)?yt(uo(e,t.parameters),Xe(e,t.returns),r):Wn(t)?Yr(Xe(e,t.items),r):Kn(t)?on(Xe(e,t.items),r):se(t)?Te(uo(e,t.allOf),r):j(t)?G(uo(e,t.anyOf),r):lt(t)?Je(uo(e,(o=t.items)!=null?o:[]),r):fe(t)?J(Zb(e,t.properties),r):Ot(t)?Xr(Xe(e,t.items),r):Gn(t)?yi(Xe(e,t.item),r):t}function Jb(e,t){let r={};for(let o of e)r[o]=Xe(o,t);return r}function Ud(e,t,r){let o=Ve(e)?Re(e):e,a=t({[S]:"MappedKey",keys:o}),u=Jb(o,a);return J(u,r)}var Bd=d(()=>{N();Bt();Qn();eo();to();Sr();xt();He();ao();Oe();qe();er();bi();sn();nr();ce();Xn();tu();V();n(Ad,"FromMappedResult");n($b,"MappedKeyToKnownMappedResultProperties");n(zb,"MappedKeyToUnknownMappedResultProperties");n(Hb,"MappedKeyToMappedResultProperties");n(qb,"FromMappedKey");n(uo,"FromRest");n(Zb,"FromProperties");n(Xe,"FromSchemaType");n(Jb,"MappedFunctionReturnType");n(Ud,"Mapped")});var _e=d(()=>{ad();tu();Bd()});function Xb(e){return b(te(e,[xe]))}function Yb(e){return b({...e,[xe]:"Optional"})}function Qb(e,t){return t===!1?Xb(e):Yb(e)}function Fe(e,t){let r=t!=null?t:!0;return Q(e)?Dd(e,r):Qb(e,r)}var Su=d(()=>{P();N();Bt();Eu();V();n(Xb,"RemoveOptional");n(Yb,"AddOptional");n(Qb,"OptionalWithFlag");n(Fe,"Optional")});function eI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=Fe(e[o],t);return r}function tI(e,t){return eI(e.properties,t)}function Dd(e,t){let r=tI(e,t);return D(r)}var Eu=d(()=>{_e();Su();n(eI,"FromProperties");n(tI,"FromMappedResult");n(Dd,"OptionalFromMappedResult")});var er=d(()=>{Eu();Su()});function lo(e,t={}){let r=e.every(a=>fe(a)),o=Ve(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return b(t.unevaluatedProperties===!1||Ve(t.unevaluatedProperties)||r?{...o,[S]:"Intersect",type:"object",allOf:e}:{...o,[S]:"Intersect",allOf:e},t)}var Tu=d(()=>{P();N();V();n(lo,"IntersectCreate")});function rI(e){return e.every(t=>ze(t))}function nI(e){return te(e,[xe])}function jd(e){return e.map(t=>ze(t)?nI(t):t)}function oI(e,t){return rI(e)?Fe(lo(jd(e),t)):lo(jd(e),t)}function hi(e,t={}){if(e.length===1)return b(e[0],t);if(e.length===0)return B(t);if(e.some(r=>qr(r)))throw new Error("Cannot intersect transform types");return oI(e,t)}var Vd=d(()=>{N();P();Bt();we();er();Tu();V();n(rI,"IsIntersectOptional");n(nI,"RemoveOptionalFromType");n(jd,"RemoveOptionalFromRest");n(oI,"ResolveIntersect");n(hi,"IntersectEvaluated")});var Wd=d(()=>{});function Te(e,t){if(e.length===1)return b(e[0],t);if(e.length===0)return B(t);if(e.some(r=>qr(r)))throw new Error("Cannot intersect transform types");return lo(e,t)}var Kd=d(()=>{P();we();Tu();V();n(Te,"Intersect")});var He=d(()=>{Vd();Wd();Kd()});function Ye(...e){let[t,r]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new he("Ref: $ref must be a string");return b({[S]:"Ref",$ref:t},r)}var Gd=d(()=>{ht();P();N();n(Ye,"Ref")});var or=d(()=>{Gd()});function iI(e,t){return W("Awaited",[W(e,t)])}function sI(e){return W("Awaited",[Ye(e)])}function aI(e){return Te($d(e))}function uI(e){return G($d(e))}function lI(e){return an(e)}function $d(e){return e.map(t=>an(t))}function an(e,t){return b(ke(e)?iI(e.target,e.parameters):se(e)?aI(e.allOf):j(e)?uI(e.anyOf):Gn(e)?lI(e.item):ee(e)?sI(e.$ref):e,t)}var zd=d(()=>{P();Ut();He();ce();or();V();n(iI,"FromComputed");n(sI,"FromRef");n(aI,"FromIntersect");n(uI,"FromUnion");n(lI,"FromPromise");n($d,"FromRest");n(an,"Awaited")});var Ii=d(()=>{zd()});function Hd(e){let t=[];for(let r of e)t.push(co(r));return t}function cI(e){let t=Hd(e);return ed(t)}function pI(e){let t=Hd(e);return Qm(t)}function mI(e){return e.map((t,r)=>r.toString())}function dI(e){return["[number]"]}function fI(e){return globalThis.Object.getOwnPropertyNames(e)}function _I(e){return gI?globalThis.Object.getOwnPropertyNames(e).map(r=>r[0]==="^"&&r[r.length-1]==="$"?r.slice(1,r.length-1):r):[]}function co(e){var t;return se(e)?cI(e.allOf):j(e)?pI(e.anyOf):lt(e)?mI((t=e.items)!=null?t:[]):Ot(e)?dI(e.items):fe(e)?fI(e.properties):Ka(e)?_I(e.patternProperties):[]}var gI,vu=d(()=>{Xn();V();n(Hd,"FromRest");n(cI,"FromIntersect");n(pI,"FromUnion");n(mI,"FromTuple");n(dI,"FromArray");n(fI,"FromProperties");n(_I,"FromPatternProperties");n(co,"KeyOfPropertyKeys");gI=!1});function hI(e,t){return W("KeyOf",[W(e,t)])}function yI(e){return W("KeyOf",[Ye(e)])}function bI(e,t){let r=co(e),o=II(r),a=bt(o);return b(a,t)}function II(e){return e.map(t=>t==="[number]"?It():K(t))}function un(e,t){return ke(e)?hI(e.target,e.parameters):ee(e)?yI(e.$ref):Q(e)?qd(e,t):bI(e,t)}var Mu=d(()=>{P();Oe();nn();Ut();or();vu();ce();Lu();V();n(hI,"FromComputed");n(yI,"FromRef");n(bI,"KeyOfFromType");n(II,"KeyOfPropertyKeysToRest");n(un,"KeyOf")});function xI(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=un(e[o],Y(t));return r}function wI(e,t){return xI(e.properties,t)}function qd(e,t){let r=wI(e,t);return D(r)}var Lu=d(()=>{_e();Mu();Ne();n(xI,"FromProperties");n(wI,"FromMappedResult");n(qd,"KeyOfFromMappedResult")});var Zd=d(()=>{});var po=d(()=>{Lu();Zd();vu();Mu()});function SI(e){let t=[];for(let r of e)t.push(...co(r));return Ym(t)}function EI(e){return e.filter(t=>!Yt(t))}function TI(e,t){let r=[];for(let o of e)r.push(...yu(o,[t]));return EI(r)}function vI(e,t){let r={};for(let o of t)r[o]=hi(TI(e,o));return r}function Jd(e,t){let r=SI(e),o=vI(e,r);return J(o,t)}var Xd=d(()=>{He();xt();po();qe();Xn();V();n(SI,"CompositeKeys");n(EI,"FilterNever");n(TI,"CompositeProperty");n(vI,"CompositeProperties");n(Jd,"Composite")});var Pu=d(()=>{Xd()});function xi(e){return b({[S]:"Date",type:"Date"},e)}var Yd=d(()=>{N();P();n(xi,"Date")});var wi=d(()=>{Yd()});function Si(e){return b({[S]:"Null",type:"null"},e)}var Qd=d(()=>{P();N();n(Si,"Null")});var Ei=d(()=>{Qd()});function Ti(e){return b({[S]:"Symbol",type:"symbol"},e)}var ef=d(()=>{P();N();n(Ti,"Symbol")});var vi=d(()=>{ef()});function Mi(e){return b({[S]:"Undefined",type:"undefined"},e)}var tf=d(()=>{P();N();n(Mi,"Undefined")});var Li=d(()=>{tf()});function Pi(e){return b({[S]:"Uint8Array",type:"Uint8Array"},e)}var rf=d(()=>{P();N();n(Pi,"Uint8Array")});var Ni=d(()=>{rf()});function ln(e){return b({[S]:"Unknown"},e)}var nf=d(()=>{P();N();n(ln,"Unknown")});var mo=d(()=>{nf()});function MI(e){return e.map(t=>Nu(t,!1))}function LI(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Ze(Nu(e[r],!1));return t}function ki(e,t){return t===!0?e:Ze(e)}function Nu(e,t){return Oa(e)?ki(Qt(),t):Ca(e)?ki(Qt(),t):ie(e)?Ze(Je(MI(e))):kt(e)?Pi():yr(e)?xi():$(e)?ki(J(LI(e)),t):Ra(e)?ki(yt([],ln()),t):de(e)?Mi():Aa(e)?Si():Ua(e)?Ti():Bn(e)?rn():Ge(e)?K(e):Nt(e)?K(e):q(e)?K(e):J({})}function of(e,t){return b(Nu(e,!0),t)}var sf=d(()=>{Yn();io();wi();Sr();Oe();Ei();qe();vi();nr();sn();Li();Ni();mo();Ft();Pe();n(MI,"FromArray");n(LI,"FromProperties");n(ki,"ConditionalReadonly");n(Nu,"FromValue");n(of,"Const")});var ku=d(()=>{sf()});function af(e,t){return Rt(e)?Je(e.parameters,t):B(t)}var uf=d(()=>{nr();we();V();n(af,"ConstructorParameters")});var Fu=d(()=>{uf()});function lf(e,t){if(de(e))throw new Error("Enum undefined or empty");let r=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),a=[...new Set(r)].map(u=>K(u));return G(a,{...t,[$e]:"Enum"})}var cf=d(()=>{Oe();N();ce();Pe();n(lf,"Enum")});var Ou=d(()=>{cf()});function Qe(e){return e===y.False?e:y.True}function cn(e){throw new Cu(e)}function pe(e){return _.IsNever(e)||_.IsIntersect(e)||_.IsUnion(e)||_.IsUnknown(e)||_.IsAny(e)}function me(e,t){return _.IsNever(t)?hf(e,t):_.IsIntersect(t)?Fi(e,t):_.IsUnion(t)?Du(e,t):_.IsUnknown(t)?xf(e,t):_.IsAny(t)?Bu(e,t):cn("StructuralRight")}function Bu(e,t){return y.True}function PI(e,t){return _.IsIntersect(t)?Fi(e,t):_.IsUnion(t)&&t.anyOf.some(r=>_.IsAny(r)||_.IsUnknown(r))?y.True:_.IsUnion(t)?y.Union:_.IsUnknown(t)||_.IsAny(t)?y.True:y.Union}function NI(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)?y.True:y.False}function kI(e,t){return _.IsObject(t)&&Oi(t)?y.True:pe(t)?me(e,t):_.IsArray(t)?Qe(H(e.items,t.items)):y.False}function FI(e,t){return pe(t)?me(e,t):_.IsAsyncIterator(t)?Qe(H(e.items,t.items)):y.False}function OI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsBigInt(t)?y.True:y.False}function _f(e,t){return _.IsLiteralBoolean(e)||_.IsBoolean(e)?y.True:y.False}function RI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsBoolean(t)?y.True:y.False}function CI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsConstructor(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>Qe(H(t.parameters[o],r))===y.True)?Qe(H(e.returns,t.returns)):y.False:y.False}function AI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsDate(t)?y.True:y.False}function UI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsFunction(t)?e.parameters.length>t.parameters.length?y.False:e.parameters.every((r,o)=>Qe(H(t.parameters[o],r))===y.True)?Qe(H(e.returns,t.returns)):y.False:y.False}function gf(e,t){return _.IsLiteral(e)&&Ee.IsNumber(e.const)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function BI(e,t){return _.IsInteger(t)||_.IsNumber(t)?y.True:pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):y.False}function Fi(e,t){return t.allOf.every(r=>H(e,r)===y.True)?y.True:y.False}function DI(e,t){return e.allOf.some(r=>H(r,t)===y.True)?y.True:y.False}function jI(e,t){return pe(t)?me(e,t):_.IsIterator(t)?Qe(H(e.items,t.items)):y.False}function VI(e,t){return _.IsLiteral(t)&&t.const===e.const?y.True:pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsString(t)?If(e,t):_.IsNumber(t)?yf(e,t):_.IsInteger(t)?gf(e,t):_.IsBoolean(t)?_f(e,t):y.False}function hf(e,t){return y.False}function WI(e,t){return y.True}function pf(e){let[t,r]=[e,0];for(;_.IsNot(t);)t=t.not,r+=1;return r%2===0?t:ln()}function KI(e,t){return _.IsNot(e)?H(pf(e),t):_.IsNot(t)?H(e,pf(t)):cn("Invalid fallthrough for Not")}function GI(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsNull(t)?y.True:y.False}function yf(e,t){return _.IsLiteralNumber(e)||_.IsNumber(e)||_.IsInteger(e)?y.True:y.False}function $I(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsInteger(t)||_.IsNumber(t)?y.True:y.False}function Ce(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function mf(e){return Oi(e)}function df(e){return Ce(e,0)||Ce(e,1)&&"description"in e.properties&&_.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(_.IsString(e.properties.description.anyOf[0])&&_.IsUndefined(e.properties.description.anyOf[1])||_.IsString(e.properties.description.anyOf[1])&&_.IsUndefined(e.properties.description.anyOf[0]))}function Ru(e){return Ce(e,0)}function ff(e){return Ce(e,0)}function zI(e){return Ce(e,0)}function HI(e){return Ce(e,0)}function qI(e){return Oi(e)}function ZI(e){let t=It();return Ce(e,0)||Ce(e,1)&&"length"in e.properties&&Qe(H(e.properties.length,t))===y.True}function JI(e){return Ce(e,0)}function Oi(e){let t=It();return Ce(e,0)||Ce(e,1)&&"length"in e.properties&&Qe(H(e.properties.length,t))===y.True}function XI(e){let t=yt([Qt()],Qt());return Ce(e,0)||Ce(e,1)&&"then"in e.properties&&Qe(H(e.properties.then,t))===y.True}function bf(e,t){return H(e,t)===y.False||_.IsOptional(e)&&!_.IsOptional(t)?y.False:y.True}function ve(e,t){return _.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:_.IsNever(e)||_.IsLiteralString(e)&&mf(t)||_.IsLiteralNumber(e)&&Ru(t)||_.IsLiteralBoolean(e)&&ff(t)||_.IsSymbol(e)&&df(t)||_.IsBigInt(e)&&zI(t)||_.IsString(e)&&mf(t)||_.IsSymbol(e)&&df(t)||_.IsNumber(e)&&Ru(t)||_.IsInteger(e)&&Ru(t)||_.IsBoolean(e)&&ff(t)||_.IsUint8Array(e)&&qI(t)||_.IsDate(e)&&HI(t)||_.IsConstructor(e)&&JI(t)||_.IsFunction(e)&&ZI(t)?y.True:_.IsRecord(e)&&_.IsString(Au(e))?t[$e]==="Record"?y.True:y.False:_.IsRecord(e)&&_.IsNumber(Au(e))?Ce(t,0)?y.True:y.False:y.False}function YI(e,t){return pe(t)?me(e,t):_.IsRecord(t)?et(e,t):_.IsObject(t)?(()=>{for(let r of Object.getOwnPropertyNames(t.properties)){if(!(r in e.properties)&&!_.IsOptional(t.properties[r]))return y.False;if(_.IsOptional(t.properties[r]))return y.True;if(bf(e.properties[r],t.properties[r])===y.False)return y.False}return y.True})():y.False}function QI(e,t){return pe(t)?me(e,t):_.IsObject(t)&&XI(t)?y.True:_.IsPromise(t)?Qe(H(e.item,t.item)):y.False}function Au(e){return xr in e.patternProperties?It():wr in e.patternProperties?tr():cn("Unknown record key pattern")}function Uu(e){return xr in e.patternProperties?e.patternProperties[xr]:wr in e.patternProperties?e.patternProperties[wr]:cn("Unable to get record value schema")}function et(e,t){let[r,o]=[Au(t),Uu(t)];return _.IsLiteralString(e)&&_.IsNumber(r)&&Qe(H(e,o))===y.True?y.True:_.IsUint8Array(e)&&_.IsNumber(r)||_.IsString(e)&&_.IsNumber(r)||_.IsArray(e)&&_.IsNumber(r)?H(e,o):_.IsObject(e)?(()=>{for(let a of Object.getOwnPropertyNames(e.properties))if(bf(o,e.properties[a])===y.False)return y.False;return y.True})():y.False}function ex(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?H(Uu(e),Uu(t)):y.False}function tx(e,t){let r=_.IsRegExp(e)?tr():e,o=_.IsRegExp(t)?tr():t;return H(r,o)}function If(e,t){return _.IsLiteral(e)&&Ee.IsString(e.const)||_.IsString(e)?y.True:y.False}function rx(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsString(t)?y.True:y.False}function nx(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsSymbol(t)?y.True:y.False}function ox(e,t){return _.IsTemplateLiteral(e)?H(Tr(e),t):_.IsTemplateLiteral(t)?H(e,Tr(t)):cn("Invalid fallthrough for TemplateLiteral")}function ix(e,t){return _.IsArray(t)&&e.items!==void 0&&e.items.every(r=>H(r,t.items)===y.True)}function sx(e,t){return _.IsNever(e)?y.True:_.IsUnknown(e)?y.False:_.IsAny(e)?y.Union:y.False}function ax(e,t){return pe(t)?me(e,t):_.IsObject(t)&&Oi(t)||_.IsArray(t)&&ix(e,t)?y.True:_.IsTuple(t)?Ee.IsUndefined(e.items)&&!Ee.IsUndefined(t.items)||!Ee.IsUndefined(e.items)&&Ee.IsUndefined(t.items)?y.False:Ee.IsUndefined(e.items)&&!Ee.IsUndefined(t.items)||e.items.every((r,o)=>H(r,t.items[o])===y.True)?y.True:y.False:y.False}function ux(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsUint8Array(t)?y.True:y.False}function lx(e,t){return pe(t)?me(e,t):_.IsObject(t)?ve(e,t):_.IsRecord(t)?et(e,t):_.IsVoid(t)?mx(e,t):_.IsUndefined(t)?y.True:y.False}function Du(e,t){return t.anyOf.some(r=>H(e,r)===y.True)?y.True:y.False}function cx(e,t){return e.anyOf.every(r=>H(r,t)===y.True)?y.True:y.False}function xf(e,t){return y.True}function px(e,t){return _.IsNever(t)?hf(e,t):_.IsIntersect(t)?Fi(e,t):_.IsUnion(t)?Du(e,t):_.IsAny(t)?Bu(e,t):_.IsString(t)?If(e,t):_.IsNumber(t)?yf(e,t):_.IsInteger(t)?gf(e,t):_.IsBoolean(t)?_f(e,t):_.IsArray(t)?NI(e,t):_.IsTuple(t)?sx(e,t):_.IsObject(t)?ve(e,t):_.IsUnknown(t)?y.True:y.False}function mx(e,t){return _.IsUndefined(e)||_.IsUndefined(e)?y.True:y.False}function dx(e,t){return _.IsIntersect(t)?Fi(e,t):_.IsUnion(t)?Du(e,t):_.IsUnknown(t)?xf(e,t):_.IsAny(t)?Bu(e,t):_.IsObject(t)?ve(e,t):_.IsVoid(t)?y.True:y.False}function H(e,t){return _.IsTemplateLiteral(e)||_.IsTemplateLiteral(t)?ox(e,t):_.IsRegExp(e)||_.IsRegExp(t)?tx(e,t):_.IsNot(e)||_.IsNot(t)?KI(e,t):_.IsAny(e)?PI(e,t):_.IsArray(e)?kI(e,t):_.IsBigInt(e)?OI(e,t):_.IsBoolean(e)?RI(e,t):_.IsAsyncIterator(e)?FI(e,t):_.IsConstructor(e)?CI(e,t):_.IsDate(e)?AI(e,t):_.IsFunction(e)?UI(e,t):_.IsInteger(e)?BI(e,t):_.IsIntersect(e)?DI(e,t):_.IsIterator(e)?jI(e,t):_.IsLiteral(e)?VI(e,t):_.IsNever(e)?WI(e,t):_.IsNull(e)?GI(e,t):_.IsNumber(e)?$I(e,t):_.IsObject(e)?YI(e,t):_.IsRecord(e)?ex(e,t):_.IsString(e)?rx(e,t):_.IsSymbol(e)?nx(e,t):_.IsTuple(e)?ax(e,t):_.IsPromise(e)?QI(e,t):_.IsUint8Array(e)?ux(e,t):_.IsUndefined(e)?lx(e,t):_.IsUnion(e)?cx(e,t):_.IsUnknown(e)?px(e,t):_.IsVoid(e)?dx(e,t):cn(`Unknown left type operand '${e[S]}'`)}function ir(e,t){return H(e,t)}var ju,Cu,y,Vu=d(()=>{Yn();Sr();nn();so();mo();jt();Jn();N();ht();Ja();ju=class ju extends he{};n(ju,"ExtendsResolverError");Cu=ju;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(y||(y={}));n(Qe,"IntoBooleanResult");n(cn,"Throw");n(pe,"IsStructuralRight");n(me,"StructuralRight");n(Bu,"FromAnyRight");n(PI,"FromAny");n(NI,"FromArrayRight");n(kI,"FromArray");n(FI,"FromAsyncIterator");n(OI,"FromBigInt");n(_f,"FromBooleanRight");n(RI,"FromBoolean");n(CI,"FromConstructor");n(AI,"FromDate");n(UI,"FromFunction");n(gf,"FromIntegerRight");n(BI,"FromInteger");n(Fi,"FromIntersectRight");n(DI,"FromIntersect");n(jI,"FromIterator");n(VI,"FromLiteral");n(hf,"FromNeverRight");n(WI,"FromNever");n(pf,"UnwrapTNot");n(KI,"FromNot");n(GI,"FromNull");n(yf,"FromNumberRight");n($I,"FromNumber");n(Ce,"IsObjectPropertyCount");n(mf,"IsObjectStringLike");n(df,"IsObjectSymbolLike");n(Ru,"IsObjectNumberLike");n(ff,"IsObjectBooleanLike");n(zI,"IsObjectBigIntLike");n(HI,"IsObjectDateLike");n(qI,"IsObjectUint8ArrayLike");n(ZI,"IsObjectFunctionLike");n(JI,"IsObjectConstructorLike");n(Oi,"IsObjectArrayLike");n(XI,"IsObjectPromiseLike");n(bf,"Property");n(ve,"FromObjectRight");n(YI,"FromObject");n(QI,"FromPromise");n(Au,"RecordKey");n(Uu,"RecordValue");n(et,"FromRecordRight");n(ex,"FromRecord");n(tx,"FromRegExp");n(If,"FromStringRight");n(rx,"FromString");n(nx,"FromSymbol");n(ox,"FromTemplateLiteral");n(ix,"IsArrayOfTuple");n(sx,"FromTupleRight");n(ax,"FromTuple");n(ux,"FromUint8Array");n(lx,"FromUndefined");n(Du,"FromUnionRight");n(cx,"FromUnion");n(xf,"FromUnknownRight");n(px,"FromUnknown");n(mx,"FromVoidRight");n(dx,"FromVoid");n(H,"Visit");n(ir,"ExtendsCheck")});function fx(e,t,r,o,a){let u={};for(let i of globalThis.Object.getOwnPropertyNames(e))u[i]=pn(e[i],t,r,o,Y(a));return u}function _x(e,t,r,o,a){return fx(e.properties,t,r,o,a)}function wf(e,t,r,o,a){let u=_x(e,t,r,o,a);return D(u)}var Wu=d(()=>{_e();Ri();Ne();n(fx,"FromProperties");n(_x,"FromMappedResult");n(wf,"ExtendsFromMappedResult")});function gx(e,t,r,o){let a=ir(e,t);return a===y.Union?G([r,o]):a===y.True?r:o}function pn(e,t,r,o,a){return Q(e)?wf(e,t,r,o,a):De(e)?b(Sf(e,t,r,o,a)):b(gx(e,t,r,o),a)}var Ri=d(()=>{P();ce();Vu();Ku();Wu();V();n(gx,"ExtendsResolve");n(pn,"Extends")});function hx(e,t,r,o,a){return{[e]:pn(K(e),t,r,o,Y(a))}}function yx(e,t,r,o,a){return e.reduce((u,i)=>({...u,...hx(i,t,r,o,a)}),{})}function bx(e,t,r,o,a){return yx(e.keys,t,r,o,a)}function Sf(e,t,r,o,a){let u=bx(e,t,r,o,a);return D(u)}var Ku=d(()=>{_e();Oe();Ri();Ne();n(hx,"FromPropertyKey");n(yx,"FromPropertyKeys");n(bx,"FromMappedKey");n(Sf,"ExtendsFromMappedKey")});var Ef=d(()=>{});var fo=d(()=>{Vu();Ku();Wu();Ef();Ri()});function Tf(e,t){return mn(Tr(e),t)}var Gu=d(()=>{Ci();jt();n(Tf,"ExcludeFromTemplateLiteral")});function Ix(e,t){let r=e.filter(o=>ir(o,t)===y.False);return r.length===1?r[0]:G(r)}function mn(e,t,r={}){return je(e)?b(Tf(e,t),r):Q(e)?b(vf(e,t),r):b(j(e)?Ix(e.anyOf,t):ir(e,t)!==y.False?B():e,r)}var Ci=d(()=>{P();ce();we();fo();$u();Gu();V();n(Ix,"ExcludeRest");n(mn,"Exclude")});function xx(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=mn(e[o],t);return r}function wx(e,t){return xx(e.properties,t)}function vf(e,t){let r=wx(e,t);return D(r)}var $u=d(()=>{_e();Ci();n(xx,"FromProperties");n(wx,"FromMappedResult");n(vf,"ExcludeFromMappedResult")});var zu=d(()=>{$u();Gu();Ci()});function Mf(e,t){return dn(Tr(e),t)}var Hu=d(()=>{Ai();jt();n(Mf,"ExtractFromTemplateLiteral")});function Sx(e,t){let r=e.filter(o=>ir(o,t)!==y.False);return r.length===1?r[0]:G(r)}function dn(e,t,r){return je(e)?b(Mf(e,t),r):Q(e)?b(Lf(e,t),r):b(j(e)?Sx(e.anyOf,t):ir(e,t)!==y.False?e:B(),r)}var Ai=d(()=>{P();ce();we();fo();qu();Hu();V();n(Sx,"ExtractRest");n(dn,"Extract")});function Ex(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=dn(e[o],t);return r}function Tx(e,t){return Ex(e.properties,t)}function Lf(e,t){let r=Tx(e,t);return D(r)}var qu=d(()=>{_e();Ai();n(Ex,"FromProperties");n(Tx,"FromMappedResult");n(Lf,"ExtractFromMappedResult")});var Zu=d(()=>{qu();Hu();Ai()});function Pf(e,t){return Rt(e)?b(e.returns,t):B(t)}var Nf=d(()=>{P();we();V();n(Pf,"InstanceType")});var Ju=d(()=>{Nf()});function kf(e){return b({[S]:"Integer",type:"integer"},e)}var Ff=d(()=>{P();N();n(kf,"Integer")});var Xu=d(()=>{Ff()});function vx(e,t,r){return{[e]:ct(K(e),t,Y(r))}}function Mx(e,t,r){return e.reduce((a,u)=>({...a,...vx(u,t,r)}),{})}function Lx(e,t,r){return Mx(e.keys,t,r)}function Of(e,t,r){let o=Lx(e,t,r);return D(o)}var Yu=d(()=>{_e();vr();Oe();Ne();n(vx,"MappedIntrinsicPropertyKey");n(Mx,"MappedIntrinsicPropertyKeys");n(Lx,"MappedIntrinsicProperties");n(Of,"IntrinsicFromMappedKey")});function Px(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),r].join("")}function Nx(e){let[t,r]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),r].join("")}function kx(e){return e.toUpperCase()}function Fx(e){return e.toLowerCase()}function Ox(e,t,r){let o=tn(e.pattern);if(!Er(o))return{...e,pattern:Rf(e.pattern,t)};let i=[...oo(o)].map(c=>K(c)),s=Cf(i,t),l=G(s);return _i([l],r)}function Rf(e,t){return typeof e=="string"?t==="Uncapitalize"?Px(e):t==="Capitalize"?Nx(e):t==="Uppercase"?kx(e):t==="Lowercase"?Fx(e):e:e.toString()}function Cf(e,t){return e.map(r=>ct(r,t))}function ct(e,t,r={}){return De(e)?Of(e,t,r):je(e)?Ox(e,t,r):j(e)?G(Cf(e.anyOf,t),r):At(e)?K(Rf(e.const,t),r):b(e,r)}var vr=d(()=>{P();jt();Yu();Oe();ce();V();n(Px,"ApplyUncapitalize");n(Nx,"ApplyCapitalize");n(kx,"ApplyUppercase");n(Fx,"ApplyLowercase");n(Ox,"FromTemplateLiteral");n(Rf,"FromLiteralValue");n(Cf,"FromRest");n(ct,"Intrinsic")});function Af(e,t={}){return ct(e,"Capitalize",t)}var Uf=d(()=>{vr();n(Af,"Capitalize")});function Bf(e,t={}){return ct(e,"Lowercase",t)}var Df=d(()=>{vr();n(Bf,"Lowercase")});function jf(e,t={}){return ct(e,"Uncapitalize",t)}var Vf=d(()=>{vr();n(jf,"Uncapitalize")});function Wf(e,t={}){return ct(e,"Uppercase",t)}var Kf=d(()=>{vr();n(Wf,"Uppercase")});var Qu=d(()=>{Uf();Yu();vr();Df();Vf();Kf()});function Rx(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=sr(e[a],t,Y(r));return o}function Cx(e,t,r){return Rx(e.properties,t,r)}function Gf(e,t,r){let o=Cx(e,t,r);return D(o)}var el=d(()=>{_e();Ui();Ne();n(Rx,"FromProperties");n(Cx,"FromMappedResult");n(Gf,"OmitFromMappedResult")});function Ax(e,t){return e.map(r=>tl(r,t))}function Ux(e,t){return e.map(r=>tl(r,t))}function Bx(e,t){let{[t]:r,...o}=e;return o}function Dx(e,t){return t.reduce((r,o)=>Bx(r,o),e)}function jx(e,t){let r=te(e,[Ie,"$id","required","properties"]),o=Dx(e.properties,t);return J(o,r)}function Vx(e){let t=e.reduce((r,o)=>ai(o)?[...r,K(o)]:r,[]);return G(t)}function tl(e,t){return se(e)?Te(Ax(e.allOf,t)):j(e)?G(Ux(e.anyOf,t)):fe(e)?jx(e,t):J({})}function sr(e,t,r){let o=ie(t)?Vx(t):t,a=Ve(t)?Re(t):t,u=ee(e),i=ee(t);return Q(e)?Gf(e,a,r):De(t)?$f(e,t,r):u&&i?W("Omit",[e,o],r):!u&&i?W("Omit",[e,o],r):u&&!i?W("Omit",[e,o],r):b({...tl(e,a),...r})}var Ui=d(()=>{P();li();Vn();Ut();Oe();xt();He();ce();qe();rl();el();V();Pe();n(Ax,"FromIntersect");n(Ux,"FromUnion");n(Bx,"FromProperty");n(Dx,"FromProperties");n(jx,"FromObject");n(Vx,"UnionFromPropertyKeys");n(tl,"OmitResolve");n(sr,"Omit")});function Wx(e,t,r){return{[t]:sr(e,[t],Y(r))}}function Kx(e,t,r){return t.reduce((o,a)=>({...o,...Wx(e,a,r)}),{})}function Gx(e,t,r){return Kx(e,t.keys,r)}function $f(e,t,r){let o=Gx(e,t,r);return D(o)}var rl=d(()=>{_e();Ui();Ne();n(Wx,"FromPropertyKey");n(Kx,"FromPropertyKeys");n(Gx,"FromMappedKey");n($f,"OmitFromMappedKey")});var Bi=d(()=>{rl();el();Ui()});function $x(e,t,r){let o={};for(let a of globalThis.Object.getOwnPropertyNames(e))o[a]=ar(e[a],t,Y(r));return o}function zx(e,t,r){return $x(e.properties,t,r)}function zf(e,t,r){let o=zx(e,t,r);return D(o)}var nl=d(()=>{_e();Di();Ne();n($x,"FromProperties");n(zx,"FromMappedResult");n(zf,"PickFromMappedResult")});function Hx(e,t){return e.map(r=>ol(r,t))}function qx(e,t){return e.map(r=>ol(r,t))}function Zx(e,t){let r={};for(let o of t)o in e&&(r[o]=e[o]);return r}function Jx(e,t){let r=te(e,[Ie,"$id","required","properties"]),o=Zx(e.properties,t);return J(o,r)}function Xx(e){let t=e.reduce((r,o)=>ai(o)?[...r,K(o)]:r,[]);return G(t)}function ol(e,t){return se(e)?Te(Hx(e.allOf,t)):j(e)?G(qx(e.anyOf,t)):fe(e)?Jx(e,t):J({})}function ar(e,t,r){let o=ie(t)?Xx(t):t,a=Ve(t)?Re(t):t,u=ee(e),i=ee(t);return Q(e)?zf(e,a,r):De(t)?Hf(e,t,r):u&&i?W("Pick",[e,o],r):!u&&i?W("Pick",[e,o],r):u&&!i?W("Pick",[e,o],r):b({...ol(e,a),...r})}var Di=d(()=>{P();li();Ut();He();Oe();qe();ce();xt();Vn();V();Pe();il();nl();n(Hx,"FromIntersect");n(qx,"FromUnion");n(Zx,"FromProperties");n(Jx,"FromObject");n(Xx,"UnionFromPropertyKeys");n(ol,"PickResolve");n(ar,"Pick")});function Yx(e,t,r){return{[t]:ar(e,[t],Y(r))}}function Qx(e,t,r){return t.reduce((o,a)=>({...o,...Yx(e,a,r)}),{})}function ew(e,t,r){return Qx(e,t.keys,r)}function Hf(e,t,r){let o=ew(e,t,r);return D(o)}var il=d(()=>{_e();Di();Ne();n(Yx,"FromPropertyKey");n(Qx,"FromPropertyKeys");n(ew,"FromMappedKey");n(Hf,"PickFromMappedKey")});var ji=d(()=>{il();nl();Di()});function tw(e,t){return W("Partial",[W(e,t)])}function rw(e){return W("Partial",[Ye(e)])}function nw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=Fe(e[r]);return t}function ow(e){let t=te(e,[Ie,"$id","required","properties"]),r=nw(e.properties);return J(r,t)}function qf(e){return e.map(t=>Zf(t))}function Zf(e){return ke(e)?tw(e.target,e.parameters):ee(e)?rw(e.$ref):se(e)?Te(qf(e.allOf)):j(e)?G(qf(e.anyOf)):fe(e)?ow(e):J({})}function fn(e,t){return Q(e)?Jf(e,t):b({...Zf(e),...t})}var sl=d(()=>{P();Ut();er();qe();He();ce();or();Bt();N();al();V();n(tw,"FromComputed");n(rw,"FromRef");n(nw,"FromProperties");n(ow,"FromObject");n(qf,"FromRest");n(Zf,"PartialResolve");n(fn,"Partial")});function iw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=fn(e[o],Y(t));return r}function sw(e,t){return iw(e.properties,t)}function Jf(e,t){let r=sw(e,t);return D(r)}var al=d(()=>{_e();sl();Ne();n(iw,"FromProperties");n(sw,"FromMappedResult");n(Jf,"PartialFromMappedResult")});var Vi=d(()=>{al();sl()});function Mr(e,t,r){return b({[S]:"Record",type:"object",patternProperties:{[e]:t}},r)}function ul(e,t,r){let o={};for(let a of e)o[a]=t;return J(o,{...r,[$e]:"Record"})}function aw(e,t,r){return _d(e)?ul(Re(e),t,r):Mr(e.pattern,t,r)}function uw(e,t,r){return ul(Re(G(e)),t,r)}function lw(e,t,r){return ul([e.toString()],t,r)}function cw(e,t,r){return Mr(e.source,t,r)}function pw(e,t,r){let o=de(e.pattern)?wr:e.pattern;return Mr(o,t,r)}function mw(e,t,r){return Mr(wr,t,r)}function dw(e,t,r){return Mr(zm,t,r)}function fw(e,t,r){return Mr(xr,t,r)}function _w(e,t,r){return Mr(xr,t,r)}function Wi(e,t,r={}){return ke(t)?W("Record",[e,W(t.target,t.parameters)],r):ke(e)?W("Record",[W(t.target,t.parameters),t],r):ee(e)?W("Record",[Ye(e.$ref),t]):j(e)?uw(e.anyOf,t,r):je(e)?aw(e,t,r):At(e)?lw(e.const,t,r):br(e)?fw(e,t,r):Ir(e)?_w(e,t,r):Ga(e)?cw(e,t,r):$n(e)?pw(e,t,r):ja(e)?mw(e,t,r):Yt(e)?dw(e,t,r):B(r)}var Xf=d(()=>{P();N();Ut();we();qe();or();ce();jt();Jn();xt();Pe();V();n(Mr,"RecordCreateFromPattern");n(ul,"RecordCreateFromKeys");n(aw,"FromTemplateLiteralKey");n(uw,"FromUnionKey");n(lw,"FromLiteralKey");n(cw,"FromRegExpKey");n(pw,"FromStringKey");n(mw,"FromAnyKey");n(dw,"FromNeverKey");n(fw,"FromIntegerKey");n(_w,"FromNumberKey");n(Wi,"Record")});var Ki=d(()=>{Xf()});function gw(e,t){return W("Required",[W(e,t)])}function hw(e){return W("Required",[Ye(e)])}function yw(e){let t={};for(let r of globalThis.Object.getOwnPropertyNames(e))t[r]=te(e[r],[xe]);return t}function bw(e){let t=te(e,[Ie,"$id","required","properties"]),r=yw(e.properties);return J(r,t)}function Yf(e){return e.map(t=>Qf(t))}function Qf(e){return ke(e)?gw(e.target,e.parameters):ee(e)?hw(e.$ref):se(e)?Te(Yf(e.allOf)):j(e)?G(Yf(e.anyOf)):fe(e)?bw(e):J({})}function _n(e,t){return Q(e)?e_(e,t):b({...Qf(e),...t})}var ll=d(()=>{P();Ut();qe();He();ce();or();N();Bt();cl();V();n(gw,"FromComputed");n(hw,"FromRef");n(yw,"FromProperties");n(bw,"FromObject");n(Yf,"FromRest");n(Qf,"RequiredResolve");n(_n,"Required")});function Iw(e,t){let r={};for(let o of globalThis.Object.getOwnPropertyNames(e))r[o]=_n(e[o],t);return r}function xw(e,t){return Iw(e.properties,t)}function e_(e,t){let r=xw(e,t);return D(r)}var cl=d(()=>{_e();ll();n(Iw,"FromProperties");n(xw,"FromMappedResult");n(e_,"RequiredFromMappedResult")});var Gi=d(()=>{cl();ll()});function ww(e,t){return t.map(r=>ee(r)?t_(e,r.$ref):tt(e,r))}function t_(e,t){return t in e?ee(e[t])?t_(e,e[t].$ref):tt(e,e[t]):B()}function Sw(e){return an(e[0])}function Ew(e){return rr(e[0],e[1])}function Tw(e){return un(e[0])}function vw(e){return fn(e[0])}function Mw(e){return sr(e[0],e[1])}function Lw(e){return ar(e[0],e[1])}function Pw(e){return Wi(e[0],e[1])}function Nw(e){return _n(e[0])}function kw(e,t,r){let o=ww(e,r);return t==="Awaited"?Sw(o):t==="Index"?Ew(o):t==="KeyOf"?Tw(o):t==="Partial"?vw(o):t==="Omit"?Mw(o):t==="Pick"?Lw(o):t==="Record"?Pw(o):t==="Required"?Nw(o):B()}function Fw(e,t){return J(globalThis.Object.keys(t).reduce((r,o)=>({...r,[o]:tt(e,t[o])}),{}))}function Ow(e,t,r){return Qr(_o(e,t),tt(e,r))}function Rw(e,t,r){return yt(_o(e,t),tt(e,r))}function Cw(e,t){return Je(_o(e,t))}function Aw(e,t){return Te(_o(e,t))}function Uw(e,t){return G(_o(e,t))}function Bw(e,t){return Xr(tt(e,t))}function Dw(e,t){return Yr(tt(e,t))}function jw(e,t){return on(tt(e,t))}function _o(e,t){return t.map(r=>tt(e,r))}function tt(e,t){return ze(t)?b(tt(e,te(t,[xe])),t):si(t)?b(tt(e,te(t,[ut])),t):Ot(t)?b(Bw(e,t.items),t):Wn(t)?b(Dw(e,t.items),t):ke(t)?b(kw(e,t.target,t.parameters)):Rt(t)?b(Ow(e,t.parameters,t.returns),t):Ct(t)?b(Rw(e,t.parameters,t.returns),t):se(t)?b(Aw(e,t.allOf),t):Kn(t)?b(jw(e,t.items),t):fe(t)?b(Fw(e,t.properties),t):lt(t)?b(Cw(e,t.items||[]),t):j(t)?b(Uw(e,t.anyOf),t):t}function Vw(e,t){return t in e?tt(e,e[t]):B()}function r_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:Vw(e,r)}),{})}var n_=d(()=>{Ft();Bt();Qn();Ii();eo();to();xt();Sr();He();ao();po();qe();Bi();ji();we();Vi();Ki();Gi();nr();ce();N();V();n(ww,"DerefParameters");n(t_,"Deref");n(Sw,"FromAwaited");n(Ew,"FromIndex");n(Tw,"FromKeyOf");n(vw,"FromPartial");n(Mw,"FromOmit");n(Lw,"FromPick");n(Pw,"FromRecord");n(Nw,"FromRequired");n(kw,"FromComputed");n(Fw,"FromObject");n(Ow,"FromConstructor");n(Rw,"FromFunction");n(Cw,"FromTuple");n(Aw,"FromIntersect");n(Uw,"FromUnion");n(Bw,"FromArray");n(Dw,"FromAsyncIterator");n(jw,"FromIterator");n(_o,"FromRest");n(tt,"FromType");n(Vw,"ComputeType");n(r_,"ComputeModuleProperties")});function o_(e){return new pl(e)}var ml,pl,i_=d(()=>{Ft();N();n_();ml=class ml{constructor(t){let r=r_(t),o=this.WithIdentifiers(r);this.$defs=o}Import(t,r){let o={...this.$defs,[t]:b(this.$defs[t],r)};return b({[S]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((r,o)=>({...r,[o]:{...t[o],$id:o}}),{})}};n(ml,"TModule");pl=ml;n(o_,"Module")});var dl=d(()=>{i_()});function s_(e,t){return b({[S]:"Not",not:e},t)}var a_=d(()=>{P();N();n(s_,"Not")});var fl=d(()=>{a_()});function u_(e,t){return Ct(e)?Je(e.parameters,t):B()}var l_=d(()=>{nr();we();V();n(u_,"Parameters")});var _l=d(()=>{l_()});function c_(e){return Ze(Fe(e))}var p_=d(()=>{sn();er();n(c_,"ReadonlyOptional")});var gl=d(()=>{p_()});function m_(e,t={}){de(t.$id)&&(t.$id=`T${Ww++}`);let r=$p(e({[S]:"This",$ref:`${t.$id}`}));return r.$id=t.$id,b({[$e]:"Recursive",...r},t)}var Ww,d_=d(()=>{Ba();P();Pe();N();Ww=0;n(m_,"Recursive")});var hl=d(()=>{d_()});function f_(e,t){let r=q(e)?new globalThis.RegExp(e):e;return b({[S]:"RegExp",type:"RegExp",source:r.source,flags:r.flags},t)}var __=d(()=>{P();Pe();N();n(f_,"RegExp")});var yl=d(()=>{__()});function Kw(e){var t;return se(e)?e.allOf:j(e)?e.anyOf:lt(e)?(t=e.items)!=null?t:[]:[]}function g_(e){return Kw(e)}var h_=d(()=>{V();n(Kw,"RestResolve");n(g_,"Rest")});var bl=d(()=>{h_()});function y_(e,t){return Ct(e)?b(e.returns,t):B(t)}var b_=d(()=>{P();we();V();n(y_,"ReturnType")});var Il=d(()=>{b_()});var I_=d(()=>{});var x_=d(()=>{});var w_=d(()=>{I_();x_()});var S_=d(()=>{});var E_=d(()=>{S_()});function T_(e){return new xl(e)}var Sl,xl,El,wl,v_=d(()=>{N();V();Sl=class Sl{constructor(t){this.schema=t}Decode(t){return new wl(this.schema,t)}};n(Sl,"TransformDecodeBuilder");xl=Sl,El=class El{constructor(t,r){this.schema=t,this.decode=r}EncodeTransform(t,r){let u={Encode:n(i=>r[Ie].Encode(t(i)),"Encode"),Decode:n(i=>this.decode(r[Ie].Decode(i)),"Decode")};return{...r,[Ie]:u}}EncodeSchema(t,r){let o={Decode:this.decode,Encode:t};return{...r,[Ie]:o}}Encode(t){return qr(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};n(El,"TransformEncodeBuilder");wl=El;n(T_,"Transform")});var Tl=d(()=>{v_()});function M_(e={}){var t;return b({[S]:(t=e[S])!=null?t:"Unsafe"},e)}var L_=d(()=>{P();N();n(M_,"Unsafe")});var vl=d(()=>{L_()});function P_(e){return b({[S]:"Void",type:"void"},e)}var N_=d(()=>{P();N();n(P_,"Void")});var Ml=d(()=>{N_()});var Ll={};kr(Ll,{Any:()=>Qt,Array:()=>Xr,AsyncIterator:()=>Yr,Awaited:()=>an,BigInt:()=>rn,Boolean:()=>di,Capitalize:()=>Af,Composite:()=>Jd,Const:()=>of,Constructor:()=>Qr,ConstructorParameters:()=>af,Date:()=>xi,Enum:()=>lf,Exclude:()=>mn,Extends:()=>pn,Extract:()=>dn,Function:()=>yt,Index:()=>rr,InstanceType:()=>Pf,Integer:()=>kf,Intersect:()=>Te,Iterator:()=>on,KeyOf:()=>un,Literal:()=>K,Lowercase:()=>Bf,Mapped:()=>Ud,Module:()=>o_,Never:()=>B,Not:()=>s_,Null:()=>Si,Number:()=>It,Object:()=>J,Omit:()=>sr,Optional:()=>Fe,Parameters:()=>u_,Partial:()=>fn,Pick:()=>ar,Promise:()=>yi,Readonly:()=>Ze,ReadonlyOptional:()=>c_,Record:()=>Wi,Recursive:()=>m_,Ref:()=>Ye,RegExp:()=>f_,Required:()=>_n,Rest:()=>g_,ReturnType:()=>y_,String:()=>tr,Symbol:()=>Ti,TemplateLiteral:()=>_i,Transform:()=>T_,Tuple:()=>Je,Uint8Array:()=>Pi,Uncapitalize:()=>jf,Undefined:()=>Mi,Union:()=>G,Unknown:()=>ln,Unsafe:()=>M_,Uppercase:()=>Wf,Void:()=>P_});var k_=d(()=>{Yn();Qn();eo();Ii();io();fi();Pu();ku();to();Fu();wi();Ou();zu();fo();Zu();Sr();xt();Ju();Xu();He();Qu();ao();po();Oe();_e();dl();we();fl();Ei();nn();qe();Bi();er();_l();Vi();ji();bi();sn();gl();Ki();hl();or();yl();Gi();bl();Il();so();vi();jt();Tl();nr();Ni();Li();ce();mo();vl();Ml()});var wt,F_=d(()=>{k_();wt=Ll});var O_=d(()=>{zp();Ft();ht();Ja();$m();Jn();Jm();Xn();N();Yn();Qn();eo();Ii();io();fi();Pu();ku();to();Fu();wi();Ou();zu();fo();Zu();Sr();xt();Ju();Xu();He();ao();Qu();po();Oe();dl();_e();we();fl();Ei();nn();qe();Bi();er();_l();Vi();ji();bi();sn();gl();Ki();hl();or();yl();Gi();bl();Il();w_();E_();so();vi();jt();Tl();nr();Ni();Li();ce();mo();vl();Ml();F_()});function Gw(){Pl={text:"",tokens:[]}}function St(e){var t;return e=e.toLowerCase(),(t=Hw[e])!=null?t:e}async function qw(e,t={},r=[]){let o=new $i(t,e.languageId),a=it(o.tokenizerName),u=new ti(o.snippetTextProcessingPreset),i=new go(o.promptOrderListPreset),s=new zi(o.promptPriorityPreset),{source:l,offset:c}=e;if(c<0||c>l.length)throw new Error(`Offset ${c} is out of range.`);e.languageId=St(e.languageId);let p=new qi(a,o.lineEnding,i,u,s),m=r.find(T=>T.provider==="path"),f=r.find(T=>T.provider==="language"),g=r.find(T=>T.provider==="trait"),h=r.find(T=>T.provider==="tooltip-signature");m!==void 0&&m.snippet.length>0?(p.append(m.snippet,"PathMarker"),f&&p.extMarkUnused({text:f.snippet,kind:"LanguageMarker",tokens:a.tokenLength(f.snippet),id:NaN,score:NaN})):f&&p.append(f.snippet,"LanguageMarker"),g!=null&&p.append(g.snippet,"Traits"),r=r.filter(T=>T.provider!=="language"&&T.provider!=="path"&&T.provider!=="tooltip-signature"&&T.provider!=="trait");function I(){W_(r,e.languageId,a,s,o.numberOfSnippets).forEach(L=>{let O=Hi(L.provider);p.append(L.announcedSnippet,O,L.tokens,L.score)})}n(I,"addSnippetsNow"),I();let x=l.substring(0,c);h!==void 0&&a.tokenLength(h.snippet)<=U_?([x,h]=Gp(x,h),p.append(h.snippet,"TooltipSignature")):h!==void 0&&p.extMarkUnused({text:h.snippet,kind:"TooltipSignature",tokens:a.tokenLength(h.snippet),id:NaN,score:NaN}),p.append(x,"BeforeCursor");let w=l.slice(c),{promptInfo:k,newCachedSuffix:M}=p.fulfill(w,o,Pl);return Pl=M,k}var Pl,R_,C_,A_,U_,B_,$w,D_,zw,Nl,j_,V_,kl,$i,Hw,Lr=d(()=>{"use strict";ei();Pt();Vp();Kr();Fa();ri();O_();Pl={text:"",tokens:[]};n(Gw,"resetSuffixCache");R_=500,C_=8192-R_,A_=4,U_=150,B_=10,$w=15,D_=wt.Object({relativePath:wt.Optional(wt.String()),uri:wt.String(),source:wt.String(),languageId:wt.String()}),zw=wt.Intersect([D_,wt.Object({offset:wt.Number()})]),Nl=(r=>(r.ConvertToUnix="unix",r.KeepOriginal="keep",r))(Nl||{}),j_=(r=>(r.None="none",r.FifteenPercent="fifteenPercent",r))(j_||{}),V_=(r=>(r.Equal="equal",r.Levenshtein="levenshteineditdistance",r))(V_||{}),kl=class kl{constructor(t,r){this.maxPromptLength=C_;this.lineEnding="unix";this.tokenizerName="cl100k_base";this.suffixPercent=15;this.suffixMatchThreshold=B_;this.promptOrderListPreset="default";this.promptPriorityPreset="default";this.snippetTextProcessingPreset="default";var o,a,u,i;if(Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);r==="cpp"?((o=this.similarFilesOptions)!=null||(this.similarFilesOptions=Na),(a=this.numberOfSnippets)!=null||(this.numberOfSnippets=Na.maxTopSnippets)):((u=this.similarFilesOptions)!=null||(this.similarFilesOptions=Up),(i=this.numberOfSnippets)!=null||(this.numberOfSnippets=A_))}};n(kl,"PromptOptions");$i=kl,Hw={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};n(St,"normalizeLanguageId");n(qw,"getPrompt")});function K_(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let o=0;o<e.length;o++)r[o][0]=o;for(let o=0;o<t.length;o++)r[0][o]=o;for(let o=0;o<t.length;o++)for(let a=0;a<e.length;a++)r[a][o]=Math.min((a==0?o:r[a-1][o])+1,(o==0?a:r[a][o-1])+1,(a==0||o==0?Math.max(a,o):r[a-1][o-1])+(e[a]==t[o]?0:1));return{score:r[e.length-1][t.length-1]}}var G_=d(()=>{"use strict";n(K_,"findEditDistanceScore")});function Hi(e){switch(e){case"similar-files":return"SimilarFile";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";case"trait":return"Traits";case"code":return"CodeSnippet";default:throw new Error(`Unknown snippet provider type ${e}`)}}var ho,Zw,Fl,Zi,Ol,Ji,Rl,go,Cl,zi,Al,Xi,Ul,qi,ri=d(()=>{"use strict";Yi();Lr();G_();ho=50,Zw=5,Fl=class Fl{constructor(){this.used=new Map;this.unused=new Map}add(t){for(let[r,o]of t.used)this.used.set(r,o);for(let[r,o]of t.unused)this.unused.set(r,o)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="TooltipSignature"}};n(Fl,"PromptBackground");Zi=Fl,Ol=class Ol{constructor(){this.used=new Map;this.unused=new Map;this.usedCounts=new Map;this.unusedCounts=new Map}toJSON(){return{used:Object.fromEntries(this.used),unused:Object.fromEntries(this.unused),usedCounts:Object.fromEntries(this.usedCounts),unusedCounts:Object.fromEntries(this.unusedCounts)}}add(t){for(let[r,o]of t.used)this.used.set(r,(this.used.get(r)||0)+o);for(let[r,o]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+o);for(let[r,o]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+o);for(let[r,o]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+o)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}};n(Ol,"PromptChoices");Ji=Ol,Rl=class Rl{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","Traits","CodeSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in prompt element ordering list`);return a===u?r.id-o.id:a-u})}};n(Rl,"PromptOrderList");go=Rl,Cl=class Cl extends go{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","LanguageMarker","Traits"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","CodeSnippet","SimilarFile","PathMarker","LanguageMarker","Traits"]}}sortElements(t){return t.sort((r,o)=>{let a=this._rankedList.indexOf(r.kind),u=this._rankedList.indexOf(o.kind);if(a===-1||u===-1)throw new Error(`Invalid element kind: ${r.kind} or ${o.kind}, not found in snippet provider priority list`);return a===u?o.id-r.id:a-u})}};n(Cl,"PromptPriorityList");zi=Cl;n(Hi,"kindForSnippetProviderType");Al=class Al{constructor(t){this.ranges=new Array;let r=0,o;for(let a of t)a.text.length!==0&&(o==="BeforeCursor"&&a.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=a.text.length:this.ranges.push({kind:a.kind,start:r,end:r+a.text.length}),o=a.kind,r+=a.text.length)}};n(Al,"PromptElementRanges");Xi=Al,Ul=class Ul{constructor(t,r,o,a,u){this.tokenizer=t;this.lineEndingOption=r;this.orderingList=o;this.snippetTextProcessor=a;this.priorityList=u;this.content=[];this.basePromptBackground=new Zi;this.baseTallyOfChoices=new Ji}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,o=this.tokenizer.tokenLength(t),a=NaN){t=this.convertLineEndings(t);let u=this.content.length;return this.content.push({id:u,text:t,kind:r,tokens:o,score:a}),u}fulfillPrefix(t){let r=new Zi;r.add(this.basePromptBackground);let o=new Ji;o.add(this.baseTallyOfChoices);function a(h){r.markUsed(h),o.markUsed(h)}n(a,"markUsed");function u(h){r.undoMarkUsed(h),o.undoMarkUsed(h)}n(u,"undoMarkUsed");function i(h){r.markUnused(h),o.markUnused(h)}n(i,"markUnused"),this.priorityList.sortElements(this.content);let s,l=[],c=t;this.content.forEach(h=>{if(c>0||s===void 0){let I=h.tokens;if(c>=I)c-=I,a(h),l.push(h);else if(h.kind==="BeforeCursor"&&c>0){let{summarizedElement:x,removedMaterial:w}=this.snippetTextProcessor.summarize(this.tokenizer,h,c);h=x,I=h.tokens,c-=I,h.text.length>0&&a(h),w.text.length>0&&i(w),l.push(h)}else s===void 0?s=h:i(h)}else i(h)}),this.orderingList.sortElements(l);let p=l.reduce((h,I)=>h+I.text,""),m=this.tokenizer.tokenLength(p);for(;m>t;){this.priorityList.sortElements(l);let h=l.pop();h&&(u(h),i(h),s!==void 0&&i(s),s=void 0),this.orderingList.sortElements(l),p=l.reduce((I,x)=>I+x.text,""),m=this.tokenizer.tokenLength(p)}let f=[...l];if(s!==void 0){f.push(s),this.orderingList.sortElements(f);let h=f.reduce((x,w)=>x+w.text,""),I=this.tokenizer.tokenLength(h);if(I<=t){a(s);let x=new Xi(f);return{prefix:h,suffix:"",prefixLength:I,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:x}}else i(s)}let g=new Xi(l);return{prefix:p,suffix:"",prefixLength:m,suffixLength:0,promptChoices:o,promptBackground:r,promptElementRanges:g}}fulfill(t,r,o){var f;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:o};let a=r.maxPromptLength-Zw,u=Math.floor(a*(100-r.suffixPercent)/100),i=a-u,s=t.replace(/^.*/,"").trimStart();if(a>ho&&i<ho)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${i} < ${ho}
`);let l=this.tokenizer.takeFirstTokens(s,ho),c=!1;l.tokens.length>0&&r.suffixMatchThreshold>0&&100*((f=K_(l.tokens,o.tokens.slice(0,ho)))==null?void 0:f.score)<r.suffixMatchThreshold*l.tokens.length&&(c=!0);let p;if(c)u=a-o.tokens.length,p=o;else{let g=this.maxPrefixTokenLength(),h=this.tokenizer.tokenLength(s);g<u?(u=g,i=a-u):h<i&&(u=a-h,i=h),p=this.tokenizer.takeFirstTokens(s,i)}let m=this.fulfillPrefix(u);return m.suffix=p.text,m.suffixLength=p.tokens.length,{promptInfo:m,newCachedSuffix:p}}};n(Ul,"PromptWishlist");qi=Ul});function Xw(e,t){let r=Jw[e.semantics],o=["snippets"].includes(e.semantics)?"these":"this",u=(e.relativePath?`Compare ${o} ${r} from ${e.relativePath}:`:`Compare ${o} ${r}:`)+`
`+e.snippet;return u.endsWith(`
`)||(u+=`
`),Jt(u,t)}function $_(e){e.sort((t,r)=>r.score-t.score)}function Yw(e,t,r){if(t==0)return[];let o=e.map(u=>({...u,kind:Hi(u.provider)})),a=[];return r.rankedList.forEach(u=>{let i=o.filter(({kind:s})=>s===u);$_(i),a.push(...i)}),a.slice(0,t)}function W_(e,t,r,o,a){let i=Yw(e,a,o).map(s=>{let l=Xw(s,t),c=r.tokenLength(l);return{announcedSnippet:l,provider:s.provider,score:s.score,tokens:c,relativePath:s.relativePath}}).filter(s=>s.tokens>0);return $_(i),i.reverse(),i}var Ke,Lt,Jw,Pt=d(()=>{"use strict";Mt();ri();Ke=(i=>(i.SimilarFiles="similar-files",i.Language="language",i.Path="path",i.TooltipSignature="tooltip-signature",i.Trait="trait",i.CodeSnippet="code",i))(Ke||{}),Lt=(m=>(m.Function="function",m.Snippet="snippet",m.Snippets="snippets",m.Variable="variable",m.Parameter="parameter",m.Method="method",m.Class="class",m.Module="module",m.Alias="alias",m.Enum="enum member",m.Interface="interface",m))(Lt||{}),Jw={function:"function",snippet:"snippet",snippets:"snippets",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};n(Xw,"announceSnippet");n($_,"sortSnippetsDescending");n(Yw,"selectSnippets");n(W_,"processSnippetsForWishlist")});var Bl,lr,Dl,Ae,Vt=d(()=>{"use strict";Vl();Bl=class Bl extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}};n(Bl,"ProviderTimeoutError");lr=Bl,Dl=class Dl{constructor(t){this.api=t}getSnippets(t,r){return new Promise((o,a)=>{r.aborted&&a(new ur(this.type,new lr("provider aborted"))),r.addEventListener("abort",()=>{a(new ur(this.type,new lr(`max runtime exceeded: ${jl} ms`)))},{once:!0});let u=performance.now();this.buildSnippets(t).then(i=>{let s=performance.now();o({snippets:i,providerType:this.type,runtime:s-u})}).catch(i=>{a(new ur(this.type,i))})})}};n(Dl,"SnippetProvider");Ae=Dl});var Wl,Qi,z_=d(()=>{"use strict";Mt();Pt();Vt();Wl=class Wl extends Ae{constructor(){super(...arguments);this.type="code"}async buildSnippets(r){var i;if(r.codeSnippets===void 0||r.codeSnippets.length===0)return[];let{codeSnippets:o}=r,a=new Map;for(let s of o){let l=(i=s.relativePath)!=null?i:s.uri,c=a.get(l);c===void 0&&(c=[],a.set(l,c)),c.push(s)}let u=[];return a.forEach((s,l)=>{let c=s.map(p=>p.value).join(`
---
`);u.push({provider:this.type,semantics:s.length>1?"snippets":"snippet",snippet:at(c),relativePath:l,startLine:0,endLine:0,score:Math.max(...s.map(p=>{var m;return(m=p.importance)!=null?m:0}))})}),u}};n(Wl,"CodeSnippetProvider");Qi=Wl});var Kl,es,H_=d(()=>{"use strict";Mt();Lr();Pt();Vt();Kl=class Kl extends Ae{constructor(){super(...arguments);this.type="language"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=St(o.languageId),[{provider:this.type,semantics:"snippet",snippet:at(Lp(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(Kl,"LanguageSnippetProvider");es=Kl});var Gl,ts,q_=d(()=>{"use strict";Mt();Lr();Pt();Vt();Gl=class Gl extends Ae{constructor(){super(...arguments);this.type="path"}async buildSnippets(r){let{currentFile:o}=r;return o.languageId=St(o.languageId),[{provider:this.type,semantics:"snippet",snippet:at(Pp(o)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(Gl,"PathSnippetProvider");ts=Gl});var $l,rs,Z_=d(()=>{"use strict";Yi();Vt();$l=class $l extends Ae{constructor(){super(...arguments);this.type="similar-files"}async buildSnippets(r){let{currentFile:o,similarFiles:a,options:u}=r;return u&&a&&a.length?await this.api.getSimilarSnippets(o,a,u.similarFilesOptions):[]}};n($l,"SimilarFilesProvider");rs=$l});var zl,ns,J_=d(()=>{"use strict";Mt();Lr();Pt();Vt();Fa();zl=class zl extends Ae{constructor(){super(...arguments);this.type="tooltip-signature"}async buildSnippets(r){let{currentFile:o,tooltipSignature:a}=r,u=[];return o.languageId=St(o.languageId),a&&Kp(o)&&u.push({provider:this.type,semantics:"snippet",snippet:at(Wp(a,o.languageId)),relativePath:o.relativePath,startLine:0,endLine:0,score:0}),u}};n(zl,"TooltipSignatureSnippetProvider");ns=zl});var Hl,os,X_=d(()=>{"use strict";Mt();Lr();Pt();Vt();Hl=class Hl extends Ae{constructor(){super(...arguments);this.type="trait"}async buildSnippets(r){if(r.traits.length===0)return[];let{currentFile:o}=r;return o.languageId=St(o.languageId),[{provider:this.type,semantics:"snippet",snippet:Jt(`Consider this related information:
`+r.traits.map(a=>a.kind==="string"?at(a.value):at(`${a.name}: ${a.value}`)).join(""),o.languageId),relativePath:o.relativePath,startLine:0,endLine:0,score:0}]}};n(Hl,"TraitProvider");os=Hl});function Qw(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}var is,Et,Y_,Zl,ql,ss,Q_=d(()=>{"use strict";ko();ei();is=yn(require("path")),Et=require("worker_threads");n(Qw,"sleep");Y_=["getSimilarSnippets","sleep"],Zl=class Zl{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Bp;this.sleep=Qw;var t;!Et.isMainThread&&((t=Et.workerData)!=null&&t.port)&&(Bs(),process.cwd=()=>Et.workerData.cwd,this.configureWorkerResponse(Et.workerData.port))}initWorker(){let{port1:t,port2:r}=new Et.MessageChannel;this.port=t,this.worker=new Et.Worker(is.default.resolve(is.default.extname(__filename)!==".ts"?__dirname:is.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Y_)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Y_){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",r=>void this.onMessage(r))}async onMessage({id:t,fn:r,args:o}){let a=this[r];if(!a)throw new Error(`Function not found: ${r}`);try{let u=await a.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:r,code:o,res:a}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),r?(r.code=o,u.reject(r)):u.resolve(a))}handleError(t){var o;let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((o=r.message)!=null&&o.endsWith("workerProxy.js'"))&&(r=new qt("Failed to load workerProxy.js"));let a=new Error().stack;r.stack&&(a!=null&&a.match(/^Error\n/))&&(r.stack+=a.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let a of this.handlers.values())a.reject(r);throw r}proxy(t){this[t]=function(...r){let o=this.nextHandlerId++;return new Promise((a,u)=>{var i;this.handlers.set(o,{resolve:a,reject:u}),(i=this.port)==null||i.postMessage({id:o,fn:t,args:r})})}}};n(Zl,"WorkerProxy");ql=Zl,ss=new ql});function eg(e){return e.status==="fulfilled"}function tS(e){return e.status==="rejected"}function tg(e){return e.filter(eg).flatMap(t=>t.value.snippets)}function rg(e){return e.filter(tS).flatMap(t=>t.reason)}function ng(e){let t={},r={};return e.forEach(o=>{eg(o)?(t[o.value.providerType]=Math.round(o.value.runtime),r[o.value.providerType]=!1):rS(o.reason)&&(r[o.reason.providerType]=!0,t[o.reason.providerType]=0)}),{runtimes:t,timeouts:r}}function rS(e){return e!==null&&typeof e=="object"&&"error"in e&&e.error instanceof lr}function nS(e){return Promise.all(e.map(t=>t.then(oS,iS)))}function oS(e){return{status:"fulfilled",value:e}}function iS(e){return{status:"rejected",reason:e}}var jl,eS,Jl,ur,Xl,as,Vl=d(()=>{"use strict";z_();H_();q_();Z_();Vt();J_();X_();Q_();jl=300,eS=[es,ts,rs,ns,os,Qi],Jl=class Jl extends Error{constructor(r,o){super();this.providerType=r;this.error=o}};n(Jl,"ProviderError");ur=Jl;n(eg,"isFulfilledResult");n(tS,"isRejectedResult");n(tg,"providersSnippets");n(rg,"providersErrors");n(ng,"providersPerformance");n(rS,"isProviderTimeout");Xl=class Xl{constructor(t=eS){this.startThreading=n(()=>ss.startThreading(),"startThreading");this.stopThreading=n(()=>ss.stopThreading(),"stopThreading");this.providers=t.map(r=>new r(ss))}async getSnippets(t){let r=AbortSignal.timeout(jl),o=this.providers.map(a=>a.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(o):nS(o)}};n(Xl,"SnippetOrchestrator");as=Xl;n(nS,"allSettledBackup");n(oS,"createPromiseFulfilledResult");n(iS,"createPromiseRejectedResult")});function sS(e,t){let r=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(r+1,o)}function ig(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}function og(e,t){let r=e.startIndex,o=e.startIndex-e.startPosition.column,a=t.substring(o,r);if(/^\s*$/.test(a))return a}function aS(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let o=og(e,r),a=og(t,r);return o!==void 0&&a!==void 0&&o.startsWith(a)}function cs(e){if(!zr(e))throw new Error(`Language ${e} is not supported`);return uS[Un(e)]}async function lS(e,t,r){return zr(e)?cs(e).isEmptyBlockStart(t,r):!1}async function cS(e,t,r,o){if(zr(e))return cs(e).isBlockBodyFinished(t,r,o)}async function pS(e,t,r){if(zr(e))return cs(e).getNodeStart(t,r)}var Yl,us,Ql,ls,ec,cr,uS,sg=d(()=>{"use strict";Yo();Yl=class Yl{constructor(t,r,o){this.languageId=t;this.nodeMatch=r;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,r,o){let a=await Hr(this.languageId,t);try{let i=a.rootNode.descendantForIndex(r);for(;i;){let s=this.nodeMatch[i.type];if(s){if(!this.nodeTypesWithBlockOrStmtChild.has(i.type))break;let l=this.nodeTypesWithBlockOrStmtChild.get(i.type),c=l==""?i.namedChildren[0]:i.childForFieldName(l);if((c==null?void 0:c.type)==s)break}i=i.parent}return i?o(i):void 0}finally{a.delete()}}getNextBlockAtPosition(t,r,o){return this.getNodeMatchAtPosition(t,r,a=>{let u=a.children.reverse().find(i=>i.type==this.nodeMatch[a.type]);if(u){if(this.languageId=="python"&&u.parent){let i=u.parent.type==":"?u.parent.parent:u.parent,s=i==null?void 0:i.nextSibling;for(;s&&s.type=="comment";){let l=s.startPosition.row==u.endPosition.row&&s.startPosition.column>=u.endPosition.column,c=s.startPosition.row>i.endPosition.row&&s.startPosition.column>i.startPosition.column;if(l||c)u=s,s=s.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,r,o){let a=(t+r).trimEnd(),u=await this.getNextBlockAtPosition(a,o,i=>i.endIndex);if(u!==void 0&&u<a.length){let i=u-t.length;return i>0?i:void 0}}getNodeStart(t,r){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,r,a=>a.startIndex)}};n(Yl,"BaseBlockParser");us=Yl,Ql=class Ql extends us{constructor(r,o,a,u,i){super(r,u,i);this.blockEmptyMatch=o;this.lineMatch=a}isBlockStart(r){return this.lineMatch.test(r.trimStart())}async isBlockBodyEmpty(r,o){let a=await this.getNextBlockAtPosition(r,o,u=>{u.startIndex<o&&(o=u.startIndex);let i=r.substring(o,u.endIndex).trim();return i==""||i.replace(/\s/g,"")==this.blockEmptyMatch});return a===void 0||a}async isEmptyBlockStart(r,o){return o=ig(r,o),this.isBlockStart(sS(r,o))&&this.isBlockBodyEmpty(r,o)}};n(Ql,"RegexBasedBlockParser");ls=Ql;n(sS,"getLineAtOffset");n(ig,"rewindToNearestNonWs");n(og,"indent");n(aS,"outdented");ec=class ec extends us{constructor(r,o,a,u,i,s,l){super(r,o,a);this.startKeywords=u;this.blockNodeType=i;this.emptyStatementType=s;this.curlyBraceLanguage=l}isBlockEmpty(r,o){var u,i;let a=r.text.trim();return this.curlyBraceLanguage&&(a.startsWith("{")&&(a=a.slice(1)),a.endsWith("}")&&(a=a.slice(0,-1)),a=a.trim()),!!(a.length==0||this.languageId=="python"&&(((u=r.parent)==null?void 0:u.type)=="class_definition"||((i=r.parent)==null?void 0:i.type)=="function_definition")&&r.children.length==1&&La(r.parent))}async isEmptyBlockStart(r,o){var u,i,s,l;if(o>r.length)throw new RangeError("Invalid offset");for(let c=o;c<r.length&&r.charAt(c)!=`
`;c++)if(/\S/.test(r.charAt(c)))return!1;o=ig(r,o);let a=await Hr(this.languageId,r);try{let c=a.rootNode.descendantForIndex(o-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let h=c;for(;h.parent;){if(h.type=="function_signature"||h.type=="method_signature"){let I=c.nextSibling;return I&&h.hasError()&&aS(h,I,r)?!0:!h.children.find(w=>w.type==";")&&h.endIndex<=o}h=h.parent}}let p=null,m=null,f=null,g=c;for(;g!=null;){if(g.type==this.blockNodeType){m=g;break}if(this.nodeMatch[g.type]){f=g;break}if(g.type=="ERROR"){p=g;break}g=g.parent}if(m!=null){if(!m.parent||!this.nodeMatch[m.parent.type])return!1;if(this.languageId=="python"){let h=m.previousSibling;if(h!=null&&h.hasError()&&(h.text.startsWith('"""')||h.text.startsWith("'''")))return!0}return this.isBlockEmpty(m,o)}if(p!=null){if(((u=p.previousSibling)==null?void 0:u.type)=="module"||((i=p.previousSibling)==null?void 0:i.type)=="internal_module"||((s=p.previousSibling)==null?void 0:s.type)=="def")return!0;let h=[...p.children].reverse(),I=h.find(w=>this.startKeywords.includes(w.type)),x=h.find(w=>w.type==this.blockNodeType);if(I){switch(this.languageId){case"python":{I.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(l=h.find(M=>M.hasError()))==null?void 0:l.children.find(M=>M.type=="block"));let w,k=0;for(let M of p.children){if(M.type==":"&&k==0){w=M;break}M.type=="("&&(k+=1),M.type==")"&&(k-=1)}if(w&&I.endIndex<=w.startIndex&&w.nextSibling){if(I.type=="def"){let M=w.nextSibling;if(M.type=='"'||M.type=="'"||M.type=="ERROR"&&(M.text=='"""'||M.text=="'''"))return!0}return!1}break}case"javascript":{let w=h.find(T=>T.type=="formal_parameters");if(I.type=="class"&&w)return!0;let k=h.find(T=>T.type=="{");if(k&&k.startIndex>I.endIndex&&k.nextSibling!=null||h.find(T=>T.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}case"typescript":{let w=h.find(M=>M.type=="{");if(w&&w.startIndex>I.endIndex&&w.nextSibling!=null||h.find(M=>M.type=="do")&&I.type=="while"||I.type=="=>"&&I.nextSibling&&I.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>I.endIndex?this.isBlockEmpty(x,o):!0}}if(f!=null){let h=this.nodeMatch[f.type],I=f.children.slice().reverse().find(x=>x.type==h);if(I)return this.isBlockEmpty(I,o);if(this.nodeTypesWithBlockOrStmtChild.has(f.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(f.type),w=x==""?f.children[0]:f.childForFieldName(x);if(w&&w.type!=this.blockNodeType&&w.type!=this.emptyStatementType)return!1}return!0}return!1}finally{a.delete()}}};n(ec,"TreeSitterBasedBlockParser");cr=ec,uS={python:new cr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new cr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new cr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new cr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new ls("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new ls("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new cr("csharp",{},new Map([]),[],"block",null,!0),java:new cr("java",{},new Map([]),[],"block",null,!0)};n(cs,"getBlockParser");n(lS,"isEmptyBlockStart");n(cS,"isBlockBodyFinished");n(pS,"getNodeStart")});var ug={};kr(ug,{DEFAULT_MAX_COMPLETION_LENGTH:()=>R_,DEFAULT_MAX_PROMPT_LENGTH:()=>C_,DEFAULT_NUM_SNIPPETS:()=>A_,DEFAULT_SUFFIX_MATCH_THRESHOLD:()=>B_,DEFAULT_SUFFIX_PERCENT:()=>$w,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Zc,DocumentInfoSchema:()=>D_,DocumentInfoWithOffsetSchema:()=>zw,ElidableText:()=>Nn,LineEndingOptions:()=>Nl,LineWithValueAndCost:()=>Gr,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>U_,PromptOptions:()=>$i,ProviderError:()=>ur,ProviderTimeoutError:()=>lr,SnippetOrchestrator:()=>as,SnippetProviderType:()=>Ke,SnippetSemantics:()=>Lt,SuffixMatchOption:()=>V_,SuffixOption:()=>j_,TTokenizer:()=>Bo,TokenizerName:()=>Do,WASMLanguage:()=>Rp,blankNode:()=>Mo,buildLabelRules:()=>Dr,clearLabels:()=>Ac,clearLabelsIf:()=>js,combineClosersAndOpeners:()=>Lo,comment:()=>Cn,commentBlockAsSingles:()=>Jt,createWorker:()=>mS,cutTreeAfterLine:()=>eh,deparseAndCutTree:()=>ch,deparseLine:()=>Ln,deparseTree:()=>Kc,describeTree:()=>Gc,duplicateTree:()=>th,elidableTextForDiff:()=>Gh,elidableTextForSourceCode:()=>Ks,encodeTree:()=>$c,firstLineOf:()=>zc,flattenVirtual:()=>ft,foldTree:()=>Tn,fromTreeWithFocussedLines:()=>Vr,fromTreeWithValuedLines:()=>Jc,getBlockCloseToken:()=>ry,getBlockParser:()=>cs,getCursorContext:()=>hr,getLanguage:()=>Cp,getNodeStart:()=>pS,getPrompt:()=>qw,getTokenizer:()=>it,groupBlocks:()=>Vs,isBlank:()=>re,isBlockBodyFinished:()=>cS,isEmptyBlockStart:()=>lS,isLine:()=>ot,isSupportedLanguageId:()=>zr,isTop:()=>zt,isVirtual:()=>Be,labelLines:()=>Br,labelVirtualInherited:()=>Mn,languageCommentMarkers:()=>ya,languageIdToWasmLanguage:()=>Un,lastLineOf:()=>Hc,lineNode:()=>Ds,mapLabels:()=>dt,normalizeLanguageId:()=>St,parseRaw:()=>Uc,parseTree:()=>Ht,parseTreeSitter:()=>Hr,providersErrors:()=>rg,providersPerformance:()=>ng,providersSnippets:()=>tg,queryPythonIsDocstring:()=>La,rebuildTree:()=>vn,registerLanguageSpecificParser:()=>Po,resetLineNumbers:()=>rh,resetSuffixCache:()=>Gw,topNode:()=>En,virtualNode:()=>vo,visitTree:()=>oe,visitTreeConditionally:()=>nh});function mS(e,t){return new ag.Worker(ps.default.resolve(ps.default.extname(__filename)!==".ts"?__dirname:ps.default.resolve(__dirname,"../../dist"),e),{workerData:t})}var ps,ag,Yi=d(()=>{"use strict";ps=yn(require("path")),ag=require("worker_threads");vp();Pn();Mt();Vl();Yo();sg();Lr();zo();Ho();ei();Pt();Vt();Kr();n(mS,"createWorker")});Bs();var lg=(Yi(),_g(ug)),{parentPort:yo,workerData:ms}=require("worker_threads");ms!=null&&ms.cwd&&(process.cwd=()=>ms.cwd);yo.on("message",async({id:e,fn:t,args:r})=>{try{if(t==="getPrompt"){let o=await lg.getPrompt(...r);yo.postMessage({id:e,res:o})}else{let o=await lg[t](...r);yo.postMessage({id:e,res:o})}}catch(o){if(!(o instanceof Error))throw o;typeof o.code=="string"?yo.postMessage({id:e,err:o,code:o.code}):yo.postMessage({id:e,err:o})}});
//# sourceMappingURL=worker.js.map

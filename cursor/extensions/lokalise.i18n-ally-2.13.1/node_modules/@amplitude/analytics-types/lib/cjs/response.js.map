{"version":3,"file":"response.js","sourceRoot":"","sources":["../../src/response.ts"],"names":[],"mappings":"","sourcesContent":["import { Status } from './status';\n\nexport interface SuccessBody {\n  eventsIngested: number;\n  payloadSizeBytes: number;\n  serverUploadTime: number;\n}\n\nexport interface InvalidRequestBody {\n  error: string;\n  missingField: string;\n  eventsWithInvalidFields: { [eventField: string]: number[] };\n  eventsWithMissingFields: { [eventField: string]: number[] };\n  eventsWithInvalidIdLengths: { [eventField: string]: number[] };\n  epsThreshold: 0;\n  exceededDailyQuotaDevices: { [deviceId: string]: number };\n  silencedDevices: string[];\n  silencedEvents: number[];\n  throttledDevices: { [deviceId: string]: number };\n  throttledEvents: number[];\n}\nexport interface PayloadTooLargeBody {\n  error: string;\n}\nexport interface RateLimitBody {\n  error: string;\n  epsThreshold: number;\n  throttledDevices: { [deviceId: string]: number };\n  throttledUsers: { [userId: string]: number };\n  exceededDailyQuotaDevices: { [deviceId: string]: number };\n  exceededDailyQuotaUsers: { [userId: string]: number };\n  throttledEvents: number[];\n}\n\nexport type StatusWithResponseBody = Status.Invalid | Status.PayloadTooLarge | Status.RateLimit | Status.Success;\n\nexport type ResponseBody = SuccessBody | InvalidRequestBody | PayloadTooLargeBody | RateLimitBody;\n\nexport interface SuccessResponse {\n  status: Status.Success;\n  statusCode: number;\n  body: SuccessBody;\n}\n\nexport interface InvalidResponse {\n  status: Status.Invalid;\n  statusCode: number;\n  body: InvalidRequestBody;\n}\n\nexport interface PayloadTooLargeResponse {\n  status: Status.PayloadTooLarge;\n  statusCode: number;\n  body: PayloadTooLargeBody;\n}\n\nexport interface RateLimitResponse {\n  status: Status.RateLimit;\n  statusCode: number;\n  body: RateLimitBody;\n}\n\nexport interface TimeoutResponse {\n  status: Status.Timeout;\n  statusCode: number;\n}\n\nexport interface OtherResponse {\n  status: Exclude<Status, StatusWithResponseBody>;\n  statusCode: number;\n}\n\nexport type Response =\n  | SuccessResponse\n  | InvalidResponse\n  | PayloadTooLargeResponse\n  | RateLimitResponse\n  | TimeoutResponse\n  | OtherResponse;\n"]}
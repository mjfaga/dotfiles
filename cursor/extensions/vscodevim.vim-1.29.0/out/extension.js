/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={4466:(e,t,r)=>{var n={};e.exports=n,n.themes={};var i=r(9023),o=n.styles=r(8692),s=Object.defineProperties,a=new RegExp(/[\r\n]+/g);n.supportsColor=r(7419).supportsColor,void 0===n.enabled&&(n.enabled=!1!==n.supportsColor()),n.enable=function(){n.enabled=!0},n.disable=function(){n.enabled=!1},n.stripColors=n.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},n.stylize=function(e,t){if(!n.enabled)return e+"";var r=o[t];return!r&&t in n?n[t](e):r.open+e+r.close};var c=/[|\\{}()[\]^$+*?.]/g;function u(e){var t=function e(){return f.apply(e,arguments)};return t._styles=e,t.__proto__=h,t}var l,d=(l={},o.grey=o.gray,Object.keys(o).forEach((function(e){o[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(c,"\\$&")}(o[e].close),"g"),l[e]={get:function(){return u(this._styles.concat(e))}}})),l),h=s((function(){}),d);function f(){var e=Array.prototype.slice.call(arguments).map((function(e){return null!=e&&e.constructor===String?e:i.inspect(e)})).join(" ");if(!n.enabled||!e)return e;for(var t=-1!=e.indexOf("\n"),r=this._styles,s=r.length;s--;){var c=o[r[s]];e=c.open+e.replace(c.closeRe,c.open)+c.close,t&&(e=e.replace(a,(function(e){return c.close+e+c.open})))}return e}n.setTheme=function(e){if("string"!=typeof e)for(var t in e)!function(t){n[t]=function(r){if("object"==typeof e[t]){var i=r;for(var o in e[t])i=n[e[t][o]](i);return i}return n[e[t]](r)}}(t);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var p=function(e,t){var r=t.split("");return(r=r.map(e)).join("")};for(var m in n.trap=r(7379),n.zalgo=r(9387),n.maps={},n.maps.america=r(4918)(n),n.maps.zebra=r(9742)(n),n.maps.rainbow=r(1588)(n),n.maps.random=r(811)(n),n.maps)!function(e){n[e]=function(t){return p(n.maps[e],t)}}(m);s(n,function(){var e={};return Object.keys(d).forEach((function(t){e[t]={get:function(){return u([t])}}})),e}())},7379:e=>{e.exports=function(e,t){var r="";e=(e=e||"Run the trap, drop the bass").split("");var n={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return e.forEach((function(e){e=e.toLowerCase();var t=n[e]||[" "],i=Math.floor(Math.random()*t.length);r+=void 0!==n[e]?n[e][i]:e})),r}},9387:e=>{e.exports=function(e,t){e=e||"   he is here   ";var r={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},n=[].concat(r.up,r.down,r.mid);function i(e){return Math.floor(Math.random()*e)}function o(e){var t=!1;return n.filter((function(r){t=r===e})),t}return function(e,t){var n,s,a="";for(s in(t=t||{}).up=void 0===t.up||t.up,t.mid=void 0===t.mid||t.mid,t.down=void 0===t.down||t.down,t.size=void 0!==t.size?t.size:"maxi",e=e.split(""))if(!o(s)){switch(a+=e[s],n={up:0,down:0,mid:0},t.size){case"mini":n.up=i(8),n.mid=i(2),n.down=i(8);break;case"maxi":n.up=i(16)+3,n.mid=i(4)+1,n.down=i(64)+3;break;default:n.up=i(8)+1,n.mid=i(6)/2,n.down=i(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],d=0;d<=n[l];d++)t[l]&&(a+=r[l][i(r[l].length)])}return a}(e,t)}},4918:e=>{e.exports=function(e){return function(t,r,n){if(" "===t)return t;switch(r%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}},1588:e=>{e.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(r,n,i){return" "===r?r:e[t[n++%t.length]](r)}}},811:e=>{e.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return" "===r?r:e[t[Math.round(Math.random()*(t.length-2))]](r)}}},9742:e=>{e.exports=function(e){return function(t,r,n){return r%2==0?t:e.inverse(t)}}},8692:e=>{var t={};e.exports=t;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach((function(e){var n=r[e],i=t[e]=[];i.open="["+n[0]+"m",i.close="["+n[1]+"m"}))},3199:e=>{"use strict";e.exports=function(e,t){var r=(t=t||process.argv||[]).indexOf("--"),n=/^-{1,2}/.test(e)?"":"--",i=t.indexOf(n+e);return-1!==i&&(-1===r||i<r)}},7419:(e,t,r)=>{"use strict";var n=r(857),i=r(3199),o=process.env,s=void 0;function a(e){var t=function(e){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;var t=s?1:0;if("win32"===process.platform){var r=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in o}))||"codeship"===o.CI_NAME?1:t;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in o){var a=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},7627:(e,t,r)=>{var n=r(4466);e.exports=n},9161:e=>{var t=[],r=[],n=function(){};function i(e){return!~t.indexOf(e)&&(t.push(e),!0)}function o(e){n=e}function s(e){for(var r=[],n=0;n<t.length;n++)if(t[n].async)r.push(t[n]);else if(t[n](e))return!0;return!!r.length&&new Promise((function(t){Promise.all(r.map((function(t){return t(e)}))).then((function(e){t(e.some(Boolean))}))}))}function a(e){return!~r.indexOf(e)&&(r.push(e),!0)}function c(){n.apply(n,arguments)}function u(e){for(var t=0;t<r.length;t++)e=r[t].apply(r[t],arguments);return e}function l(e,t){var r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e}function d(e){return e.enabled=!1,e.modify=a,e.set=o,e.use=i,l((function(){return!1}),e)}function h(e){return e.enabled=!0,e.modify=a,e.set=o,e.use=i,l((function(){var t=Array.prototype.slice.call(arguments,0);return c.call(c,e,u(t,e)),!0}),e)}e.exports=function(e){return e.introduce=l,e.enabled=s,e.process=u,e.modify=a,e.write=c,e.nope=d,e.yep=h,e.set=o,e.use=i,e}},7918:(e,t,r)=>{e.exports=r(3575)},3575:(e,t,r)=>{var n=r(9161)((function e(t,r){return(r=r||{}).namespace=t,r.prod=!0,r.dev=!1,r.force||e.force?e.yep(r):e.nope(r)}));e.exports=n},257:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.isAsync)(e)?function(...t){const r=t.pop();return a(e.apply(this,t),r)}:(0,n.default)((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return a(n,r);r(null,n)}))};var n=s(r(795)),i=s(r(6368)),o=r(4877);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return e.then((e=>{c(t,null,e)}),(e=>{c(t,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function c(e,t,r){try{e(t,r)}catch(e){(0,i.default)((e=>{throw e}),e)}}e.exports=t.default},3427:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(9875)),i=l(r(6884)),o=l(r(3852)),s=l(r(2132)),a=l(r(1814)),c=l(r(4877)),u=l(r(8409));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){r=(0,s.default)(r);var n=0,o=0,{length:c}=e,u=!1;function l(e,t){!1===e&&(u=!0),!0!==u&&(e?r(e):++o!==c&&t!==i.default||r(null))}for(0===c&&r(null);n<c;n++)t(e[n],n,(0,a.default)(l))}function h(e,t,r){return(0,o.default)(e,1/0,t,r)}t.default=(0,u.default)((function(e,t,r){return((0,n.default)(e)?d:h)(e,(0,c.default)(t),r)}),3),e.exports=t.default},3852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(2858)),i=s(r(4877)),o=s(r(8409));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,r,o){return(0,n.default)(t)(e,(0,i.default)(r),o)}),4),e.exports=t.default},5874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(3852)),i=o(r(8409));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)((function(e,t,r){return(0,n.default)(e,1,t,r)}),3),e.exports=t.default},8521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(3427)),i=a(r(5337)),o=a(r(4877)),s=a(r(8409));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,s.default)((function(e,t,r){return(0,n.default)(e,(0,i.default)((0,o.default)(t)),r)}),3),e.exports=t.default},8494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){let o=!1,s=!1,a=!1,c=0,u=0;function l(){c>=t||a||o||(a=!0,e.next().then((({value:e,done:t})=>{if(!s&&!o){if(a=!1,t)return o=!0,void(c<=0&&n(null));c++,r(e,u,d),u++,l()}})).catch(h))}function d(e,t){if(c-=1,!s)return e?h(e):!1===e?(o=!0,void(s=!0)):t===i.default||o&&c<=0?(o=!0,n(null)):void l()}function h(e){s||(a=!1,o=!0,n(e))}l()};var n,i=(n=r(6884))&&n.__esModule?n:{default:n};e.exports=t.default},8409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}},e.exports=t.default},6884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},2858:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(2132)),i=u(r(8303)),o=u(r(1814)),s=r(4877),a=u(r(8494)),c=u(r(6884));function u(e){return e&&e.__esModule?e:{default:e}}t.default=e=>(t,r,u)=>{if(u=(0,n.default)(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,s.isAsyncGenerator)(t))return(0,a.default)(t,e,r,u);if((0,s.isAsyncIterable)(t))return(0,a.default)(t[Symbol.asyncIterator](),e,r,u);var l=(0,i.default)(t),d=!1,h=!1,f=0,p=!1;function m(e,t){if(!h)if(f-=1,e)d=!0,u(e);else if(!1===e)d=!0,h=!0;else{if(t===c.default||d&&f<=0)return d=!0,u(null);p||g()}}function g(){for(p=!0;f<e&&!d;){var t=l();if(null===t)return d=!0,void(f<=0&&u(null));f+=1,r(t.value,t.key,(0,o.default)(m))}p=!1}g()},e.exports=t.default},963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t.default},795:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){var r=t.pop();return e.call(this,t,r)}},e.exports=t.default},9875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0},e.exports=t.default},8303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,o,s,a=(0,i.default)(e);return a?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(a):(r=(t=e)?Object.keys(t):[],o=-1,s=r.length,function e(){var n=r[++o];return"__proto__"===n?e():o<s?{value:t[n],key:n}:null})};var n=o(r(9875)),i=o(r(963));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},2132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t},e.exports=t.default},1814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}},e.exports=t.default},4470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(9875)),i=s(r(4877)),o=s(r(8409));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)(((e,t,r)=>{var o=(0,n.default)(t)?[]:{};e(t,((e,t,r)=>{(0,i.default)(e)(((e,...n)=>{n.length<2&&([n]=n),o[t]=n,r(e)}))}),(e=>r(e,o)))}),3),e.exports=t.default},6368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fallback=s,t.wrap=a;var r,n=t.hasQueueMicrotask="function"==typeof queueMicrotask&&queueMicrotask,i=t.hasSetImmediate="function"==typeof setImmediate&&setImmediate,o=t.hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function s(e){setTimeout(e,0)}function a(e){return(t,...r)=>e((()=>t(...r)))}r=n?queueMicrotask:i?setImmediate:o?process.nextTick:s,t.default=a(r)},5337:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(t,r,n)=>e(t,n)},e.exports=t.default},4877:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n,i=(n=r(257))&&n.__esModule?n:{default:n};function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){if("function"!=typeof e)throw new Error("expected a function");return o(e)?(0,i.default)(e):e},t.isAsync=o,t.isAsyncGenerator=function(e){return"AsyncGenerator"===e[Symbol.toStringTag]},t.isAsyncIterable=function(e){return"function"==typeof e[Symbol.asyncIterator]}},7814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(i.default,e,t)};var n=o(r(4470)),i=o(r(5874));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},4570:e=>{var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,r,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==r)throw new Error("Null input. (diff_main)");if(e==r)return e?[new t.Diff(0,e)]:[];void 0===n&&(n=!0);var s=n,a=this.diff_commonPrefix(e,r),c=e.substring(0,a);e=e.substring(a),r=r.substring(a),a=this.diff_commonSuffix(e,r);var u=e.substring(e.length-a);e=e.substring(0,e.length-a),r=r.substring(0,r.length-a);var l=this.diff_compute_(e,r,s,o);return c&&l.unshift(new t.Diff(0,c)),u&&l.push(new t.Diff(0,u)),this.diff_cleanupMerge(l),l},t.prototype.diff_compute_=function(e,n,i,o){var s;if(!e)return[new t.Diff(1,n)];if(!n)return[new t.Diff(r,e)];var a=e.length>n.length?e:n,c=e.length>n.length?n:e,u=a.indexOf(c);if(-1!=u)return s=[new t.Diff(1,a.substring(0,u)),new t.Diff(0,c),new t.Diff(1,a.substring(u+c.length))],e.length>n.length&&(s[0][0]=s[2][0]=r),s;if(1==c.length)return[new t.Diff(r,e),new t.Diff(1,n)];var l=this.diff_halfMatch_(e,n);if(l){var d=l[0],h=l[1],f=l[2],p=l[3],m=l[4],g=this.diff_main(d,f,i,o),v=this.diff_main(h,p,i,o);return g.concat([new t.Diff(0,m)],v)}return i&&e.length>100&&n.length>100?this.diff_lineMode_(e,n,o):this.diff_bisect_(e,n,o)},t.prototype.diff_lineMode_=function(e,n,i){var o=this.diff_linesToChars_(e,n);e=o.chars1,n=o.chars2;var s=o.lineArray,a=this.diff_main(e,n,!1,i);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var c=0,u=0,l=0,d="",h="";c<a.length;){switch(a[c][0]){case 1:l++,h+=a[c][1];break;case r:u++,d+=a[c][1];break;case 0:if(u>=1&&l>=1){a.splice(c-u-l,u+l),c=c-u-l;for(var f=this.diff_main(d,h,!1,i),p=f.length-1;p>=0;p--)a.splice(c,0,f[p]);c+=f.length}l=0,u=0,d="",h=""}c++}return a.pop(),a},t.prototype.diff_bisect_=function(e,n,i){for(var o=e.length,s=n.length,a=Math.ceil((o+s)/2),c=a,u=2*a,l=new Array(u),d=new Array(u),h=0;h<u;h++)l[h]=-1,d[h]=-1;l[c+1]=0,d[c+1]=0;for(var f=o-s,p=f%2!=0,m=0,g=0,v=0,y=0,b=0;b<a&&!((new Date).getTime()>i);b++){for(var w=-b+m;w<=b-g;w+=2){for(var x=c+w,S=(k=w==-b||w!=b&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-w;k<o&&S<s&&e.charAt(k)==n.charAt(S);)k++,S++;if(l[x]=k,k>o)g+=2;else if(S>s)m+=2;else if(p&&(_=c+f-w)>=0&&_<u&&-1!=d[_]&&k>=(C=o-d[_]))return this.diff_bisectSplit_(e,n,k,S,i)}for(var M=-b+v;M<=b-y;M+=2){for(var C,_=c+M,P=(C=M==-b||M!=b&&d[_-1]<d[_+1]?d[_+1]:d[_-1]+1)-M;C<o&&P<s&&e.charAt(o-C-1)==n.charAt(s-P-1);)C++,P++;if(d[_]=C,C>o)y+=2;else if(P>s)v+=2;else if(!p){var k;if((x=c+f-M)>=0&&x<u&&-1!=l[x])if(S=c+(k=l[x])-x,k>=(C=o-C))return this.diff_bisectSplit_(e,n,k,S,i)}}}return[new t.Diff(r,e),new t.Diff(1,n)]},t.prototype.diff_bisectSplit_=function(e,t,r,n,i){var o=e.substring(0,r),s=t.substring(0,n),a=e.substring(r),c=t.substring(n),u=this.diff_main(o,s,!1,i),l=this.diff_main(a,c,!1,i);return u.concat(l)},t.prototype.diff_linesToChars_=function(e,t){var r=[],n={};function i(e){for(var t="",i=0,s=-1,a=r.length;s<e.length-1;){-1==(s=e.indexOf("\n",i))&&(s=e.length-1);var c=e.substring(i,s+1);(n.hasOwnProperty?n.hasOwnProperty(c):void 0!==n[c])?t+=String.fromCharCode(n[c]):(a==o&&(c=e.substring(i),s=e.length),t+=String.fromCharCode(a),n[c]=a,r[a++]=c),i=s+1}return t}r[0]="";var o=4e4,s=i(e);return o=65535,{chars1:s,chars2:i(t),lineArray:r}},t.prototype.diff_charsToLines_=function(e,t){for(var r=0;r<e.length;r++){for(var n=e[r][1],i=[],o=0;o<n.length;o++)i[o]=t[n.charCodeAt(o)];e[r][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(o,i)==t.substring(o,i)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),i=n,o=0;r<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=r=i:n=i,i=Math.floor((n-r)/2+r);return i},t.prototype.diff_commonOverlap_=function(e,t){var r=e.length,n=t.length;if(0==r||0==n)return 0;r>n?e=e.substring(r-n):r<n&&(t=t.substring(0,r));var i=Math.min(r,n);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),c=t.indexOf(a);if(-1==c)return o;s+=c,0!=c&&e.substring(i-s)!=t.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;var i=this;function o(e,t,r){for(var n,o,s,a,c=e.substring(r,r+Math.floor(e.length/4)),u=-1,l="";-1!=(u=t.indexOf(c,u+1));){var d=i.diff_commonPrefix(e.substring(r),t.substring(u)),h=i.diff_commonSuffix(e.substring(0,r),t.substring(0,u));l.length<h+d&&(l=t.substring(u-h,u)+t.substring(u,u+d),n=e.substring(0,r-h),o=e.substring(r+d),s=t.substring(0,u-h),a=t.substring(u+d))}return 2*l.length>=e.length?[n,o,s,a,l]:null}var s,a,c,u,l,d=o(r,n,Math.ceil(r.length/4)),h=o(r,n,Math.ceil(r.length/2));return d||h?(s=h?d&&d[4].length>h[4].length?d:h:d,e.length>t.length?(a=s[0],c=s[1],u=s[2],l=s[3]):(u=s[0],l=s[1],a=s[2],c=s[3]),[a,c,u,l,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var n=!1,i=[],o=0,s=null,a=0,c=0,u=0,l=0,d=0;a<e.length;)0==e[a][0]?(i[o++]=a,c=l,u=d,l=0,d=0,s=e[a][1]):(1==e[a][0]?l+=e[a][1].length:d+=e[a][1].length,s&&s.length<=Math.max(c,u)&&s.length<=Math.max(l,d)&&(e.splice(i[o-1],0,new t.Diff(r,s)),e[i[o-1]+1][0]=1,o--,a=--o>0?i[o-1]:-1,c=0,u=0,l=0,d=0,s=null,n=!0)),a++;for(n&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==r&&1==e[a][0]){var h=e[a-1][1],f=e[a][1],p=this.diff_commonOverlap_(h,f),m=this.diff_commonOverlap_(f,h);p>=m?(p>=h.length/2||p>=f.length/2)&&(e.splice(a,0,new t.Diff(0,f.substring(0,p))),e[a-1][1]=h.substring(0,h.length-p),e[a+1][1]=f.substring(p),a++):(m>=h.length/2||m>=f.length/2)&&(e.splice(a,0,new t.Diff(0,h.substring(0,m))),e[a-1][0]=1,e[a-1][1]=f.substring(0,f.length-m),e[a+1][0]=r,e[a+1][1]=h.substring(m),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function r(e,r){if(!e||!r)return 6;var n=e.charAt(e.length-1),i=r.charAt(0),o=n.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&n.match(t.whitespaceRegex_),c=s&&i.match(t.whitespaceRegex_),u=a&&n.match(t.linebreakRegex_),l=c&&i.match(t.linebreakRegex_),d=u&&e.match(t.blanklineEndRegex_),h=l&&r.match(t.blanklineStartRegex_);return d||h?5:u||l?4:o&&!a&&c?3:a||c?2:o||s?1:0}for(var n=1;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var i=e[n-1][1],o=e[n][1],s=e[n+1][1],a=this.diff_commonSuffix(i,o);if(a){var c=o.substring(o.length-a);i=i.substring(0,i.length-a),o=c+o.substring(0,o.length-a),s=c+s}for(var u=i,l=o,d=s,h=r(i,o)+r(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var f=r(i,o)+r(o,s);f>=h&&(h=f,u=i,l=o,d=s)}e[n-1][1]!=u&&(u?e[n-1][1]=u:(e.splice(n-1,1),n--),e[n][1]=l,d?e[n+1][1]=d:(e.splice(n+1,1),n--))}n++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var n=!1,i=[],o=0,s=null,a=0,c=!1,u=!1,l=!1,d=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(l||d)?(i[o++]=a,c=l,u=d,s=e[a][1]):(o=0,s=null),l=d=!1):(e[a][0]==r?d=!0:l=!0,s&&(c&&u&&l&&d||s.length<this.Diff_EditCost/2&&c+u+l+d==3)&&(e.splice(i[o-1],0,new t.Diff(r,s)),e[i[o-1]+1][0]=1,o--,s=null,c&&u?(l=d=!0,o=0):(a=--o>0?i[o-1]:-1,l=d=!1),n=!0)),a++;n&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var n,i=0,o=0,s=0,a="",c="";i<e.length;)switch(e[i][0]){case 1:s++,c+=e[i][1],i++;break;case r:o++,a+=e[i][1],i++;break;case 0:o+s>1?(0!==o&&0!==s&&(0!==(n=this.diff_commonPrefix(c,a))&&(i-o-s>0&&0==e[i-o-s-1][0]?e[i-o-s-1][1]+=c.substring(0,n):(e.splice(0,0,new t.Diff(0,c.substring(0,n))),i++),c=c.substring(n),a=a.substring(n)),0!==(n=this.diff_commonSuffix(c,a))&&(e[i][1]=c.substring(c.length-n)+e[i][1],c=c.substring(0,c.length-n),a=a.substring(0,a.length-n))),i-=o+s,e.splice(i,o+s),a.length&&(e.splice(i,0,new t.Diff(r,a)),i++),c.length&&(e.splice(i,0,new t.Diff(1,c)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,s=0,o=0,a="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),u=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),u=!0)),i++;u&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var n,i=0,o=0,s=0,a=0;for(n=0;n<e.length&&(1!==e[n][0]&&(i+=e[n][1].length),e[n][0]!==r&&(o+=e[n][1].length),!(i>t));n++)s=i,a=o;return e.length!=n&&e[n][0]===r?a:a+(t-s)},t.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,a=0;a<e.length;a++){var c=e[a][0],u=e[a][1].replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(c){case 1:t[a]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case r:t[a]='<del style="background:#ffe6e6;">'+u+"</del>";break;case 0:t[a]="<span>"+u+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],r=0;r<e.length;r++)1!==e[r][0]&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],a=e[o][1];switch(s){case 1:n+=a.length;break;case r:i+=a.length;break;case 0:t+=Math.max(n,i),n=0,i=0}}return t+Math.max(n,i)},t.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case 1:t[n]="+"+encodeURI(e[n][1]);break;case r:t[n]="-"+e[n][1].length;break;case 0:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,n){for(var i=[],o=0,s=0,a=n.split(/\t/g),c=0;c<a.length;c++){var u=a[c].substring(1);switch(a[c].charAt(0)){case"+":try{i[o++]=new t.Diff(1,decodeURI(u))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var l=parseInt(u,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+u);var d=e.substring(s,s+=l);"="==a[c].charAt(0)?i[o++]=new t.Diff(0,d):i[o++]=new t.Diff(r,d);break;default:if(a[c])throw new Error("Invalid diff operation in diff_fromDelta: "+a[c])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,r){if(null==e||null==t||null==r)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,e.length)),e==t?0:e.length?e.substring(r,r+t.length)==t?r:this.match_bitap_(e,t,r):-1},t.prototype.match_bitap_=function(e,t,r){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(t),i=this;function o(e,n){var o=e/t.length,s=Math.abs(r-n);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,r);-1!=a&&(s=Math.min(o(0,a),s),-1!=(a=e.lastIndexOf(t,r+t.length))&&(s=Math.min(o(0,a),s)));var c,u,l=1<<t.length-1;a=-1;for(var d,h=t.length+e.length,f=0;f<t.length;f++){for(c=0,u=h;c<u;)o(f,r+u)<=s?c=u:h=u,u=Math.floor((h-c)/2+c);h=u;var p=Math.max(1,r-u+1),m=Math.min(r+u,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<f)-1;for(var v=m;v>=p;v--){var y=n[e.charAt(v-1)];if(g[v]=0===f?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&l){var b=o(f,v-1);if(b<=s){if(s=b,!((a=v-1)>r))break;p=Math.max(1,2*r-a)}}}if(o(f+1,r)>s)break;d=g}return a},t.prototype.match_alphabet_=function(e){for(var t={},r=0;r<e.length;r++)t[e.charAt(r)]=0;for(r=0;r<e.length;r++)t[e.charAt(r)]|=1<<e.length-r-1;return t},t.prototype.patch_addContext_=function(e,r){if(0!=r.length){if(null===e.start2)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!=r.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=r.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var s=r.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},t.prototype.patch_make=function(e,n,i){var o,s;if("string"==typeof e&&"string"==typeof n&&void 0===i)o=e,(s=this.diff_main(o,n,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&void 0===n&&void 0===i)s=e,o=this.diff_text1(s);else if("string"==typeof e&&n&&"object"==typeof n&&void 0===i)o=e,s=n;else{if("string"!=typeof e||"string"!=typeof n||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");o=e,s=i}if(0===s.length)return[];for(var a=[],c=new t.patch_obj,u=0,l=0,d=0,h=o,f=o,p=0;p<s.length;p++){var m=s[p][0],g=s[p][1];switch(u||0===m||(c.start1=l,c.start2=d),m){case 1:c.diffs[u++]=s[p],c.length2+=g.length,f=f.substring(0,d)+g+f.substring(d);break;case r:c.length1+=g.length,c.diffs[u++]=s[p],f=f.substring(0,d)+f.substring(d+g.length);break;case 0:g.length<=2*this.Patch_Margin&&u&&s.length!=p+1?(c.diffs[u++]=s[p],c.length1+=g.length,c.length2+=g.length):g.length>=2*this.Patch_Margin&&u&&(this.patch_addContext_(c,h),a.push(c),c=new t.patch_obj,u=0,h=f,l=d)}1!==m&&(l+=g.length),m!==r&&(d+=g.length)}return u&&(this.patch_addContext_(c,h),a.push(c)),a},t.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new t.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,r[n]=o}return r},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var a,c,u=e[s].start2+i,l=this.diff_text1(e[s].diffs),d=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(t,l.substring(0,this.Match_MaxBits),u))&&(-1==(d=this.match_main(t,l.substring(l.length-this.Match_MaxBits),u+l.length-this.Match_MaxBits))||a>=d)&&(a=-1):a=this.match_main(t,l,u),-1==a)o[s]=!1,i-=e[s].length2-e[s].length1;else if(o[s]=!0,i=a-u,l==(c=-1==d?t.substring(a,a+l.length):t.substring(a,d+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+l.length);else{var h=this.diff_main(l,c,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(h)/l.length>this.Patch_DeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(h);for(var f,p=0,m=0;m<e[s].diffs.length;m++){var g=e[s].diffs[m];0!==g[0]&&(f=this.diff_xIndex(h,p)),1===g[0]?t=t.substring(0,a+f)+g[1]+t.substring(a+f):g[0]===r&&(t=t.substring(0,a+f)+t.substring(a+this.diff_xIndex(h,p+g[1].length))),g[0]!==r&&(p+=g[1].length)}}}}return[t=t.substring(n.length,t.length-n.length),o]},t.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var o=e[0],s=o.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,n)),o.start1-=r,o.start2-=r,o.length1+=r,o.length2+=r;else if(r>s[0][1].length){var a=r-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=a,o.start2-=a,o.length1+=a,o.length2+=a}return 0==(s=(o=e[e.length-1]).diffs).length||0!=s[s.length-1][0]?(s.push(new t.Diff(0,n)),o.length1+=r,o.length2+=r):r>s[s.length-1][1].length&&(a=r-s[s.length-1][1].length,s[s.length-1][1]+=n.substring(0,a),o.length1+=a,o.length2+=a),n},t.prototype.patch_splitMax=function(e){for(var n=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=n)){var o=e[i];e.splice(i--,1);for(var s=o.start1,a=o.start2,c="";0!==o.diffs.length;){var u=new t.patch_obj,l=!0;for(u.start1=s-c.length,u.start2=a-c.length,""!==c&&(u.length1=u.length2=c.length,u.diffs.push(new t.Diff(0,c)));0!==o.diffs.length&&u.length1<n-this.Patch_Margin;){var d=o.diffs[0][0],h=o.diffs[0][1];1===d?(u.length2+=h.length,a+=h.length,u.diffs.push(o.diffs.shift()),l=!1):d===r&&1==u.diffs.length&&0==u.diffs[0][0]&&h.length>2*n?(u.length1+=h.length,s+=h.length,l=!1,u.diffs.push(new t.Diff(d,h)),o.diffs.shift()):(h=h.substring(0,n-u.length1-this.Patch_Margin),u.length1+=h.length,s+=h.length,0===d?(u.length2+=h.length,a+=h.length):l=!1,u.diffs.push(new t.Diff(d,h)),h==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(h.length))}c=(c=this.diff_text2(u.diffs)).substring(c.length-this.Patch_Margin);var f=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==f&&(u.length1+=f.length,u.length2+=f.length,0!==u.diffs.length&&0===u.diffs[u.diffs.length-1][0]?u.diffs[u.diffs.length-1][1]+=f:u.diffs.push(new t.Diff(0,f))),l||e.splice(++i,0,u)}}},t.prototype.patch_toText=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=e[r];return t.join("")},t.prototype.patch_fromText=function(e){var n=[];if(!e)return n;for(var i=e.split("\n"),o=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var a=i[o].match(s);if(!a)throw new Error("Invalid patch string: "+i[o]);var c=new t.patch_obj;for(n.push(c),c.start1=parseInt(a[1],10),""===a[2]?(c.start1--,c.length1=1):"0"==a[2]?c.length1=0:(c.start1--,c.length1=parseInt(a[2],10)),c.start2=parseInt(a[3],10),""===a[4]?(c.start2--,c.length2=1):"0"==a[4]?c.length2=0:(c.start2--,c.length2=parseInt(a[4],10)),o++;o<i.length;){var u=i[o].charAt(0);try{var l=decodeURI(i[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+l)}if("-"==u)c.diffs.push(new t.Diff(r,l));else if("+"==u)c.diffs.push(new t.Diff(1,l));else if(" "==u)c.diffs.push(new t.Diff(0,l));else{if("@"==u)break;if(""!==u)throw new Error('Invalid patch mode "'+u+'" in: '+l)}o++}}return n},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:e="+";break;case r:e="-";break;case 0:e=" "}t[n+1]=e+encodeURI(this.diffs[n][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},3283:(e,t,r)=>{"use strict";r.r(t),r.d(t,{assign:()=>l,default:()=>A,defaultI18n:()=>p,format:()=>R,parse:()=>E,setGlobalDateI18n:()=>g,setGlobalDateMasks:()=>k});var n=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="[1-9]\\d?",o="\\d\\d",s="[^\\s]+",a=/\[([^]*?)\]/gm;function c(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r.push(e[n].substr(0,t));return r}var u=function(e){return function(t,r){var n=r[e].map((function(e){return e.toLowerCase()})),i=n.indexOf(t.toLowerCase());return i>-1?i:null}};function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];for(var s in o)e[s]=o[s]}return e}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],f=c(h,3),p={dayNamesShort:c(d,3),dayNames:d,monthNamesShort:f,monthNames:h,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10?1:0)*e%10]}},m=l({},p),g=function(e){return m=l(m,e)},v=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},y=function(e,t){for(void 0===t&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},b={D:function(e){return String(e.getDate())},DD:function(e){return y(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return y(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return y(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return y(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return y(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return y(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return y(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return y(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return y(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return y(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return y(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+y(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+y(Math.floor(Math.abs(t)/60),2)+":"+y(Math.abs(t)%60,2)}},w=function(e){return+e-1},x=[null,i],S=[null,s],M=["isPm",s,function(e,t){var r=e.toLowerCase();return r===t.amPm[0]?0:r===t.amPm[1]?1:null}],C=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var t=(e+"").match(/([+-]|\d\d)/gi);if(t){var r=60*+t[1]+parseInt(t[2],10);return"+"===t[0]?r:-r}return 0}],_={D:["day",i],DD:["day",o],Do:["day",i+s,function(e){return parseInt(e,10)}],M:["month",i,w],MM:["month",o,w],YY:["year",o,function(e){var t=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",i,void 0,"isPm"],hh:["hour",o,void 0,"isPm"],H:["hour",i],HH:["hour",o],m:["minute",i],mm:["minute",o],s:["second",i],ss:["second",o],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(e){return 100*+e}],SS:["millisecond",o,function(e){return 10*+e}],SSS:["millisecond","\\d{3}"],d:x,dd:x,ddd:S,dddd:S,MMM:["month",s,u("monthNamesShort")],MMMM:["month",s,u("monthNames")],a:M,A:M,ZZ:C,Z:C},P={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},k=function(e){return l(P,e)},R=function(e,t,r){if(void 0===t&&(t=P.default),void 0===r&&(r={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=P[t]||t;var i=[];t=t.replace(a,(function(e,t){return i.push(t),"@@@"}));var o=l(l({},m),r);return(t=t.replace(n,(function(t){return b[t](e,o)}))).replace(/@@@/g,(function(){return i.shift()}))};function E(e,t,r){if(void 0===r&&(r={}),"string"!=typeof t)throw new Error("Invalid format in fecha parse");if(t=P[t]||t,e.length>1e3)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],s=[],c=t.replace(a,(function(e,t){return s.push(v(t)),"@@@"})),u={},d={};c=v(c).replace(n,(function(e){var t=_[e],r=t[0],n=t[1],i=t[3];if(u[r])throw new Error("Invalid format. "+r+" specified twice in format");return u[r]=!0,i&&(d[i]=!0),o.push(t),"("+n+")"})),Object.keys(d).forEach((function(e){if(!u[e])throw new Error("Invalid format. "+e+" is required in specified format")})),c=c.replace(/@@@/g,(function(){return s.shift()}));var h=e.match(new RegExp(c,"i"));if(!h)return null;for(var f=l(l({},m),r),p=1;p<h.length;p++){var g=o[p-1],y=g[0],b=g[2],w=b?b(h[p],f):+h[p];if(null==w)return null;i[y]=w}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var x=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),S=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],M=(p=0,S.length);p<M;p++)if(u[S[p][0]]&&i[S[p][0]]!==x[S[p][1]]())return null;return null==i.timezoneOffset?x:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}const A={format:R,parse:E,defaultI18n:p,setGlobalDateI18n:g,setGlobalDateMasks:k}},2294:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){if("string"==typeof e.displayName&&e.constructor.name)return e.displayName;if("string"==typeof e.name&&e.name)return e.name;if("object"==typeof e&&e.constructor&&"string"==typeof e.constructor.name)return e.constructor.name;var r=e.toString(),n=t.call(e).slice(8,-1);return(r="Function"===n?r.substring(r.indexOf("(")+1,r.indexOf(")")):n)||"anonymous"}},2017:(e,t,r)=>{try{var n=r(9023);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(6698)}},6698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1232:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=t},2543:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,d=9007199254740991,h=NaN,f=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",x="[object GeneratorFunction]",S="[object Map]",M="[object Number]",C="[object Object]",_="[object Promise]",P="[object RegExp]",k="[object Set]",R="[object String]",E="[object Symbol]",A="[object WeakMap]",O="[object ArrayBuffer]",T="[object DataView]",L="[object Float32Array]",B="[object Float64Array]",$="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",N="[object Uint8Array]",D="[object Uint8ClampedArray]",V="[object Uint16Array]",F="[object Uint32Array]",W=/\b__p \+= '';/g,U=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,z=RegExp(K.source),G=RegExp(H.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Me="\\u2700-\\u27bf",Ce="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\ufe0e\\ufe0f",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="["+xe+"]",Ee="["+ke+"]",Ae="["+Se+"]",Oe="\\d+",Te="["+Me+"]",Le="["+Ce+"]",Be="[^"+xe+ke+Oe+Me+Ce+_e+"]",$e="\\ud83c[\\udffb-\\udfff]",Ie="[^"+xe+"]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+_e+"]",Ve="\\u200d",Fe="(?:"+Le+"|"+Be+")",We="(?:"+De+"|"+Be+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ae+"|"+$e+")?",He="["+Pe+"]?",ze=He+Ke+"(?:"+Ve+"(?:"+[Ie,je,Ne].join("|")+")"+He+Ke+")*",Ge="(?:"+[Te,je,Ne].join("|")+")"+ze,Qe="(?:"+[Ie+Ae+"?",Ae,je,Ne,Re].join("|")+")",Je=RegExp("['’]","g"),Ye=RegExp(Ae,"g"),Ze=RegExp($e+"(?="+$e+")|"+Qe+ze,"g"),Xe=RegExp([De+"?"+Le+"+"+Ue+"(?="+[Ee,De,"$"].join("|")+")",We+"+"+qe+"(?="+[Ee,De+Fe,"$"].join("|")+")",De+"?"+Fe+"+"+Ue,De+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ge].join("|"),"g"),et=RegExp("["+Ve+xe+Se+Pe+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,it={};it[L]=it[B]=it[$]=it[I]=it[j]=it[N]=it[D]=it[V]=it[F]=!0,it[m]=it[g]=it[O]=it[v]=it[T]=it[y]=it[b]=it[w]=it[S]=it[M]=it[C]=it[P]=it[k]=it[R]=it[A]=!1;var ot={};ot[m]=ot[g]=ot[O]=ot[T]=ot[v]=ot[y]=ot[L]=ot[B]=ot[$]=ot[I]=ot[j]=ot[S]=ot[M]=ot[C]=ot[P]=ot[k]=ot[R]=ot[E]=ot[N]=ot[D]=ot[V]=ot[F]=!0,ot[b]=ot[w]=ot[A]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,ut="object"==typeof global&&global&&global.Object===Object&&global,lt="object"==typeof self&&self&&self.Object===Object&&self,dt=ut||lt||Function("return this")(),ht=t&&!t.nodeType&&t,ft=ht&&e&&!e.nodeType&&e,pt=ft&&ft.exports===ht,mt=pt&&ut.process,gt=function(){try{return ft&&ft.require&&ft.require("util").types||mt&&mt.binding&&mt.binding("util")}catch(e){}}(),vt=gt&&gt.isArrayBuffer,yt=gt&&gt.isDate,bt=gt&&gt.isMap,wt=gt&&gt.isRegExp,xt=gt&&gt.isSet,St=gt&&gt.isTypedArray;function Mt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ct(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function _t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function kt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Et(e,t){return!(null==e||!e.length)&&Dt(e,t,0)>-1}function At(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Ot(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Tt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Lt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Bt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function $t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var It=Ut("length");function jt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Nt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Dt(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Nt(e,Ft,r)}function Vt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Ft(e){return e!=e}function Wt(e,t){var r=null==e?0:e.length;return r?Ht(e,t)/r:h}function Ut(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Ht(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Gt(e){return e?e.slice(0,dr(e)+1).replace(ne,""):e}function Qt(e){return function(t){return e(t)}}function Jt(e,t){return Ot(t,(function(t){return e[t]}))}function Yt(e,t){return e.has(t)}function Zt(e,t){for(var r=-1,n=e.length;++r<n&&Dt(t,e[r],0)>-1;);return r}function Xt(e,t){for(var r=e.length;r--&&Dt(t,e[r],0)>-1;);return r}var er=qt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tr=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rr(e){return"\\"+st[e]}function nr(e){return et.test(e)}function ir(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function or(e,t){return function(r){return e(t(r))}}function sr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function ar(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ur(e){return nr(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):It(e)}function lr(e){return nr(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function dr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hr=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fr=function e(t){var r,n=(t=null==t?dt:fr.defaults(dt.Object(),t,fr.pick(dt,rt))).Array,ie=t.Date,xe=t.Error,Se=t.Function,Me=t.Math,Ce=t.Object,_e=t.RegExp,Pe=t.String,ke=t.TypeError,Re=n.prototype,Ee=Se.prototype,Ae=Ce.prototype,Oe=t["__core-js_shared__"],Te=Ee.toString,Le=Ae.hasOwnProperty,Be=0,$e=(r=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Ie=Ae.toString,je=Te.call(Ce),Ne=dt._,De=_e("^"+Te.call(Le).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=pt?t.Buffer:i,Fe=t.Symbol,We=t.Uint8Array,Ue=Ve?Ve.allocUnsafe:i,qe=or(Ce.getPrototypeOf,Ce),Ke=Ce.create,He=Ae.propertyIsEnumerable,ze=Re.splice,Ge=Fe?Fe.isConcatSpreadable:i,Qe=Fe?Fe.iterator:i,Ze=Fe?Fe.toStringTag:i,et=function(){try{var e=co(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ut=ie&&ie.now!==dt.Date.now&&ie.now,lt=t.setTimeout!==dt.setTimeout&&t.setTimeout,ht=Me.ceil,ft=Me.floor,mt=Ce.getOwnPropertySymbols,gt=Ve?Ve.isBuffer:i,It=t.isFinite,qt=Re.join,pr=or(Ce.keys,Ce),mr=Me.max,gr=Me.min,vr=ie.now,yr=t.parseInt,br=Me.random,wr=Re.reverse,xr=co(t,"DataView"),Sr=co(t,"Map"),Mr=co(t,"Promise"),Cr=co(t,"Set"),_r=co(t,"WeakMap"),Pr=co(Ce,"create"),kr=_r&&new _r,Rr={},Er=jo(xr),Ar=jo(Sr),Or=jo(Mr),Tr=jo(Cr),Lr=jo(_r),Br=Fe?Fe.prototype:i,$r=Br?Br.valueOf:i,Ir=Br?Br.toString:i;function jr(e){if(ea(e)&&!Us(e)&&!(e instanceof Fr)){if(e instanceof Vr)return e;if(Le.call(e,"__wrapped__"))return No(e)}return new Vr(e)}var Nr=function(){function e(){}return function(t){if(!Xs(t))return{};if(Ke)return Ke(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Dr(){}function Vr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Fr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ur(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Kr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}function Hr(e){var t=this.__data__=new Ur(e);this.size=t.size}function zr(e,t){var r=Us(e),n=!r&&Ws(e),i=!r&&!n&&zs(e),o=!r&&!n&&!i&&ca(e),s=r||n||i||o,a=s?zt(e.length,Pe):[],c=a.length;for(var u in e)!t&&!Le.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,c))||a.push(u);return a}function Gr(e){var t=e.length;return t?e[Kn(0,t-1)]:i}function Qr(e,t){return To(Pi(e),on(t,0,e.length))}function Jr(e){return To(Pi(e))}function Yr(e,t,r){(r!==i&&!Ds(e[t],r)||r===i&&!(t in e))&&rn(e,t,r)}function Zr(e,t,r){var n=e[t];Le.call(e,t)&&Ds(n,r)&&(r!==i||t in e)||rn(e,t,r)}function Xr(e,t){for(var r=e.length;r--;)if(Ds(e[r][0],t))return r;return-1}function en(e,t,r,n){return ln(e,(function(e,i,o){t(n,e,r(e),o)})),n}function tn(e,t){return e&&ki(t,Aa(t),e)}function rn(e,t,r){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function nn(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:_a(e,t[r]);return s}function on(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function sn(e,t,r,n,o,s){var a,c=1&t,u=2&t,l=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!Xs(e))return e;var d=Us(e);if(d){if(a=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Pi(e,a)}else{var h=ho(e),f=h==w||h==x;if(zs(e))return wi(e,c);if(h==C||h==m||f&&!o){if(a=u||f?{}:po(e),!c)return u?function(e,t){return ki(e,lo(e),t)}(e,function(e,t){return e&&ki(t,Oa(t),e)}(a,e)):function(e,t){return ki(e,uo(e),t)}(e,tn(a,e))}else{if(!ot[h])return o?e:{};a=function(e,t,r){var n,i=e.constructor;switch(t){case O:return xi(e);case v:case y:return new i(+e);case T:return function(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case B:case $:case I:case j:case N:case D:case V:case F:return Si(e,r);case S:return new i;case M:case R:return new i(e);case P:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return new i;case E:return n=e,$r?Ce($r.call(n)):{}}}(e,h,c)}}s||(s=new Hr);var p=s.get(e);if(p)return p;s.set(e,a),oa(e)?e.forEach((function(n){a.add(sn(n,t,r,n,e,s))})):ta(e)&&e.forEach((function(n,i){a.set(i,sn(n,t,r,i,e,s))}));var g=d?i:(l?u?to:eo:u?Oa:Aa)(e);return _t(g||e,(function(n,i){g&&(n=e[i=n]),Zr(a,i,sn(n,t,r,i,e,s))})),a}function an(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ce(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function cn(e,t,r){if("function"!=typeof e)throw new ke(o);return Ro((function(){e.apply(i,r)}),t)}function un(e,t,r,n){var i=-1,o=Et,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=Ot(t,Qt(r))),n?(o=At,s=!1):t.length>=200&&(o=Yt,s=!1,t=new Kr(t));e:for(;++i<a;){var l=e[i],d=null==r?l:r(l);if(l=n||0!==l?l:0,s&&d==d){for(var h=u;h--;)if(t[h]===d)continue e;c.push(l)}else o(t,d,n)||c.push(l)}return c}jr.templateSettings={escape:Q,evaluate:J,interpolate:Y,variable:"",imports:{_:jr}},jr.prototype=Dr.prototype,jr.prototype.constructor=jr,Vr.prototype=Nr(Dr.prototype),Vr.prototype.constructor=Vr,Fr.prototype=Nr(Dr.prototype),Fr.prototype.constructor=Fr,Wr.prototype.clear=function(){this.__data__=Pr?Pr(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Pr){var r=t[e];return r===s?i:r}return Le.call(t,e)?t[e]:i},Wr.prototype.has=function(e){var t=this.__data__;return Pr?t[e]!==i:Le.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pr&&t===i?s:t,this},Ur.prototype.clear=function(){this.__data__=[],this.size=0},Ur.prototype.delete=function(e){var t=this.__data__,r=Xr(t,e);return!(r<0||(r==t.length-1?t.pop():ze.call(t,r,1),--this.size,0))},Ur.prototype.get=function(e){var t=this.__data__,r=Xr(t,e);return r<0?i:t[r][1]},Ur.prototype.has=function(e){return Xr(this.__data__,e)>-1},Ur.prototype.set=function(e,t){var r=this.__data__,n=Xr(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Sr||Ur),string:new Wr}},qr.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},qr.prototype.get=function(e){return so(this,e).get(e)},qr.prototype.has=function(e){return so(this,e).has(e)},qr.prototype.set=function(e,t){var r=so(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Kr.prototype.add=Kr.prototype.push=function(e){return this.__data__.set(e,s),this},Kr.prototype.has=function(e){return this.__data__.has(e)},Hr.prototype.clear=function(){this.__data__=new Ur,this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Hr.prototype.get=function(e){return this.__data__.get(e)},Hr.prototype.has=function(e){return this.__data__.has(e)},Hr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ur){var n=r.__data__;if(!Sr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(e,t),this.size=r.size,this};var ln=Ai(yn),dn=Ai(bn,!0);function hn(e,t){var r=!0;return ln(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function fn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(c===i?a==a&&!aa(a):r(a,c)))var c=a,u=s}return u}function pn(e,t){var r=[];return ln(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?mn(a,t-1,r,n,i):Tt(i,a):n||(i[i.length]=a)}return i}var gn=Oi(),vn=Oi(!0);function yn(e,t){return e&&gn(e,t,Aa)}function bn(e,t){return e&&vn(e,t,Aa)}function wn(e,t){return Rt(t,(function(t){return Js(e[t])}))}function xn(e,t){for(var r=0,n=(t=gi(t,e)).length;null!=e&&r<n;)e=e[Io(t[r++])];return r&&r==n?e:i}function Sn(e,t,r){var n=t(e);return Us(e)?n:Tt(n,r(e))}function Mn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Ce(e)?function(e){var t=Le.call(e,Ze),r=e[Ze];try{e[Ze]=i;var n=!0}catch(e){}var o=Ie.call(e);return n&&(t?e[Ze]=r:delete e[Ze]),o}(e):function(e){return Ie.call(e)}(e)}function Cn(e,t){return e>t}function _n(e,t){return null!=e&&Le.call(e,t)}function Pn(e,t){return null!=e&&t in Ce(e)}function kn(e,t,r){for(var o=r?At:Et,s=e[0].length,a=e.length,c=a,u=n(a),l=1/0,d=[];c--;){var h=e[c];c&&t&&(h=Ot(h,Qt(t))),l=gr(h.length,l),u[c]=!r&&(t||s>=120&&h.length>=120)?new Kr(c&&h):i}h=e[0];var f=-1,p=u[0];e:for(;++f<s&&d.length<l;){var m=h[f],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?Yt(p,g):o(d,g,r))){for(c=a;--c;){var v=u[c];if(!(v?Yt(v,g):o(e[c],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Rn(e,t,r){var n=null==(e=_o(e,t=gi(t,e)))?e:e[Io(Qo(t))];return null==n?i:Mt(n,e,r)}function En(e){return ea(e)&&Mn(e)==m}function An(e,t,r,n,o){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=Us(e),c=Us(t),u=a?g:ho(e),l=c?g:ho(t),d=(u=u==m?C:u)==C,h=(l=l==m?C:l)==C,f=u==l;if(f&&zs(e)){if(!zs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Hr),a||ca(e)?Zi(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case v:case y:case M:return Ds(+e,+t);case b:return e.name==t.name&&e.message==t.message;case P:case R:return e==t+"";case S:var a=ir;case k:var c=1&n;if(a||(a=ar),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var l=Zi(a(e),a(t),n,i,o,s);return s.delete(e),l;case E:if($r)return $r.call(e)==$r.call(t)}return!1}(e,t,u,r,n,o,s);if(!(1&r)){var p=d&&Le.call(e,"__wrapped__"),w=h&&Le.call(t,"__wrapped__");if(p||w){var x=p?e.value():e,_=w?t.value():t;return s||(s=new Hr),o(x,_,r,n,s)}}return!!f&&(s||(s=new Hr),function(e,t,r,n,o,s){var a=1&r,c=eo(e),u=c.length;if(u!=eo(t).length&&!a)return!1;for(var l=u;l--;){var d=c[l];if(!(a?d in t:Le.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);for(var m=a;++l<u;){var g=e[d=c[l]],v=t[d];if(n)var y=a?n(v,g,d,t,e,s):n(g,v,d,e,t,s);if(!(y===i?g===v||o(g,v,r,n,s):y)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,r,n,o,s))}(e,t,r,n,An,o))}function On(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Ce(e);o--;){var c=r[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=r[o])[0],l=e[u],d=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var h=new Hr;if(n)var f=n(l,d,u,e,t,h);if(!(f===i?An(d,l,3,n,h):f))return!1}}return!0}function Tn(e){return!(!Xs(e)||(t=e,$e&&$e in t))&&(Js(e)?De:me).test(jo(e));var t}function Ln(e){return"function"==typeof e?e:null==e?rc:"object"==typeof e?Us(e)?Nn(e[0],e[1]):jn(e):dc(e)}function Bn(e){if(!xo(e))return pr(e);var t=[];for(var r in Ce(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function $n(e,t){return e<t}function In(e,t){var r=-1,i=Ks(e)?n(e.length):[];return ln(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function jn(e){var t=ao(e);return 1==t.length&&t[0][2]?Mo(t[0][0],t[0][1]):function(r){return r===e||On(r,e,t)}}function Nn(e,t){return yo(e)&&So(t)?Mo(Io(e),t):function(r){var n=_a(r,e);return n===i&&n===t?Pa(r,e):An(t,n,3)}}function Dn(e,t,r,n,o){e!==t&&gn(t,(function(s,a){if(o||(o=new Hr),Xs(s))!function(e,t,r,n,o,s,a){var c=Po(e,r),u=Po(t,r),l=a.get(u);if(l)Yr(e,r,l);else{var d=s?s(c,u,r+"",e,t,a):i,h=d===i;if(h){var f=Us(u),p=!f&&zs(u),m=!f&&!p&&ca(u);d=u,f||p||m?Us(c)?d=c:Hs(c)?d=Pi(c):p?(h=!1,d=wi(u,!0)):m?(h=!1,d=Si(u,!0)):d=[]:na(u)||Ws(u)?(d=c,Ws(c)?d=ga(c):Xs(c)&&!Js(c)||(d=po(u))):h=!1}h&&(a.set(u,d),o(d,u,n,s,a),a.delete(u)),Yr(e,r,d)}}(e,t,a,r,Dn,n,o);else{var c=n?n(Po(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Yr(e,a,c)}}),Oa)}function Vn(e,t){var r=e.length;if(r)return go(t+=t<0?r:0,r)?e[t]:i}function Fn(e,t,r){t=t.length?Ot(t,(function(e){return Us(e)?function(t){return xn(t,1===e.length?e[0]:e)}:e})):[rc];var n=-1;t=Ot(t,Qt(oo()));var i=In(e,(function(e,r,i){var o=Ot(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var c=Mi(i[n],o[n]);if(c)return n>=a?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(i)}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=xn(e,s);r(a,s)&&Jn(o,gi(s,e),a)}return o}function Un(e,t,r,n){var i=n?Vt:Dt,o=-1,s=t.length,a=e;for(e===t&&(t=Pi(t)),r&&(a=Ot(e,Qt(r)));++o<s;)for(var c=0,u=t[o],l=r?r(u):u;(c=i(a,l,c,n))>-1;)a!==e&&ze.call(a,c,1),ze.call(e,c,1);return e}function qn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;go(i)?ze.call(e,i,1):ci(e,i)}}return e}function Kn(e,t){return e+ft(br()*(t-e+1))}function Hn(e,t){var r="";if(!e||t<1||t>d)return r;do{t%2&&(r+=e),(t=ft(t/2))&&(e+=e)}while(t);return r}function zn(e,t){return Eo(Co(e,t,rc),e+"")}function Gn(e){return Gr(Da(e))}function Qn(e,t){var r=Da(e);return To(r,on(t,0,r.length))}function Jn(e,t,r,n){if(!Xs(e))return e;for(var o=-1,s=(t=gi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Io(t[o]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var d=c[u];(l=n?n(d,u,c):i)===i&&(l=Xs(d)?d:go(t[o+1])?[]:{})}Zr(c,u,l),c=c[u]}return e}var Yn=kr?function(e,t){return kr.set(e,t),e}:rc,Zn=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Xa(t),writable:!0})}:rc;function Xn(e){return To(Da(e))}function ei(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function ti(e,t){var r;return ln(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ri(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!aa(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ni(e,t,rc,r)}function ni(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,c=null===t,u=aa(t),l=t===i;o<s;){var d=ft((o+s)/2),h=r(e[d]),f=h!==i,p=null===h,m=h==h,g=aa(h);if(a)var v=n||m;else v=l?m&&(n||f):c?m&&f&&(n||!p):u?m&&f&&!p&&(n||!g):!p&&!g&&(n?h<=t:h<t);v?o=d+1:s=d}return gr(s,4294967294)}function ii(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Ds(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(e){return"number"==typeof e?e:aa(e)?h:+e}function si(e){if("string"==typeof e)return e;if(Us(e))return Ot(e,si)+"";if(aa(e))return Ir?Ir.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ai(e,t,r){var n=-1,i=Et,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=At;else if(o>=200){var u=t?null:Hi(e);if(u)return ar(u);s=!1,i=Yt,c=new Kr}else c=t?[]:a;e:for(;++n<o;){var l=e[n],d=t?t(l):l;if(l=r||0!==l?l:0,s&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(l)}else i(c,d,r)||(c!==a&&c.push(d),a.push(l))}return a}function ci(e,t){return null==(e=_o(e,t=gi(t,e)))||delete e[Io(Qo(t))]}function ui(e,t,r,n){return Jn(e,t,r(xn(e,t)),n)}function li(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ei(e,n?0:o,n?o+1:i):ei(e,n?o+1:0,n?i:o)}function di(e,t){var r=e;return r instanceof Fr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),r)}function hi(e,t,r){var i=e.length;if(i<2)return i?ai(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=un(s[o]||a,e[c],t,r));return ai(mn(s,1),t,r)}function fi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var c=n<s?t[n]:i;r(a,e[n],c)}return a}function pi(e){return Hs(e)?e:[]}function mi(e){return"function"==typeof e?e:rc}function gi(e,t){return Us(e)?e:yo(e,t)?[e]:$o(va(e))}var vi=zn;function yi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ei(e,t,r)}var bi=st||function(e){return dt.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var r=e.length,n=Ue?Ue(r):new e.constructor(r);return e.copy(n),n}function xi(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Si(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Mi(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=aa(e),a=t!==i,c=null===t,u=t==t,l=aa(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||n&&a&&u||!r&&u||!o)return 1;if(!n&&!s&&!l&&e<t||l&&r&&o&&!n&&!s||c&&r&&o||!a&&o||!u)return-1}return 0}function Ci(e,t,r,i){for(var o=-1,s=e.length,a=r.length,c=-1,u=t.length,l=mr(s-a,0),d=n(u+l),h=!i;++c<u;)d[c]=t[c];for(;++o<a;)(h||o<s)&&(d[r[o]]=e[o]);for(;l--;)d[c++]=e[o++];return d}function _i(e,t,r,i){for(var o=-1,s=e.length,a=-1,c=r.length,u=-1,l=t.length,d=mr(s-c,0),h=n(d+l),f=!i;++o<d;)h[o]=e[o];for(var p=o;++u<l;)h[p+u]=t[u];for(;++a<c;)(f||o<s)&&(h[p+r[a]]=e[o++]);return h}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function ki(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),o?rn(r,c,u):Zr(r,c,u)}return r}function Ri(e,t){return function(r,n){var i=Us(r)?Ct:en,o=t?t():{};return i(r,e,oo(n,2),o)}}function Ei(e){return zn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Ce(t);++n<o;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Ai(e,t){return function(r,n){if(null==r)return r;if(!Ks(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Ce(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Oi(e){return function(t,r,n){for(var i=-1,o=Ce(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}function Ti(e){return function(t){var r=nr(t=va(t))?lr(t):i,n=r?r[0]:t.charAt(0),o=r?yi(r,1).join(""):t.slice(1);return n[e]()+o}}function Li(e){return function(t){return Lt(Ja(Wa(t).replace(Je,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Nr(e.prototype),n=e.apply(r,t);return Xs(n)?n:r}}function $i(e){return function(t,r,n){var o=Ce(t);if(!Ks(t)){var s=oo(r,3);t=Aa(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function Ii(e){return Xi((function(t){var r=t.length,n=r,s=Vr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new ke(o);if(s&&!c&&"wrapper"==no(a))var c=new Vr([],!0)}for(n=c?n:r;++n<r;){var u=no(a=t[n]),l="wrapper"==u?ro(a):i;c=l&&bo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[no(l[0])].apply(c,l[3]):1==a.length&&bo(a)?c[u]():c.thru(a)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Us(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function ji(e,t,r,o,s,a,c,l,d,h){var f=t&u,p=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Bi(e);return function u(){for(var b=arguments.length,w=n(b),x=b;x--;)w[x]=arguments[x];if(g)var S=io(u),M=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(w,S);if(o&&(w=Ci(w,o,s,g)),a&&(w=_i(w,a,c,g)),b-=M,g&&b<h){var C=sr(w,S);return qi(e,t,ji,u.placeholder,r,w,C,l,d,h-b)}var _=p?r:this,P=m?_[e]:e;return b=w.length,l?w=function(e,t){for(var r=e.length,n=gr(t.length,r),o=Pi(e);n--;){var s=t[n];e[n]=go(s,r)?o[s]:i}return e}(w,l):v&&b>1&&w.reverse(),f&&d<b&&(w.length=d),this&&this!==dt&&this instanceof u&&(P=y||Bi(P)),P.apply(_,w)}}function Ni(e,t){return function(r,n){return function(e,t,r,n){return yn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Di(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=si(r),n=si(n)):(r=oi(r),n=oi(n)),o=e(r,n)}return o}}function Vi(e){return Xi((function(t){return t=Ot(t,Qt(oo())),zn((function(r){var n=this;return e(t,(function(e){return Mt(e,n,r)}))}))}))}function Fi(e,t){var r=(t=t===i?" ":si(t)).length;if(r<2)return r?Hn(t,e):t;var n=Hn(t,ht(e/ur(t)));return nr(t)?yi(lr(n),0,e).join(""):n.slice(0,e)}function Wi(e){return function(t,r,o){return o&&"number"!=typeof o&&vo(t,r,o)&&(r=o=i),t=ha(t),r===i?(r=t,t=0):r=ha(r),function(e,t,r,i){for(var o=-1,s=mr(ht((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:ha(o),e)}}function Ui(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ma(t),r=ma(r)),e(t,r)}}function qi(e,t,r,n,o,s,a,u,l,d){var h=8&t;t|=h?c:64,4&(t&=~(h?64:c))||(t&=-4);var f=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,d],p=r.apply(i,f);return bo(e)&&ko(p,f),p.placeholder=n,Ao(p,e,t)}function Ki(e){var t=Me[e];return function(e,r){if(e=ma(e),(r=null==r?0:gr(fa(r),292))&&It(e)){var n=(va(e)+"e").split("e");return+((n=(va(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Hi=Cr&&1/ar(new Cr([,-0]))[1]==l?function(e){return new Cr(e)}:ac;function zi(e){return function(t){var r=ho(t);return r==S?ir(t):r==k?cr(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Gi(e,t,r,s,l,d,h,f){var p=2&t;if(!p&&"function"!=typeof e)throw new ke(o);var m=s?s.length:0;if(m||(t&=-97,s=l=i),h=h===i?h:mr(fa(h),0),f=f===i?f:fa(f),m-=l?l.length:0,64&t){var g=s,v=l;s=l=i}var y=p?i:ro(e),b=[e,t,r,s,l,g,v,d,h,f];if(y&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ci(l,c,t[4]):c,e[4]=l?sr(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?_i(l,c,t[6]):c,e[6]=l?sr(e[5],a):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],r=b[2],s=b[3],l=b[4],!(f=b[9]=b[9]===i?p?0:e.length:mr(b[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,r){var o=Bi(e);return function s(){for(var a=arguments.length,c=n(a),u=a,l=io(s);u--;)c[u]=arguments[u];var d=a<3&&c[0]!==l&&c[a-1]!==l?[]:sr(c,l);return(a-=d.length)<r?qi(e,t,ji,s.placeholder,i,c,d,i,i,r-a):Mt(this&&this!==dt&&this instanceof s?o:e,this,c)}}(e,t,f):t!=c&&33!=t||l.length?ji.apply(i,b):function(e,t,r,i){var o=1&t,s=Bi(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,d=n(l+c),h=this&&this!==dt&&this instanceof t?s:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++a];return Mt(h,o?r:this,d)}}(e,t,r,s);else var w=function(e,t,r){var n=1&t,i=Bi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Ao((y?Yn:ko)(w,b),e,t)}function Qi(e,t,r,n){return e===i||Ds(e,Ae[r])&&!Le.call(n,r)?t:e}function Ji(e,t,r,n,o,s){return Xs(e)&&Xs(t)&&(s.set(t,e),Dn(e,t,i,Ji,s),s.delete(t)),e}function Yi(e){return na(e)?i:e}function Zi(e,t,r,n,o,s){var a=1&r,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var h=-1,f=!0,p=2&r?new Kr:i;for(s.set(e,t),s.set(t,e);++h<c;){var m=e[h],g=t[h];if(n)var v=a?n(g,m,h,t,e,s):n(m,g,h,e,t,s);if(v!==i){if(v)continue;f=!1;break}if(p){if(!$t(t,(function(e,t){if(!Yt(p,t)&&(m===e||o(m,e,r,n,s)))return p.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,r,n,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function Xi(e){return Eo(Co(e,i,qo),e+"")}function eo(e){return Sn(e,Aa,uo)}function to(e){return Sn(e,Oa,lo)}var ro=kr?function(e){return kr.get(e)}:ac;function no(e){for(var t=e.name+"",r=Rr[t],n=Le.call(Rr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function io(e){return(Le.call(jr,"placeholder")?jr:e).placeholder}function oo(){var e=jr.iteratee||nc;return e=e===nc?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ao(e){for(var t=Aa(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,So(i)]}return t}function co(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Tn(r)?r:i}var uo=mt?function(e){return null==e?[]:(e=Ce(e),Rt(mt(e),(function(t){return He.call(e,t)})))}:pc,lo=mt?function(e){for(var t=[];e;)Tt(t,uo(e)),e=qe(e);return t}:pc,ho=Mn;function fo(e,t,r){for(var n=-1,i=(t=gi(t,e)).length,o=!1;++n<i;){var s=Io(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Zs(i)&&go(s,i)&&(Us(e)||Ws(e))}function po(e){return"function"!=typeof e.constructor||xo(e)?{}:Nr(qe(e))}function mo(e){return Us(e)||Ws(e)||!!(Ge&&e&&e[Ge])}function go(e,t){var r=typeof e;return!!(t=null==t?d:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,r){if(!Xs(r))return!1;var n=typeof t;return!!("number"==n?Ks(r)&&go(t,r.length):"string"==n&&t in r)&&Ds(r[t],e)}function yo(e,t){if(Us(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!aa(e))||X.test(e)||!Z.test(e)||null!=t&&e in Ce(t)}function bo(e){var t=no(e),r=jr[t];if("function"!=typeof r||!(t in Fr.prototype))return!1;if(e===r)return!0;var n=ro(r);return!!n&&e===n[0]}(xr&&ho(new xr(new ArrayBuffer(1)))!=T||Sr&&ho(new Sr)!=S||Mr&&ho(Mr.resolve())!=_||Cr&&ho(new Cr)!=k||_r&&ho(new _r)!=A)&&(ho=function(e){var t=Mn(e),r=t==C?e.constructor:i,n=r?jo(r):"";if(n)switch(n){case Er:return T;case Ar:return S;case Or:return _;case Tr:return k;case Lr:return A}return t});var wo=Oe?Js:mc;function xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function So(e){return e==e&&!Xs(e)}function Mo(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Ce(r))}}function Co(e,t,r){return t=mr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=mr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(a),Mt(e,this,c)}}function _o(e,t){return t.length<2?e:xn(e,ei(t,0,-1))}function Po(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ko=Oo(Yn),Ro=lt||function(e,t){return dt.setTimeout(e,t)},Eo=Oo(Zn);function Ao(e,t,r){var n=t+"";return Eo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return _t(p,(function(r){var n="_."+r[0];t&r[1]&&!Et(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(n),r)))}function Oo(e){var t=0,r=0;return function(){var n=vr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function To(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=Kn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Lo,Bo,$o=(Lo=Ls((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(le,"$1"):r||e)})),t}),(function(e){return 500===Bo.size&&Bo.clear(),e})),Bo=Lo.cache,Lo);function Io(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function jo(e){if(null!=e){try{return Te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function No(e){if(e instanceof Fr)return e.clone();var t=new Vr(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Do=zn((function(e,t){return Hs(e)?un(e,mn(t,1,Hs,!0)):[]})),Vo=zn((function(e,t){var r=Qo(t);return Hs(r)&&(r=i),Hs(e)?un(e,mn(t,1,Hs,!0),oo(r,2)):[]})),Fo=zn((function(e,t){var r=Qo(t);return Hs(r)&&(r=i),Hs(e)?un(e,mn(t,1,Hs,!0),i,r):[]}));function Wo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:fa(r);return i<0&&(i=mr(n+i,0)),Nt(e,oo(t,3),i)}function Uo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=fa(r),o=r<0?mr(n+o,0):gr(o,n-1)),Nt(e,oo(t,3),o,!0)}function qo(e){return null!=e&&e.length?mn(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var Ho=zn((function(e){var t=Ot(e,pi);return t.length&&t[0]===e[0]?kn(t):[]})),zo=zn((function(e){var t=Qo(e),r=Ot(e,pi);return t===Qo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?kn(r,oo(t,2)):[]})),Go=zn((function(e){var t=Qo(e),r=Ot(e,pi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?kn(r,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=zn(Yo);function Yo(e,t){return e&&e.length&&t&&t.length?Un(e,t):e}var Zo=Xi((function(e,t){var r=null==e?0:e.length,n=nn(e,t);return qn(e,Ot(t,(function(e){return go(e,r)?+e:e})).sort(Mi)),n}));function Xo(e){return null==e?e:wr.call(e)}var es=zn((function(e){return ai(mn(e,1,Hs,!0))})),ts=zn((function(e){var t=Qo(e);return Hs(t)&&(t=i),ai(mn(e,1,Hs,!0),oo(t,2))})),rs=zn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ai(mn(e,1,Hs,!0),i,t)}));function ns(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Hs(e))return t=mr(e.length,t),!0})),zt(t,(function(t){return Ot(e,Ut(t))}))}function is(e,t){if(!e||!e.length)return[];var r=ns(e);return null==t?r:Ot(r,(function(e){return Mt(t,i,e)}))}var os=zn((function(e,t){return Hs(e)?un(e,t):[]})),ss=zn((function(e){return hi(Rt(e,Hs))})),as=zn((function(e){var t=Qo(e);return Hs(t)&&(t=i),hi(Rt(e,Hs),oo(t,2))})),cs=zn((function(e){var t=Qo(e);return t="function"==typeof t?t:i,hi(Rt(e,Hs),i,t)})),us=zn(ns),ls=zn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,is(e,r)}));function ds(e){var t=jr(e);return t.__chain__=!0,t}function hs(e,t){return t(e)}var fs=Xi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return nn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Fr&&go(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:hs,args:[o],thisArg:i}),new Vr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ps=Ri((function(e,t,r){Le.call(e,r)?++e[r]:rn(e,r,1)})),ms=$i(Wo),gs=$i(Uo);function vs(e,t){return(Us(e)?_t:ln)(e,oo(t,3))}function ys(e,t){return(Us(e)?Pt:dn)(e,oo(t,3))}var bs=Ri((function(e,t,r){Le.call(e,r)?e[r].push(t):rn(e,r,[t])})),ws=zn((function(e,t,r){var i=-1,o="function"==typeof t,s=Ks(e)?n(e.length):[];return ln(e,(function(e){s[++i]=o?Mt(t,e,r):Rn(e,t,r)})),s})),xs=Ri((function(e,t,r){rn(e,r,t)}));function Ss(e,t){return(Us(e)?Ot:In)(e,oo(t,3))}var Ms=Ri((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Cs=zn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&vo(e,t[0],t[1])?t=[]:r>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Fn(e,mn(t,1),[])})),_s=ut||function(){return dt.Date.now()};function Ps(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Gi(e,u,i,i,i,i,t)}function ks(e,t){var r;if("function"!=typeof t)throw new ke(o);return e=fa(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Rs=zn((function(e,t,r){var n=1;if(r.length){var i=sr(r,io(Rs));n|=c}return Gi(e,n,t,r,i)})),Es=zn((function(e,t,r){var n=3;if(r.length){var i=sr(r,io(Es));n|=c}return Gi(t,n,e,r,i)}));function As(e,t,r){var n,s,a,c,u,l,d=0,h=!1,f=!1,p=!0;if("function"!=typeof e)throw new ke(o);function m(t){var r=n,o=s;return n=s=i,d=t,c=e.apply(o,r)}function g(e){var r=e-l;return l===i||r>=t||r<0||f&&e-d>=a}function v(){var e=_s();if(g(e))return y(e);u=Ro(v,function(e){var r=t-(e-l);return f?gr(r,a-(e-d)):r}(e))}function y(e){return u=i,p&&n?m(e):(n=s=i,c)}function b(){var e=_s(),r=g(e);if(n=arguments,s=this,l=e,r){if(u===i)return function(e){return d=e,u=Ro(v,t),h?m(e):c}(l);if(f)return bi(u),u=Ro(v,t),m(l)}return u===i&&(u=Ro(v,t)),c}return t=ma(t)||0,Xs(r)&&(h=!!r.leading,a=(f="maxWait"in r)?mr(ma(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),b.cancel=function(){u!==i&&bi(u),d=0,n=l=s=u=i},b.flush=function(){return u===i?c:y(_s())},b}var Os=zn((function(e,t){return cn(e,1,t)})),Ts=zn((function(e,t,r){return cn(e,ma(t)||0,r)}));function Ls(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Ls.Cache||qr),r}function Bs(e){if("function"!=typeof e)throw new ke(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ls.Cache=qr;var $s=vi((function(e,t){var r=(t=1==t.length&&Us(t[0])?Ot(t[0],Qt(oo())):Ot(mn(t,1),Qt(oo()))).length;return zn((function(n){for(var i=-1,o=gr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Mt(e,this,n)}))})),Is=zn((function(e,t){var r=sr(t,io(Is));return Gi(e,c,i,t,r)})),js=zn((function(e,t){var r=sr(t,io(js));return Gi(e,64,i,t,r)})),Ns=Xi((function(e,t){return Gi(e,256,i,i,i,t)}));function Ds(e,t){return e===t||e!=e&&t!=t}var Vs=Ui(Cn),Fs=Ui((function(e,t){return e>=t})),Ws=En(function(){return arguments}())?En:function(e){return ea(e)&&Le.call(e,"callee")&&!He.call(e,"callee")},Us=n.isArray,qs=vt?Qt(vt):function(e){return ea(e)&&Mn(e)==O};function Ks(e){return null!=e&&Zs(e.length)&&!Js(e)}function Hs(e){return ea(e)&&Ks(e)}var zs=gt||mc,Gs=yt?Qt(yt):function(e){return ea(e)&&Mn(e)==y};function Qs(e){if(!ea(e))return!1;var t=Mn(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!na(e)}function Js(e){if(!Xs(e))return!1;var t=Mn(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ys(e){return"number"==typeof e&&e==fa(e)}function Zs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Xs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=bt?Qt(bt):function(e){return ea(e)&&ho(e)==S};function ra(e){return"number"==typeof e||ea(e)&&Mn(e)==M}function na(e){if(!ea(e)||Mn(e)!=C)return!1;var t=qe(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Te.call(r)==je}var ia=wt?Qt(wt):function(e){return ea(e)&&Mn(e)==P},oa=xt?Qt(xt):function(e){return ea(e)&&ho(e)==k};function sa(e){return"string"==typeof e||!Us(e)&&ea(e)&&Mn(e)==R}function aa(e){return"symbol"==typeof e||ea(e)&&Mn(e)==E}var ca=St?Qt(St):function(e){return ea(e)&&Zs(e.length)&&!!it[Mn(e)]},ua=Ui($n),la=Ui((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ks(e))return sa(e)?lr(e):Pi(e);if(Qe&&e[Qe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Qe]());var t=ho(e);return(t==S?ir:t==k?ar:Da)(e)}function ha(e){return e?(e=ma(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=ha(e),r=t%1;return t==t?r?t-r:t:0}function pa(e){return e?on(fa(e),0,f):0}function ma(e){if("number"==typeof e)return e;if(aa(e))return h;if(Xs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Xs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var r=pe.test(e);return r||ge.test(e)?ct(e.slice(2),r?2:8):fe.test(e)?h:+e}function ga(e){return ki(e,Oa(e))}function va(e){return null==e?"":si(e)}var ya=Ei((function(e,t){if(xo(t)||Ks(t))ki(t,Aa(t),e);else for(var r in t)Le.call(t,r)&&Zr(e,r,t[r])})),ba=Ei((function(e,t){ki(t,Oa(t),e)})),wa=Ei((function(e,t,r,n){ki(t,Oa(t),e,n)})),xa=Ei((function(e,t,r,n){ki(t,Aa(t),e,n)})),Sa=Xi(nn),Ma=zn((function(e,t){e=Ce(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=Oa(s),c=-1,u=a.length;++c<u;){var l=a[c],d=e[l];(d===i||Ds(d,Ae[l])&&!Le.call(e,l))&&(e[l]=s[l])}return e})),Ca=zn((function(e){return e.push(i,Ji),Mt(La,i,e)}));function _a(e,t,r){var n=null==e?i:xn(e,t);return n===i?r:n}function Pa(e,t){return null!=e&&fo(e,t,Pn)}var ka=Ni((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),e[t]=r}),Xa(rc)),Ra=Ni((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ie.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),oo),Ea=zn(Rn);function Aa(e){return Ks(e)?zr(e):Bn(e)}function Oa(e){return Ks(e)?zr(e,!0):function(e){if(!Xs(e))return function(e){var t=[];if(null!=e)for(var r in Ce(e))t.push(r);return t}(e);var t=xo(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}(e)}var Ta=Ei((function(e,t,r){Dn(e,t,r)})),La=Ei((function(e,t,r,n){Dn(e,t,r,n)})),Ba=Xi((function(e,t){var r={};if(null==e)return r;var n=!1;t=Ot(t,(function(t){return t=gi(t,e),n||(n=t.length>1),t})),ki(e,to(e),r),n&&(r=sn(r,7,Yi));for(var i=t.length;i--;)ci(r,t[i]);return r})),$a=Xi((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Pa(e,r)}))}(e,t)}));function Ia(e,t){if(null==e)return{};var r=Ot(to(e),(function(e){return[e]}));return t=oo(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var ja=zi(Aa),Na=zi(Oa);function Da(e){return null==e?[]:Jt(e,Aa(e))}var Va=Li((function(e,t,r){return t=t.toLowerCase(),e+(r?Fa(t):t)}));function Fa(e){return Qa(va(e).toLowerCase())}function Wa(e){return(e=va(e))&&e.replace(ye,er).replace(Ye,"")}var Ua=Li((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qa=Li((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ka=Ti("toLowerCase"),Ha=Li((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),za=Li((function(e,t,r){return e+(r?" ":"")+Qa(t)})),Ga=Li((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qa=Ti("toUpperCase");function Ja(e,t,r){return e=va(e),(t=r?i:t)===i?function(e){return tt.test(e)}(e)?function(e){return e.match(Xe)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Ya=zn((function(e,t){try{return Mt(e,i,t)}catch(e){return Qs(e)?e:new xe(e)}})),Za=Xi((function(e,t){return _t(t,(function(t){t=Io(t),rn(e,t,Rs(e[t],e))})),e}));function Xa(e){return function(){return e}}var ec=Ii(),tc=Ii(!0);function rc(e){return e}function nc(e){return Ln("function"==typeof e?e:sn(e,1))}var ic=zn((function(e,t){return function(r){return Rn(r,e,t)}})),oc=zn((function(e,t){return function(r){return Rn(e,r,t)}}));function sc(e,t,r){var n=Aa(t),i=wn(t,n);null!=r||Xs(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=wn(t,Aa(t)));var o=!(Xs(r)&&"chain"in r&&!r.chain),s=Js(e);return _t(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Pi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Tt([this.value()],arguments))})})),e}function ac(){}var cc=Vi(Ot),uc=Vi(kt),lc=Vi($t);function dc(e){return yo(e)?Ut(Io(e)):function(e){return function(t){return xn(t,e)}}(e)}var hc=Wi(),fc=Wi(!0);function pc(){return[]}function mc(){return!1}var gc,vc=Di((function(e,t){return e+t}),0),yc=Ki("ceil"),bc=Di((function(e,t){return e/t}),1),wc=Ki("floor"),xc=Di((function(e,t){return e*t}),1),Sc=Ki("round"),Mc=Di((function(e,t){return e-t}),0);return jr.after=function(e,t){if("function"!=typeof t)throw new ke(o);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},jr.ary=Ps,jr.assign=ya,jr.assignIn=ba,jr.assignInWith=wa,jr.assignWith=xa,jr.at=Sa,jr.before=ks,jr.bind=Rs,jr.bindAll=Za,jr.bindKey=Es,jr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Us(e)?e:[e]},jr.chain=ds,jr.chunk=function(e,t,r){t=(r?vo(e,t,r):t===i)?1:mr(fa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=n(ht(o/t));s<o;)c[a++]=ei(e,s,s+=t);return c},jr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},jr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt(Us(r)?Pi(r):[r],mn(t,1))},jr.cond=function(e){var t=null==e?0:e.length,r=oo();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new ke(o);return[r(e[0]),e[1]]})):[],zn((function(r){for(var n=-1;++n<t;){var i=e[n];if(Mt(i[0],this,r))return Mt(i[1],this,r)}}))},jr.conforms=function(e){return function(e){var t=Aa(e);return function(r){return an(r,e,t)}}(sn(e,1))},jr.constant=Xa,jr.countBy=ps,jr.create=function(e,t){var r=Nr(e);return null==t?r:tn(r,t)},jr.curry=function e(t,r,n){var o=Gi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},jr.curryRight=function e(t,r,n){var o=Gi(t,16,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},jr.debounce=As,jr.defaults=Ma,jr.defaultsDeep=Ca,jr.defer=Os,jr.delay=Ts,jr.difference=Do,jr.differenceBy=Vo,jr.differenceWith=Fo,jr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,(t=r||t===i?1:fa(t))<0?0:t,n):[]},jr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,0,(t=n-(t=r||t===i?1:fa(t)))<0?0:t):[]},jr.dropRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0,!0):[]},jr.dropWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!0):[]},jr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&vo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=fa(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:fa(n))<0&&(n+=o),n=r>n?0:pa(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},jr.filter=function(e,t){return(Us(e)?Rt:pn)(e,oo(t,3))},jr.flatMap=function(e,t){return mn(Ss(e,t),1)},jr.flatMapDeep=function(e,t){return mn(Ss(e,t),l)},jr.flatMapDepth=function(e,t,r){return r=r===i?1:fa(r),mn(Ss(e,t),r)},jr.flatten=qo,jr.flattenDeep=function(e){return null!=e&&e.length?mn(e,l):[]},jr.flattenDepth=function(e,t){return null!=e&&e.length?mn(e,t=t===i?1:fa(t)):[]},jr.flip=function(e){return Gi(e,512)},jr.flow=ec,jr.flowRight=tc,jr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},jr.functions=function(e){return null==e?[]:wn(e,Aa(e))},jr.functionsIn=function(e){return null==e?[]:wn(e,Oa(e))},jr.groupBy=bs,jr.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},jr.intersection=Ho,jr.intersectionBy=zo,jr.intersectionWith=Go,jr.invert=ka,jr.invertBy=Ra,jr.invokeMap=ws,jr.iteratee=nc,jr.keyBy=xs,jr.keys=Aa,jr.keysIn=Oa,jr.map=Ss,jr.mapKeys=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,t(e,n,i),e)})),r},jr.mapValues=function(e,t){var r={};return t=oo(t,3),yn(e,(function(e,n,i){rn(r,n,t(e,n,i))})),r},jr.matches=function(e){return jn(sn(e,1))},jr.matchesProperty=function(e,t){return Nn(e,sn(t,1))},jr.memoize=Ls,jr.merge=Ta,jr.mergeWith=La,jr.method=ic,jr.methodOf=oc,jr.mixin=sc,jr.negate=Bs,jr.nthArg=function(e){return e=fa(e),zn((function(t){return Vn(t,e)}))},jr.omit=Ba,jr.omitBy=function(e,t){return Ia(e,Bs(oo(t)))},jr.once=function(e){return ks(2,e)},jr.orderBy=function(e,t,r,n){return null==e?[]:(Us(t)||(t=null==t?[]:[t]),Us(r=n?i:r)||(r=null==r?[]:[r]),Fn(e,t,r))},jr.over=cc,jr.overArgs=$s,jr.overEvery=uc,jr.overSome=lc,jr.partial=Is,jr.partialRight=js,jr.partition=Ms,jr.pick=$a,jr.pickBy=Ia,jr.property=dc,jr.propertyOf=function(e){return function(t){return null==e?i:xn(e,t)}},jr.pull=Jo,jr.pullAll=Yo,jr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Un(e,t,oo(r,2)):e},jr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Un(e,t,i,r):e},jr.pullAt=Zo,jr.range=hc,jr.rangeRight=fc,jr.rearg=Ns,jr.reject=function(e,t){return(Us(e)?Rt:pn)(e,Bs(oo(t,3)))},jr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=oo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return qn(e,i),r},jr.rest=function(e,t){if("function"!=typeof e)throw new ke(o);return zn(e,t=t===i?t:fa(t))},jr.reverse=Xo,jr.sampleSize=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:fa(t),(Us(e)?Qr:Qn)(e,t)},jr.set=function(e,t,r){return null==e?e:Jn(e,t,r)},jr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Jn(e,t,r,n)},jr.shuffle=function(e){return(Us(e)?Jr:Xn)(e)},jr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&vo(e,t,r)?(t=0,r=n):(t=null==t?0:fa(t),r=r===i?n:fa(r)),ei(e,t,r)):[]},jr.sortBy=Cs,jr.sortedUniq=function(e){return e&&e.length?ii(e):[]},jr.sortedUniqBy=function(e,t){return e&&e.length?ii(e,oo(t,2)):[]},jr.split=function(e,t,r){return r&&"number"!=typeof r&&vo(e,t,r)&&(t=r=i),(r=r===i?f:r>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!ia(t))&&!(t=si(t))&&nr(e)?yi(lr(e),0,r):e.split(t,r):[]},jr.spread=function(e,t){if("function"!=typeof e)throw new ke(o);return t=null==t?0:mr(fa(t),0),zn((function(r){var n=r[t],i=yi(r,0,t);return n&&Tt(i,n),Mt(e,this,i)}))},jr.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},jr.take=function(e,t,r){return e&&e.length?ei(e,0,(t=r||t===i?1:fa(t))<0?0:t):[]},jr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ei(e,(t=n-(t=r||t===i?1:fa(t)))<0?0:t,n):[]},jr.takeRightWhile=function(e,t){return e&&e.length?li(e,oo(t,3),!1,!0):[]},jr.takeWhile=function(e,t){return e&&e.length?li(e,oo(t,3)):[]},jr.tap=function(e,t){return t(e),e},jr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ke(o);return Xs(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),As(e,t,{leading:n,maxWait:t,trailing:i})},jr.thru=hs,jr.toArray=da,jr.toPairs=ja,jr.toPairsIn=Na,jr.toPath=function(e){return Us(e)?Ot(e,Io):aa(e)?[e]:Pi($o(va(e)))},jr.toPlainObject=ga,jr.transform=function(e,t,r){var n=Us(e),i=n||zs(e)||ca(e);if(t=oo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:Xs(e)&&Js(o)?Nr(qe(e)):{}}return(i?_t:yn)(e,(function(e,n,i){return t(r,e,n,i)})),r},jr.unary=function(e){return Ps(e,1)},jr.union=es,jr.unionBy=ts,jr.unionWith=rs,jr.uniq=function(e){return e&&e.length?ai(e):[]},jr.uniqBy=function(e,t){return e&&e.length?ai(e,oo(t,2)):[]},jr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ai(e,i,t):[]},jr.unset=function(e,t){return null==e||ci(e,t)},jr.unzip=ns,jr.unzipWith=is,jr.update=function(e,t,r){return null==e?e:ui(e,t,mi(r))},jr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ui(e,t,mi(r),n)},jr.values=Da,jr.valuesIn=function(e){return null==e?[]:Jt(e,Oa(e))},jr.without=os,jr.words=Ja,jr.wrap=function(e,t){return Is(mi(t),e)},jr.xor=ss,jr.xorBy=as,jr.xorWith=cs,jr.zip=us,jr.zipObject=function(e,t){return fi(e||[],t||[],Zr)},jr.zipObjectDeep=function(e,t){return fi(e||[],t||[],Jn)},jr.zipWith=ls,jr.entries=ja,jr.entriesIn=Na,jr.extend=ba,jr.extendWith=wa,sc(jr,jr),jr.add=vc,jr.attempt=Ya,jr.camelCase=Va,jr.capitalize=Fa,jr.ceil=yc,jr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ma(r))==r?r:0),t!==i&&(t=(t=ma(t))==t?t:0),on(ma(e),t,r)},jr.clone=function(e){return sn(e,4)},jr.cloneDeep=function(e){return sn(e,5)},jr.cloneDeepWith=function(e,t){return sn(e,5,t="function"==typeof t?t:i)},jr.cloneWith=function(e,t){return sn(e,4,t="function"==typeof t?t:i)},jr.conformsTo=function(e,t){return null==t||an(e,t,Aa(t))},jr.deburr=Wa,jr.defaultTo=function(e,t){return null==e||e!=e?t:e},jr.divide=bc,jr.endsWith=function(e,t,r){e=va(e),t=si(t);var n=e.length,o=r=r===i?n:on(fa(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},jr.eq=Ds,jr.escape=function(e){return(e=va(e))&&G.test(e)?e.replace(H,tr):e},jr.escapeRegExp=function(e){return(e=va(e))&&re.test(e)?e.replace(te,"\\$&"):e},jr.every=function(e,t,r){var n=Us(e)?kt:hn;return r&&vo(e,t,r)&&(t=i),n(e,oo(t,3))},jr.find=ms,jr.findIndex=Wo,jr.findKey=function(e,t){return jt(e,oo(t,3),yn)},jr.findLast=gs,jr.findLastIndex=Uo,jr.findLastKey=function(e,t){return jt(e,oo(t,3),bn)},jr.floor=wc,jr.forEach=vs,jr.forEachRight=ys,jr.forIn=function(e,t){return null==e?e:gn(e,oo(t,3),Oa)},jr.forInRight=function(e,t){return null==e?e:vn(e,oo(t,3),Oa)},jr.forOwn=function(e,t){return e&&yn(e,oo(t,3))},jr.forOwnRight=function(e,t){return e&&bn(e,oo(t,3))},jr.get=_a,jr.gt=Vs,jr.gte=Fs,jr.has=function(e,t){return null!=e&&fo(e,t,_n)},jr.hasIn=Pa,jr.head=Ko,jr.identity=rc,jr.includes=function(e,t,r,n){e=Ks(e)?e:Da(e),r=r&&!n?fa(r):0;var i=e.length;return r<0&&(r=mr(i+r,0)),sa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Dt(e,t,r)>-1},jr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:fa(r);return i<0&&(i=mr(n+i,0)),Dt(e,t,i)},jr.inRange=function(e,t,r){return t=ha(t),r===i?(r=t,t=0):r=ha(r),function(e,t,r){return e>=gr(t,r)&&e<mr(t,r)}(e=ma(e),t,r)},jr.invoke=Ea,jr.isArguments=Ws,jr.isArray=Us,jr.isArrayBuffer=qs,jr.isArrayLike=Ks,jr.isArrayLikeObject=Hs,jr.isBoolean=function(e){return!0===e||!1===e||ea(e)&&Mn(e)==v},jr.isBuffer=zs,jr.isDate=Gs,jr.isElement=function(e){return ea(e)&&1===e.nodeType&&!na(e)},jr.isEmpty=function(e){if(null==e)return!0;if(Ks(e)&&(Us(e)||"string"==typeof e||"function"==typeof e.splice||zs(e)||ca(e)||Ws(e)))return!e.length;var t=ho(e);if(t==S||t==k)return!e.size;if(xo(e))return!Bn(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},jr.isEqual=function(e,t){return An(e,t)},jr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?An(e,t,i,r):!!n},jr.isError=Qs,jr.isFinite=function(e){return"number"==typeof e&&It(e)},jr.isFunction=Js,jr.isInteger=Ys,jr.isLength=Zs,jr.isMap=ta,jr.isMatch=function(e,t){return e===t||On(e,t,ao(t))},jr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,On(e,t,ao(t),r)},jr.isNaN=function(e){return ra(e)&&e!=+e},jr.isNative=function(e){if(wo(e))throw new xe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tn(e)},jr.isNil=function(e){return null==e},jr.isNull=function(e){return null===e},jr.isNumber=ra,jr.isObject=Xs,jr.isObjectLike=ea,jr.isPlainObject=na,jr.isRegExp=ia,jr.isSafeInteger=function(e){return Ys(e)&&e>=-9007199254740991&&e<=d},jr.isSet=oa,jr.isString=sa,jr.isSymbol=aa,jr.isTypedArray=ca,jr.isUndefined=function(e){return e===i},jr.isWeakMap=function(e){return ea(e)&&ho(e)==A},jr.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==Mn(e)},jr.join=function(e,t){return null==e?"":qt.call(e,t)},jr.kebabCase=Ua,jr.last=Qo,jr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=fa(r))<0?mr(n+o,0):gr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Nt(e,Ft,o,!0)},jr.lowerCase=qa,jr.lowerFirst=Ka,jr.lt=ua,jr.lte=la,jr.max=function(e){return e&&e.length?fn(e,rc,Cn):i},jr.maxBy=function(e,t){return e&&e.length?fn(e,oo(t,2),Cn):i},jr.mean=function(e){return Wt(e,rc)},jr.meanBy=function(e,t){return Wt(e,oo(t,2))},jr.min=function(e){return e&&e.length?fn(e,rc,$n):i},jr.minBy=function(e,t){return e&&e.length?fn(e,oo(t,2),$n):i},jr.stubArray=pc,jr.stubFalse=mc,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=xc,jr.nth=function(e,t){return e&&e.length?Vn(e,fa(t)):i},jr.noConflict=function(){return dt._===this&&(dt._=Ne),this},jr.noop=ac,jr.now=_s,jr.pad=function(e,t,r){e=va(e);var n=(t=fa(t))?ur(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Fi(ft(i),r)+e+Fi(ht(i),r)},jr.padEnd=function(e,t,r){e=va(e);var n=(t=fa(t))?ur(e):0;return t&&n<t?e+Fi(t-n,r):e},jr.padStart=function(e,t,r){e=va(e);var n=(t=fa(t))?ur(e):0;return t&&n<t?Fi(t-n,r)+e:e},jr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),yr(va(e).replace(ne,""),t||0)},jr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&vo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ha(e),t===i?(t=e,e=0):t=ha(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=br();return gr(e+o*(t-e+at("1e-"+((o+"").length-1))),t)}return Kn(e,t)},jr.reduce=function(e,t,r){var n=Us(e)?Lt:Kt,i=arguments.length<3;return n(e,oo(t,4),r,i,ln)},jr.reduceRight=function(e,t,r){var n=Us(e)?Bt:Kt,i=arguments.length<3;return n(e,oo(t,4),r,i,dn)},jr.repeat=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:fa(t),Hn(va(e),t)},jr.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jr.result=function(e,t,r){var n=-1,o=(t=gi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[Io(t[n])];s===i&&(n=o,s=r),e=Js(s)?s.call(e):s}return e},jr.round=Sc,jr.runInContext=e,jr.sample=function(e){return(Us(e)?Gr:Gn)(e)},jr.size=function(e){if(null==e)return 0;if(Ks(e))return sa(e)?ur(e):e.length;var t=ho(e);return t==S||t==k?e.size:Bn(e).length},jr.snakeCase=Ha,jr.some=function(e,t,r){var n=Us(e)?$t:ti;return r&&vo(e,t,r)&&(t=i),n(e,oo(t,3))},jr.sortedIndex=function(e,t){return ri(e,t)},jr.sortedIndexBy=function(e,t,r){return ni(e,t,oo(r,2))},jr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ri(e,t);if(n<r&&Ds(e[n],t))return n}return-1},jr.sortedLastIndex=function(e,t){return ri(e,t,!0)},jr.sortedLastIndexBy=function(e,t,r){return ni(e,t,oo(r,2),!0)},jr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ri(e,t,!0)-1;if(Ds(e[r],t))return r}return-1},jr.startCase=za,jr.startsWith=function(e,t,r){return e=va(e),r=null==r?0:on(fa(r),0,e.length),t=si(t),e.slice(r,r+t.length)==t},jr.subtract=Mc,jr.sum=function(e){return e&&e.length?Ht(e,rc):0},jr.sumBy=function(e,t){return e&&e.length?Ht(e,oo(t,2)):0},jr.template=function(e,t,r){var n=jr.templateSettings;r&&vo(e,t,r)&&(t=i),e=va(e),t=wa({},t,n,Qi);var o,s,a=wa({},t.imports,n.imports,Qi),c=Aa(a),u=Jt(a,c),l=0,d=t.interpolate||be,h="__p += '",f=_e((t.escape||be).source+"|"+d.source+"|"+(d===Y?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";e.replace(f,(function(t,r,n,i,a,c){return n||(n=i),h+=e.slice(l,c).replace(we,rr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),h+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(ue.test(m))throw new xe("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace(U,"$1").replace(q,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ya((function(){return Se(c,p+"return "+h).apply(i,u)}));if(g.source=h,Qs(g))throw g;return g},jr.times=function(e,t){if((e=fa(e))<1||e>d)return[];var r=f,n=gr(e,f);t=oo(t),e-=f;for(var i=zt(n,t);++r<e;)t(r);return i},jr.toFinite=ha,jr.toInteger=fa,jr.toLength=pa,jr.toLower=function(e){return va(e).toLowerCase()},jr.toNumber=ma,jr.toSafeInteger=function(e){return e?on(fa(e),-9007199254740991,d):0===e?e:0},jr.toString=va,jr.toUpper=function(e){return va(e).toUpperCase()},jr.trim=function(e,t,r){if((e=va(e))&&(r||t===i))return Gt(e);if(!e||!(t=si(t)))return e;var n=lr(e),o=lr(t);return yi(n,Zt(n,o),Xt(n,o)+1).join("")},jr.trimEnd=function(e,t,r){if((e=va(e))&&(r||t===i))return e.slice(0,dr(e)+1);if(!e||!(t=si(t)))return e;var n=lr(e);return yi(n,0,Xt(n,lr(t))+1).join("")},jr.trimStart=function(e,t,r){if((e=va(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=si(t)))return e;var n=lr(e);return yi(n,Zt(n,lr(t))).join("")},jr.truncate=function(e,t){var r=30,n="...";if(Xs(t)){var o="separator"in t?t.separator:o;r="length"in t?fa(t.length):r,n="omission"in t?si(t.omission):n}var s=(e=va(e)).length;if(nr(e)){var a=lr(e);s=a.length}if(r>=s)return e;var c=r-ur(n);if(c<1)return n;var u=a?yi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(a&&(c+=u.length-c),ia(o)){if(e.slice(c).search(o)){var l,d=u;for(o.global||(o=_e(o.source,va(he.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(e.indexOf(si(o),c)!=c){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+n},jr.unescape=function(e){return(e=va(e))&&z.test(e)?e.replace(K,hr):e},jr.uniqueId=function(e){var t=++Be;return va(e)+t},jr.upperCase=Ga,jr.upperFirst=Qa,jr.each=vs,jr.eachRight=ys,jr.first=Ko,sc(jr,(gc={},yn(jr,(function(e,t){Le.call(jr.prototype,t)||(gc[t]=e)})),gc),{chain:!1}),jr.VERSION="4.17.21",_t(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jr[e].placeholder=jr})),_t(["drop","take"],(function(e,t){Fr.prototype[e]=function(r){r=r===i?1:mr(fa(r),0);var n=this.__filtered__&&!t?new Fr(this):this.clone();return n.__filtered__?n.__takeCount__=gr(r,n.__takeCount__):n.__views__.push({size:gr(r,f),type:e+(n.__dir__<0?"Right":"")}),n},Fr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),_t(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Fr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:oo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),_t(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Fr.prototype[e]=function(){return this[r](1).value()[0]}})),_t(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Fr.prototype[e]=function(){return this.__filtered__?new Fr(this):this[r](1)}})),Fr.prototype.compact=function(){return this.filter(rc)},Fr.prototype.find=function(e){return this.filter(e).head()},Fr.prototype.findLast=function(e){return this.reverse().find(e)},Fr.prototype.invokeMap=zn((function(e,t){return"function"==typeof e?new Fr(this):this.map((function(r){return Rn(r,e,t)}))})),Fr.prototype.reject=function(e){return this.filter(Bs(oo(e)))},Fr.prototype.slice=function(e,t){e=fa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Fr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=fa(t))<0?r.dropRight(-t):r.take(t-e)),r)},Fr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Fr.prototype.toArray=function(){return this.take(f)},yn(Fr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=jr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(jr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,c=t instanceof Fr,u=a[0],l=c||Us(t),d=function(e){var t=o.apply(jr,Tt([e],a));return n&&h?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,f=!!this.__actions__.length,p=s&&!h,m=c&&!f;if(!s&&l){t=m?t:new Fr(this);var g=e.apply(t,a);return g.__actions__.push({func:hs,args:[d],thisArg:i}),new Vr(g,h)}return p&&m?e.apply(this,a):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})})),_t(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);jr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Us(i)?i:[],e)}return this[r]((function(r){return t.apply(Us(r)?r:[],e)}))}})),yn(Fr.prototype,(function(e,t){var r=jr[t];if(r){var n=r.name+"";Le.call(Rr,n)||(Rr[n]=[]),Rr[n].push({name:t,func:r})}})),Rr[ji(i,2).name]=[{name:"wrapper",func:i}],Fr.prototype.clone=function(){var e=new Fr(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Fr.prototype.reverse=function(){if(this.__filtered__){var e=new Fr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Fr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Us(e),n=t<0,i=r?e.length:0,o=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=gr(t,e+s);break;case"takeRight":e=mr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=n?a:s-1,l=this.__iteratees__,d=l.length,h=0,f=gr(c,this.__takeCount__);if(!r||!n&&i==c&&f==c)return di(e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var m=-1,g=e[u+=t];++m<d;){var v=l[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}p[h++]=g}return p},jr.prototype.at=fs,jr.prototype.chain=function(){return ds(this)},jr.prototype.commit=function(){return new Vr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jr.prototype.plant=function(e){for(var t,r=this;r instanceof Dr;){var n=No(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},jr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Fr){var t=e;return this.__actions__.length&&(t=new Fr(this)),(t=t.reverse()).__actions__.push({func:hs,args:[Xo],thisArg:i}),new Vr(t,this.__chain__)}return this.thru(Xo)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,Qe&&(jr.prototype[Qe]=function(){return this}),jr}();dt._=fr,(n=function(){return fr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},9426:(e,t,r)=>{"use strict";const n=r(5532);e.exports=n((e=>(e.message=`\t${e.message}`,e)))},8745:(e,t,r)=>{"use strict";const{Colorizer:n}=r(9680),{Padder:i}=r(2584),{configs:o,MESSAGE:s}=r(4763);class a{constructor(e={}){e.levels||(e.levels=o.cli.levels),this.colorizer=new n(e),this.padder=new i(e),this.options=e}transform(e,t){return this.colorizer.transform(this.padder.transform(e,t),t),e[s]=`${e.level}:${e.message}`,e}}e.exports=e=>new a(e),e.exports.Format=a},9680:(e,t,r)=>{"use strict";const n=r(7627),{LEVEL:i,MESSAGE:o}=r(4763);n.enabled=!0;const s=/\s+/;class a{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){const t=Object.keys(e).reduce(((t,r)=>(t[r]=s.test(e[r])?e[r].split(s):e[r],t)),{});return a.allColors=Object.assign({},a.allColors||{},t),a.allColors}addColors(e){return a.addColors(e)}colorize(e,t,r){if(void 0===r&&(r=t),!Array.isArray(a.allColors[e]))return n[a.allColors[e]](r);for(let t=0,i=a.allColors[e].length;t<i;t++)r=n[a.allColors[e][t]](r);return r}transform(e,t){return t.all&&"string"==typeof e[o]&&(e[o]=this.colorize(e[i],e.level,e[o])),(t.level||t.all||!t.message)&&(e.level=this.colorize(e[i],e.level)),(t.all||t.message)&&(e.message=this.colorize(e[i],e.level,e.message)),e}}e.exports=e=>new a(e),e.exports.Colorizer=e.exports.Format=a},2102:(e,t,r)=>{"use strict";const n=r(5532);function i(e){if(e.every(o))return t=>{let r=t;for(let t=0;t<e.length;t++)if(r=e[t].transform(r,e[t].options),!r)return!1;return r}}function o(e){if("function"!=typeof e.transform)throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join("\n"));return!0}e.exports=(...e)=>{const t=n(i(e)),r=t();return r.Format=t.Format,r},e.exports.cascade=i},7360:(e,t,r)=>{"use strict";const n=r(5532),{LEVEL:i,MESSAGE:o}=r(4763);e.exports=n(((e,{stack:t,cause:r})=>{if(e instanceof Error){const n=Object.assign({},e,{level:e.level,[i]:e[i]||e.level,message:e.message,[o]:e[o]||e.message});return t&&(n.stack=e.stack),r&&(n.cause=e.cause),n}if(!(e.message instanceof Error))return e;const n=e.message;return Object.assign(e,n),e.message=n.message,e[o]=n.message,t&&(e.stack=n.stack),r&&(e.cause=n.cause),e}))},5532:e=>{"use strict";class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)\nFound: ${e.toString().split("\n")[0]}\n`),Error.captureStackTrace(this,t)}}e.exports=e=>{if(e.length>2)throw new t(e);function r(e={}){this.options=e}function n(e){return new r(e)}return r.prototype.transform=e,n.Format=r,n}},2711:(e,t,r)=>{"use strict";const n=t.format=r(5532);function i(e,t){Object.defineProperty(n,e,{get:()=>t(),configurable:!0})}t.levels=r(8272),i("align",(function(){return r(9426)})),i("errors",(function(){return r(7360)})),i("cli",(function(){return r(8745)})),i("combine",(function(){return r(2102)})),i("colorize",(function(){return r(9680)})),i("json",(function(){return r(1049)})),i("label",(function(){return r(8525)})),i("logstash",(function(){return r(6816)})),i("metadata",(function(){return r(8266)})),i("ms",(function(){return r(1863)})),i("padLevels",(function(){return r(2584)})),i("prettyPrint",(function(){return r(7133)})),i("printf",(function(){return r(8668)})),i("simple",(function(){return r(929)})),i("splat",(function(){return r(9099)})),i("timestamp",(function(){return r(4867)})),i("uncolorize",(function(){return r(6439)}))},1049:(e,t,r)=>{"use strict";const n=r(5532),{MESSAGE:i}=r(4763),o=r(2068);function s(e,t){return"bigint"==typeof t?t.toString():t}e.exports=n(((e,t)=>{const r=o.configure(t);return e[i]=r(e,t.replacer||s,t.space),e}))},8525:(e,t,r)=>{"use strict";const n=r(5532);e.exports=n(((e,t)=>t.message?(e.message=`[${t.label}] ${e.message}`,e):(e.label=t.label,e)))},8272:(e,t,r)=>{"use strict";const{Colorizer:n}=r(9680);e.exports=e=>(n.addColors(e.colors||e),e)},6816:(e,t,r)=>{"use strict";const n=r(5532),{MESSAGE:i}=r(4763),o=r(2068);e.exports=n((e=>{const t={};return e.message&&(t["@message"]=e.message,delete e.message),e.timestamp&&(t["@timestamp"]=e.timestamp,delete e.timestamp),t["@fields"]=e,e[i]=o(t),e}))},8266:(e,t,r)=>{"use strict";const n=r(5532);e.exports=n(((e,t={})=>{let r="metadata";t.key&&(r=t.key);let n=[];return t.fillExcept||t.fillWith||(n.push("level"),n.push("message")),t.fillExcept&&(n=t.fillExcept),n.length>0?function(e,t,r){const n=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),i=Object.keys(e).reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{});return Object.assign(e,n,{[r]:i}),e}(e,n,r):t.fillWith?function(e,t,r){return e[r]=t.reduce(((t,r)=>(t[r]=e[r],delete e[r],t)),{}),e}(e,t.fillWith,r):e}))},1863:function(e,t,r){"use strict";const n=r(5532),i=r(6585);e.exports=n((e=>{const t=+new Date;return this.diff=t-(this.prevTime||t),this.prevTime=t,e.ms=`+${i(this.diff)}`,e}))},2584:(e,t,r)=>{"use strict";const{configs:n,LEVEL:i,MESSAGE:o}=r(4763);class s{constructor(e={levels:n.npm.levels}){this.paddings=s.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){const t=Object.keys(e).map((e=>e.length));return Math.max(...t)}static paddingForLevel(e,t,r){const n=r+1-e.length,i=Math.floor(n/t.length);return`${t}${t.repeat(i)}`.slice(0,n)}static paddingForLevels(e,t=" "){const r=s.getLongestLevel(e);return Object.keys(e).reduce(((e,n)=>(e[n]=s.paddingForLevel(n,t,r),e)),{})}transform(e,t){return e.message=`${this.paddings[e[i]]}${e.message}`,e[o]&&(e[o]=`${this.paddings[e[i]]}${e[o]}`),e}}e.exports=e=>new s(e),e.exports.Padder=e.exports.Format=s},7133:(e,t,r)=>{"use strict";const n=r(9023).inspect,i=r(5532),{LEVEL:o,MESSAGE:s,SPLAT:a}=r(4763);e.exports=i(((e,t={})=>{const r=Object.assign({},e);return delete r[o],delete r[s],delete r[a],e[s]=n(r,!1,t.depth||null,t.colorize),e}))},8668:(e,t,r)=>{"use strict";const{MESSAGE:n}=r(4763);class i{constructor(e){this.template=e}transform(e){return e[n]=this.template(e),e}}e.exports=e=>new i(e),e.exports.Printf=e.exports.Format=i},929:(e,t,r)=>{"use strict";const n=r(5532),{MESSAGE:i}=r(4763),o=r(2068);e.exports=n((e=>{const t=o(Object.assign({},e,{level:void 0,message:void 0,splat:void 0})),r=e.padding&&e.padding[e.level]||"";return e[i]="{}"!==t?`${e.level}:${r} ${e.message} ${t}`:`${e.level}:${r} ${e.message}`,e}))},9099:(e,t,r)=>{"use strict";const n=r(9023),{SPLAT:i}=r(4763),o=/%[scdjifoO%]/g,s=/%%/g;class a{constructor(e){this.options=e}_splat(e,t){const r=e.message,o=e[i]||e.splat||[],a=r.match(s),c=a&&a.length||0,u=t.length-c-o.length,l=u<0?o.splice(u,-1*u):[],d=l.length;if(d)for(let t=0;t<d;t++)Object.assign(e,l[t]);return e.message=n.format(r,...o),e}transform(e){const t=e.message,r=e[i]||e.splat;if(!r||!r.length)return e;const n=t&&t.match&&t.match(o);if(!n&&(r||r.length)){const t=r.length>1?r.splice(0):r,n=t.length;if(n)for(let r=0;r<n;r++)Object.assign(e,t[r]);return e}return n?this._splat(e,n):e}}e.exports=e=>new a(e)},4867:(e,t,r)=>{"use strict";const n=r(3283),i=r(5532);e.exports=i(((e,t={})=>(t.format&&(e.timestamp="function"==typeof t.format?t.format():n.format(new Date,t.format)),e.timestamp||(e.timestamp=(new Date).toISOString()),t.alias&&(e[t.alias]=e.timestamp),e)))},6439:(e,t,r)=>{"use strict";const n=r(7627),i=r(5532),{MESSAGE:o}=r(4763);e.exports=i(((e,t)=>(!1!==t.level&&(e.level=n.strip(e.level)),!1!==t.message&&(e.message=n.strip(String(e.message))),!1!==t.raw&&e[o]&&(e[o]=n.strip(String(e[o]))),e)))},6585:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=n?o(a,c,n,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9691:function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseApi=void 0;const o=r(8474),s=r(2545),a=r(8729),c=Symbol("DO_REQUEST");class u extends o.EventEmitter{constructor({transport:e,data:t,logger:r,metadata:i,client:o}){super(),this._isReady=Promise.resolve(!1),this[n]=(e,t=[])=>new Promise(((r,n)=>{this.transport.request(e,t,((t,i)=>{if("debug"===this.logger.level){let t;try{t=i&&"object"==typeof i?(0,s.partialClone)(i,2,["logger","transport","client"],"[Object]"):i}catch(e){t=String(i)}this.logger.debug(`response -> ${e}: %O`,t)}t?n(new Error(`${e}: ${t[1]}`)):r(i)}))})),this.transport=e,this.data=t,this.logger=r||(0,a.getLogger)(),this.client=o,i&&Object.defineProperty(this,"metadata",{value:i})}equals(e){try{return String(this.data)===String(e.data)}catch(e){return!1}}asyncRequest(e){return i(this,arguments,void 0,(function*(e,t=[]){return yield this._isReady,this.logger.debug(`request  -> ${e}`),this[c](e,t).catch((t=>{const r=new Error(t.message);throw this.logger.error('failed request to "%s": %s: %s',e,r.name,r.message),r}))}))}request(e,t=[]){return this.asyncRequest(e,t)}_getArgsByPrefix(...e){const t=[];return"nvim_"!==this.prefix&&t.push(this),t.concat(e)}getVar(e){return i(this,void 0,void 0,(function*(){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_var`,t).then((e=>e),(e=>{if(e&&e.message&&e.message.includes("not found"))return null;throw e}))}))}setVar(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_var`,r)}deleteVar(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}del_var`,t)}getOption(e){const t=this._getArgsByPrefix(e);return this.request(`${this.prefix}get_option`,t)}setOption(e,t){const r=this._getArgsByPrefix(e,t);return this.request(`${this.prefix}set_option`,r)}notify(e,t){this.logger.debug(`notify -> ${e}`),this.transport.notify(e,t)}}t.BaseApi=u,n=c},1716:function(e,t,r){"use strict";var n,i,o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.ATTACH=t.DETACH=void 0;const s=r(9691),a=r(7905);t.DETACH=Symbol("detachBuffer"),t.ATTACH=Symbol("attachBuffer");class c extends s.BaseApi{constructor(){super(...arguments),this.prefix=a.Metadata[a.ExtType.Buffer].prefix,this[n]=(...e)=>o(this,[...e],void 0,(function*(e=!1,t={}){return!!this.client.isAttached(this)||this.request(`${this.prefix}attach`,[this,e,t])})),this[i]=()=>this.request(`${this.prefix}detach`,[this])}get isAttached(){return this.client.isAttached(this)}get id(){return this.data}get length(){return this.request(`${this.prefix}line_count`,[this])}get lines(){return this.getLines()}get changedtick(){return this.request(`${this.prefix}get_changedtick`,[this])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[this,e])}getLines({start:e,end:t,strictIndexing:r}={start:0,end:-1,strictIndexing:!0}){const n=void 0===r||r;return this.request(`${this.prefix}get_lines`,[this,e,t,n])}setLines(e,{start:t,end:r,strictIndexing:n}={strictIndexing:!0}){if(void 0===t||void 0===r)throw new Error("start and end are required");const i=void 0===n||n,o="string"==typeof e?[e]:e,s=void 0!==r?r:t+1;return this.request(`${this.prefix}set_lines`,[this,t,s,i,o])}insert(e,t){return this.setLines(e,{start:t,end:t,strictIndexing:!0})}replace(e,t){const r="string"==typeof e?[e]:e;return this.setLines(r,{start:t,end:t+r.length,strictIndexing:!1})}remove(e,t,r){return this.setLines([],{start:e,end:t,strictIndexing:r})}append(e){return this.setLines(e,{start:-1,end:-1,strictIndexing:!1})}get name(){return this.request(`${this.prefix}get_name`,[this])}set name(e){this.request(`${this.prefix}set_name`,[this,e])}get valid(){return this.request(`${this.prefix}is_valid`,[this])}mark(e){return this.request(`${this.prefix}get_mark`,[this,e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[this,e])}get loaded(){return this.request(`${this.prefix}is_loaded`,[this])}getOffset(e){return this.request(`${this.prefix}get_offset`,[this,e])}addHighlight({hlGroup:e,line:t,colStart:r,colEnd:n,srcId:i}){const o=void 0!==e?e:"",s=void 0!==n?n:-1,a=void 0!==r?r:-0,c=void 0!==i?i:-1;return this.request(`${this.prefix}add_highlight`,[this,c,o,t,a,s])}clearHighlight(e={}){console.warn("`clearHighlight` is deprecated, use ``clearNamespace()` instead");const{srcId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{srcId:-1,lineStart:0,lineEnd:-1}),e);return this.request(`${this.prefix}clear_highlight`,[this,t,r,n])}clearNamespace(e){const{nsId:t,lineStart:r,lineEnd:n}=Object.assign(Object.assign({},{nsId:-1,lineStart:0,lineEnd:-1}),e);this.request(`${this.prefix}clear_namespace`,[this,t,r,n])}setVirtualText(e,t,r,n={}){return this.request(`${this.prefix}set_virtual_text`,[this,e,t,r,n])}listen(e,r){return this.isAttached||this[t.ATTACH]().then((t=>{t||this.unlisten(e,r)})),this.client.attachBuffer(this,e,r),()=>{this.unlisten(e,r)}}unlisten(e,r){this.isAttached&&this.client.detachBuffer(this,e,r)&&this[t.DETACH]()}}t.Buffer=c,n=t.ATTACH,i=t.DETACH},3324:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Neovim=void 0;const n=r(9691),i=r(163),o=r(1716),s=r(6104),a=r(6866);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix="nvim_",this.Buffer=o.Buffer,this.Window=a.Window,this.Tabpage=s.Tabpage}get apiInfo(){return this.request(`${this.prefix}get_api_info`)}get buffers(){return this.request(`${this.prefix}list_bufs`)}get buffer(){return i.createChainableApi.call(this,"Buffer",o.Buffer,(()=>this.request(`${this.prefix}get_current_buf`)))}set buffer(e){this.request(`${this.prefix}set_current_buf`,[e])}get chans(){return this.request(`${this.prefix}list_chans`)}getChanInfo(e){return this.request(`${this.prefix}get_chan_info`,[e])}get commands(){return this.getCommands()}getCommands(e={}){return this.request(`${this.prefix}get_commands`,[e])}get tabpages(){return this.request(`${this.prefix}list_tabpages`)}get tabpage(){return i.createChainableApi.call(this,"Tabpage",s.Tabpage,(()=>this.request(`${this.prefix}get_current_tabpage`)))}set tabpage(e){this.request(`${this.prefix}set_current_tabpage`,[e])}get windows(){return this.getWindows()}get window(){return this.getWindow()}set window(e){e instanceof a.Window?this.setWindow(e):e.then((e=>this.setWindow(e)))}getWindows(){return this.request(`${this.prefix}list_wins`)}getWindow(){return i.createChainableApi.call(this,"Window",a.Window,(()=>this.request(`${this.prefix}get_current_win`)))}setWindow(e){return this.request(`${this.prefix}set_current_win`,[e])}get runtimePaths(){return this.request(`${this.prefix}list_runtime_paths`)}set dir(e){this.request(`${this.prefix}set_current_dir`,[e])}get line(){return this.getLine()}set line(e){"string"==typeof e&&this.setLine(e)}getLine(){return this.request(`${this.prefix}get_current_line`)}setLine(e){return this.request(`${this.prefix}set_current_line`,[e])}getKeymap(e){return this.request(`${this.prefix}get_keymap`,[e])}get mode(){return this.request(`${this.prefix}get_mode`)}get colorMap(){return this.request(`${this.prefix}get_color_map`)}getColorByName(e){return this.request(`${this.prefix}get_color_by_name`,[e])}getHighlight(e,t=!0){const r="string"==typeof e?"by_name":"by_id";return this.request(`${this.prefix}get_hl_${r}`,[e,t])}getHighlightByName(e,t=!0){return this.request(`${this.prefix}get_hl_by_name`,[e,t])}getHighlightById(e,t=!0){return this.request(`${this.prefix}get_hl_by_id`,[e,t])}deleteCurrentLine(){return this.request(`${this.prefix}del_current_line`)}eval(e){return this.request(`${this.prefix}eval`,[e])}lua(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}execute_lua`,[e,r])}executeLua(e,t=[]){return this.lua(e,t)}callDictFunction(e,t,r=[]){const n=Array.isArray(r)?r:[r];return this.request(`${this.prefix}call_dict_function`,[e,t,n])}call(e,t=[]){const r=Array.isArray(t)?t:[t];return this.request(`${this.prefix}call_function`,[e,r])}callFunction(e,t=[]){return this.call(e,t)}callAtomic(e){return this.request(`${this.prefix}call_atomic`,[e])}command(e){return this.request(`${this.prefix}command`,[e])}commandOutput(e){return this.request(`${this.prefix}command_output`,[e])}getVvar(e){return this.request(`${this.prefix}get_vvar`,[e])}setVvar(e,t){return this.request(`${this.prefix}set_vvar`,[e,t])}feedKeys(e,t,r){return this.request(`${this.prefix}feedkeys`,[e,t,r])}input(e){return this.request(`${this.prefix}input`,[e])}inputMouse(e,t,r,n,i,o){return this.request(`${this.prefix}input_mouse`,[e,t,r,n,i,o])}parseExpression(e,t,r){return this.request(`${this.prefix}parse_expression`,[e,t,r])}getProc(e){return this.request(`${this.prefix}get_proc`,[e])}getProcChildren(e){return this.request(`${this.prefix}get_proc_children`,[e])}replaceTermcodes(e,t,r,n){return this.request(`${this.prefix}replace_termcodes`,[e,t,r,n])}strWidth(e){return this.request(`${this.prefix}strwidth`,[e])}outWrite(e){return this.request(`${this.prefix}out_write`,[e])}outWriteLine(e){return this.outWrite(`${e}\n`)}errWrite(e){return this.request(`${this.prefix}err_write`,[e])}errWriteLine(e){return this.request(`${this.prefix}err_writeln`,[e])}get uis(){return this.request(`${this.prefix}list_uis`)}uiAttach(e,t,r){return this.request(`${this.prefix}ui_attach`,[e,t,r])}uiDetach(){return this.request(`${this.prefix}ui_detach`,[])}uiTryResize(e,t){return this.request(`${this.prefix}ui_try_resize`,[e,t])}uiTryResizeGrid(e,t,r){return this.request(`${this.prefix}ui_try_resize_grid`,[e,t,r])}uiSetOption(e,t){return this.request(`${this.prefix}ui_set_option`,[e,t])}subscribe(e){return this.request(`${this.prefix}subscribe`,[e])}unsubscribe(e){return this.request(`${this.prefix}unsubscribe`,[e])}setClientInfo(e,t,r,n,i){this.request(`${this.prefix}set_client_info`,[e,t,r,n,i])}createNamespace(e=""){return this.request(`${this.prefix}create_namespace`,[e])}get namespaces(){return this.getNamespaces()}getNamespaces(){return this.request(`${this.prefix}get_namespaces`)}selectPopupmenuItem(e,t,r,n={}){return this.request(`${this.prefix}select_popupmenu_item`,[e,t,r,n])}createBuf(e,t){return this.request(`${this.prefix}create_buf`,[e,t])}createBuffer(e,t){return this.createBuf(e,t)}openWin(e,t,r){return this.request(`${this.prefix}open_win`,[e,t,r])}openWindow(e,t,r){return this.openWin(e,t,r)}winConfig(e,t={}){return e.config(t)}windowConfig(e,t={}){return this.winConfig(e,t)}winClose(e,t){return e.close(t)}windowClose(e,t){return this.winClose(e,t)}quit(){this.command("qa!")}}t.Neovim=c},6104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tabpage=void 0;const n=r(9691),i=r(7905),o=r(163),s=r(6866);class a extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Tabpage].prefix}get windows(){return this.request(`${this.prefix}list_wins`,[this])}get window(){return o.createChainableApi.call(this,"Window",s.Window,(()=>this.request(`${this.prefix}get_win`,[this])))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}getOption(){this.logger.error("Tabpage does not have `getOption`")}setOption(){this.logger.error("Tabpage does not have `setOption`")}}t.Tabpage=a},6866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Window=void 0;const n=r(9691),i=r(7905),o=r(163),s=r(6104),a=r(1716);class c extends n.BaseApi{constructor(){super(...arguments),this.prefix=i.Metadata[i.ExtType.Window].prefix}get id(){return this.data}get buffer(){return o.createChainableApi.call(this,"Buffer",a.Buffer,(()=>this.request(`${this.prefix}get_buf`,[this])))}get tabpage(){return o.createChainableApi.call(this,"Tabpage",s.Tabpage,(()=>this.request(`${this.prefix}get_tabpage`,[this])))}get cursor(){return this.request(`${this.prefix}get_cursor`,[this])}set cursor(e){this.request(`${this.prefix}set_cursor`,[this,e])}get height(){return this.request(`${this.prefix}get_height`,[this])}set height(e){this.request(`${this.prefix}set_height`,[this,e])}get width(){return this.request(`${this.prefix}get_width`,[this])}set width(e){this.request(`${this.prefix}set_width`,[this,e])}get position(){return this.request(`${this.prefix}get_position`,[this])}get row(){return this.request(`${this.prefix}get_position`,[this]).then((e=>e[0]))}get col(){return this.request(`${this.prefix}get_position`,[this]).then((e=>e[1]))}get valid(){return this.request(`${this.prefix}is_valid`,[this])}get number(){return this.request(`${this.prefix}get_number`,[this])}close(e=!1){return this.request(`${this.prefix}close`,[this,e])}config(e={}){return this.request(`${this.prefix}set_config`,[this,e])}}t.Window=c},5085:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimClient=void 0;const i=r(2228),o=r(3324),s=/nvim_buf_(.*)_event/;class a extends o.Neovim{constructor(e={}){super({logger:e.logger,transport:e.transport||new i.Transport}),this.attachedBuffers=new Map,this.requestQueue=[],this.transportAttached=!1,this.handleRequest=this.handleRequest.bind(this),this.handleNotification=this.handleNotification.bind(this)}attach({reader:e,writer:t}){this.transport.attach(t,e,this),this.transportAttached=!0,this.setupTransport()}get isApiReady(){return this.transportAttached&&void 0!==this._channelId}get channelId(){return(()=>n(this,void 0,void 0,(function*(){if(yield this._isReady,!this._channelId)throw new Error("channelId requested before _isReady");return this._channelId})))()}isAttached(e){const t=`${e.data}`;return this.attachedBuffers.has(t)}handleRequest(e,t,r,...n){this.isApiReady||"specs"===e?(this.logger.info("handleRequest: %s",e),this.emit("request",e,t,r)):(this.logger.info("handleRequest (queued): %s",e),this.requestQueue.push({type:"request",args:[e,t,r,...n]}))}emitNotification(e,t){if(e.endsWith("_event")){if(!e.startsWith("nvim_buf_"))return void this.logger.error("Unhandled event: %s",e);const r=e.replace(s,"$1"),[n]=t,i=`${n.data}`,o=this.attachedBuffers.get(i);if(void 0===o)return;(o.get(r)||[]).forEach((e=>e(...t))),"detach"===r&&this.attachedBuffers.delete(i)}else this.emit("notification",e,t)}handleNotification(e,t,...r){this.logger.info("handleNotification: %s",e),this.isApiReady?this.emitNotification(e,t):this.requestQueue.push({type:"notification",args:[e,t,...r]})}setupTransport(){if(!this.transportAttached)throw new Error("Not attached to input/output");this.transport.on("request",this.handleRequest),this.transport.on("notification",this.handleNotification),this.transport.on("detach",(()=>{this.emit("disconnect"),this.transport.removeAllListeners("request"),this.transport.removeAllListeners("notification"),this.transport.removeAllListeners("detach")})),this._isReady=this.generateApi()}requestApi(){return new Promise(((e,t)=>{this.transport.request("nvim_get_api_info",[],((r,n)=>{r?t(r):e(n)}))}))}generateApi(){return n(this,void 0,void 0,(function*(){let e;try{e=yield this.requestApi()}catch(e){this.logger.error("Could not get vim api results"),this.logger.error(e)}if(e)try{const[t]=e;return this._channelId=t,this.requestQueue.forEach((e=>{"notification"===e.type?this.emitNotification(e.args[0],e.args[1]):this.emit(e.type,...e.args)})),this.requestQueue=[],!0}catch(e){const t=e;return this.logger.error("Could not dynamically generate neovim API: %s: %O",t.name,{error:t}),this.logger.error(t.stack),!1}return!1}))}attachBuffer(e,t,r){var n;const i=`${e.data}`;this.attachedBuffers.has(i)||this.attachedBuffers.set(i,new Map);const o=this.attachedBuffers.get(i);if(!o)throw Error(`buffer not found: ${i}`);o.get(t)||o.set(t,[]);const s=null!==(n=o.get(t))&&void 0!==n?n:[];return s.includes(r)||(s.push(r),o.set(t,s),this.attachedBuffers.set(i,o)),r}detachBuffer(e,t,r){const n=`${e.data}`,i=this.attachedBuffers.get(n);if(!i)return!1;const o=(i.get(t)||[]).filter((e=>e!==r));return o.length?i.set(t,o):i.delete(t),!i.size&&(this.attachedBuffers.delete(n),!0)}}t.NeovimClient=a},7905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=t.ExtType=void 0;const n=r(1716),i=r(6866),o=r(6104);var s;!function(e){e[e.Buffer=0]="Buffer",e[e.Window=1]="Window",e[e.Tabpage=2]="Tabpage"}(s||(t.ExtType=s={})),t.Metadata=[{constructor:n.Buffer,name:"Buffer",prefix:"nvim_buf_"},{constructor:i.Window,name:"Window",prefix:"nvim_win_"},{constructor:o.Tabpage,name:"Tabpage",prefix:"nvim_tabpage_"}]},163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createChainableApi=function(e,t,r,o){const s=this;if(s[`${e}Promise`]&&0===s[`${e}Promise`].status&&s[`${e}Proxy`])return s[`${e}Proxy`];s[`${e}Promise`]=r(),[...i,...Object.getOwnPropertyNames(t.prototype)].forEach((t=>{Object.defineProperty(s[`${e}Promise`],t,{enumerable:!0,writable:!0,configurable:!0})}));const a={get:(r,i)=>{const a=Object.prototype.hasOwnProperty.call(t.prototype,i)||Object.prototype.hasOwnProperty.call(n.BaseApi.prototype,i),c=Object.getOwnPropertyDescriptor(t.prototype,i)||Object.getOwnPropertyDescriptor(n.BaseApi.prototype,i),u=c&&(void 0!==c.get||void 0!==c.set);return t&&a?a&&!u&&(i in t.prototype&&"function"==typeof t.prototype[i]||i in n.BaseApi.prototype&&"function"==typeof n.BaseApi.prototype[i])?(...t)=>s[`${e}Promise`].then((e=>e[i].call(e,...t))):o&&o()||s[`${e}Promise`].then((e=>e[i])):i in r?"function"==typeof r[i]?r[i].bind(r):r[i]:null},set:(e,t,r,n)=>(n&&(n instanceof Promise||"then"in n)?n.then((e=>{t in e&&(e[t]=r)})):e[t]=r,!0)};return s[`${e}Proxy`]=new Proxy(s[`${e}Promise`],a),s[`${e}Proxy`]};const n=r(9691),i=Object.getOwnPropertyNames(n.BaseApi.prototype)},5602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attach=void 0;var n=r(4640);Object.defineProperty(t,"attach",{enumerable:!0,get:function(){return n.attach}})},4640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attach=function({reader:e,writer:t,proc:r,socket:s,options:a={}}){let c,u;if(s){const e=(0,n.createConnection)(s);c=e,u=e}else e&&t?(c=t,u=e):r&&(c=r.stdin,u=r.stdout);if(c&&u){const e=a.logger||(0,o.getLogger)(),t=new i.NeovimClient({logger:e});return t.attach({writer:c,reader:u}),t}throw new Error("Invalid arguments, could not attach")};const n=r(7030),i=r(5085),o=r(8729)},8729:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getLogger=function(){return d||(d=function(){const e=s.createLogger({level:c});return process.env.NVIM_NODE_LOG_FILE&&e.add(new s.transports.File({filename:process.env.NVIM_NODE_LOG_FILE,level:c,format:l(!1)})),process.env.ALLOW_CONSOLE&&e.add(new s.transports.Console({format:l(!0)})),process.env.NVIM_NODE_LOG_FILE||process.env.ALLOW_CONSOLE||e.add(new s.transports.Console({silent:!0})),Object.keys(console).forEach((t=>{const r="log"===t?"info":t;"assert"===t?console.assert=function(t,...r){t||e.error("assertion failed",...r)}:u.includes(r)&&(console[t]=function(...t){e[r].apply(e,t)})})),e}()),d};const s=o(r(555)),a=r(7975),c=process.env.NVIM_NODE_LOG_LEVEL||"debug",u=["info","warn","error","debug","level"];function l(e){return s.format.combine(s.format.splat(),s.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),s.format.printf((t=>{let r;try{r="object"==typeof t.message?(0,a.inspect)(t.message,!1,2,e):t.message}catch(e){r=t.message}const n="debug"===t.level?"DBG":t.level.slice(0,3).toUpperCase();return`${t.timestamp} ${n} ${r}`})))}let d},2228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=t.exportsForTesting=void 0;const n=r(8474),i=r(7975),o=r(3986),s=r(7905);class a{constructor(e,t){this.encoder=e,this.requestId=t}send(e,t){if(this.sent)throw new Error(`Response to id ${this.requestId} already sent`);const r=(0,o.encode)([1,this.requestId,t?e:null,t?null:e]);this.encoder.write(Buffer.from(r.buffer,r.byteOffset,r.byteLength)),this.sent=!0}}class c extends n.EventEmitter{constructor(){super(...arguments),this.pending=new Map,this.nextRequestId=1,this.extensionCodec=this.initializeExtensionCodec()}initializeExtensionCodec(){const e=new o.ExtensionCodec;return s.Metadata.forEach((({constructor:t},r)=>{e.register({type:r,encode:e=>e instanceof t?(0,o.encode)(e.data):null,decode:e=>new t({transport:this,client:this.client,data:(0,o.decode)(e)})})})),e}encodeToBuffer(e){const t=(0,o.encode)(e,{extensionCodec:this.extensionCodec});return Buffer.from(t.buffer,t.byteOffset,t.byteLength)}attach(e,r,n){this.writer=e,this.reader=r,this.client=n,this.reader.on("end",(()=>{this.emit("detach")}));const s=(0,o.decodeMultiStream)(this.reader,{extensionCodec:this.extensionCodec}),a=e=>{e.next().then((r=>{if(!r.done){if(!Array.isArray(r.value)){let e="?";try{e=(0,i.inspect)(r.value,{sorted:!0,maxArrayLength:10,maxStringLength:500,compact:!0,breakLength:500})}catch(e){}const n=`invalid msgpack-RPC message: expected array, got: ${e}`,o=null===t.exportsForTesting||void 0===t.exportsForTesting?void 0:t.exportsForTesting.onTransportFail;if(o)return void o.emit("fail",n);throw new TypeError(n)}return this.parseMessage(r.value),void a(e)}Promise.resolve()}))};a(s)}request(e,t,r){this.nextRequestId=this.nextRequestId+1,this.writer.write(this.encodeToBuffer([0,this.nextRequestId,e,t])),this.pending.set(this.nextRequestId,r)}notify(e,t){this.writer.write(this.encodeToBuffer([2,e,t]))}parseMessage(e){const t=e[0];if(0===t)this.emit("request",e[2].toString(),e[3],new a(this.writer,e[1]));else if(1===t){const t=e[1],r=this.pending.get(t);if(!r)throw new Error(`no pending handler for id ${t}`);this.pending.delete(t),r(e[2],e[3])}else 2===t?this.emit("notification",e[1].toString(),e[2]):this.writer.write(this.encodeToBuffer([1,0,"Invalid message type",null]))}}t.Transport=c},2545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partialClone=function e(t,r=3,n=[],i=void 0){if("object"!=typeof t||null===t||0===Object.getOwnPropertyNames(t).length)return t;const o=Array.isArray(t)?[]:{};if(0===r)return i||o;for(const s of Object.keys(t))n.includes(s)?o[s]=i||(Array.isArray(t)?[]:{}):Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=e(t[s],r-1,n,i));return o}},7347:(e,t,r)=>{"use strict";var n=r(2294);e.exports=function(e){var t,r=0;function i(){return r||(r=1,t=e.apply(this,arguments),e=null),t}return i.displayName=n(e),i}},9218:e=>{"use strict";function t(e){if(!(this instanceof t))return new t(e);this._=e}var r=t.prototype;function n(e,t){for(var r=0;r<e;r++)t(r)}function i(e,t,r){return function(e,t){n(t.length,(function(r){e(t[r],r,t)}))}((function(r,n,i){t=e(t,r,n,i)}),r),t}function o(e,t){return i((function(t,r,n,i){return t.concat([e(r,n,i)])}),[],t)}function s(e){var t=i((function(e,t,r,n){return e.concat(r===n.length-1?Buffer.from([t,0]).readUInt16BE(0):n.readUInt16BE(r))}),[],e);return Buffer.from(o((function(e){return(e<<1&65535)>>8}),t))}function a(e){return e[0]>>7}function c(){return"undefined"!=typeof Buffer}function u(){if(!c())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function l(e){u();var r=i((function(e,t){return e+t}),0,e);if(r%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+r+" which is not an even number of bytes; the total should be divisible by 8");var o,c=r/8,l=(o=function(e){return e>48},i((function(e,t){return e||(o(t)?t:e)}),null,e));if(l)throw new Error(l+" bit range requested exceeds 48 bit (6 byte) Number max.");return new t((function(t,r){var o=c+r;return o>t.length?x(r,c.toString()+" bytes"):w(o,i((function(e,t){var r=function(e,t){var r={v:0,buf:t};return n(e,(function(){r={v:r.v<<1|a(r.buf),buf:s(r.buf)}})),r}(t,e.buf);return{coll:e.coll.concat(r.v),buf:r.buf}}),{coll:[],buf:t.slice(r,o)},e).coll)}))}function d(e,r){return new t((function(t,n){return u(),n+r>t.length?x(n,r+" bytes for "+e):w(n+r,t.slice(n,n+r))}))}function h(e,t){if("number"!=typeof(r=t)||Math.floor(r)!==r||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var r}function f(e){return h("uintBE",e),d("uintBE("+e+")",e).map((function(t){return t.readUIntBE(0,e)}))}function p(e){return h("uintLE",e),d("uintLE("+e+")",e).map((function(t){return t.readUIntLE(0,e)}))}function m(e){return h("intBE",e),d("intBE("+e+")",e).map((function(t){return t.readIntBE(0,e)}))}function g(e){return h("intLE",e),d("intLE("+e+")",e).map((function(t){return t.readIntLE(0,e)}))}function v(e){return e instanceof t}function y(e){return"[object Array]"==={}.toString.call(e)}function b(e){return c()&&Buffer.isBuffer(e)}function w(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function x(e,t){return y(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function S(e,r){if(!r)return e;if(e.furthest>r.furthest)return e;var n=e.furthest===r.furthest?function(e,r){if(function(){if(void 0!==t._supportsSet)return t._supportsSet;var e="undefined"!=typeof Set;return t._supportsSet=e,e}()&&Array.from){for(var n=new Set(e),i=0;i<r.length;i++)n.add(r[i]);var o=Array.from(n);return o.sort(),o}for(var s={},a=0;a<e.length;a++)s[e[a]]=!0;for(var c=0;c<r.length;c++)s[r[c]]=!0;var u=[];for(var l in s)({}).hasOwnProperty.call(s,l)&&u.push(l);return u.sort(),u}(e.expected,r.expected):r.expected;return{status:e.status,index:e.index,value:e.value,furthest:r.furthest,expected:n}}var M={};function C(e,t){if(b(e))return{offset:t,line:-1,column:-1};e in M||(M[e]={});for(var r=M[e],n=0,i=0,o=0,s=t;s>=0;){if(s in r){n=r[s].line,0===o&&(o=r[s].lineStart);break}("\n"===e.charAt(s)||"\r"===e.charAt(s)&&"\n"!==e.charAt(s+1))&&(i++,0===o&&(o=s+1)),s--}var a=n+i,c=t-o;return r[t]={line:a,lineStart:o},{offset:t,line:a+1,column:c+1}}function _(e){if(!v(e))throw new Error("not a parser: "+e)}function P(e,t){return"string"==typeof e?e.charAt(t):e[t]}function k(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function R(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function E(e){if("string"!=typeof e)throw new Error("not a string: "+e)}var A=2,O=3,T=8,L=5*T,B=4*T,$="  ";function I(e,t){return new Array(t+1).join(e)}function j(e,t,r){var n=t-e.length;return n<=0?e:I(r,n)+e}function N(e,t,r,n){return{from:e-t>0?e-t:0,to:e+r>n?n:e+r}}function D(e,t){var r,n,s,a,c,u=t.index,l=u.offset,d=1;if(l===e.length)return"Got the end of the input";if(b(e)){var h=l-l%T,f=l-h,p=N(h,L,B+T,e.length),m=function(e,t){var r=e.length,n=[],i=0;if(r<=t)return[e.slice()];for(var o=0;o<r;o++)n[i]||n.push([]),n[i].push(e[o]),(o+1)%t==0&&i++;return n}(e.slice(p.from,p.to).toJSON().data,T),g=o((function(e){return o((function(e){return j(e.toString(16),2,"0")}),e)}),m);a=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/T,to:Math.floor(e.to/T)}}(p),n=h/T,r=3*f,f>=4&&(r+=1),d=2,s=o((function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")}),g),(c=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(c=2)}else{var v=e.split(/\r\n|[\n\r\u2028\u2029]/);r=u.column-1,n=u.line-1,a=N(n,A,O,v.length),s=v.slice(a.from,a.to),c=a.to.toString().length}var y=n-a.from;b(e)&&(c=(8*(a.to>0?a.to-1:a.to)).toString(16).length)<2&&(c=2);var w=i((function(t,n,i){var o,s=i===y,u=s?"> ":$;return o=b(e)?j((8*(a.from+i)).toString(16),c,"0"):j((a.from+i+1).toString(),c," "),[].concat(t,[u+o+" | "+n],s?[$+I(" ",c)+" | "+j("",r," ")+I("^",d)]:[])}),[],s);return w.join("\n")}function V(e,t){return["\n","-- PARSING FAILED "+I("-",50),"\n\n",D(e,t),"\n\n",(r=t.expected,1===r.length?"Expected:\n\n"+r[0]:"Expected one of the following: \n\n"+r.join(", ")),"\n"].join("");var r}function F(e){return void 0!==e.flags?e.flags:[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.unicode?"u":"",e.sticky?"y":""].join("")}function W(){for(var e=[].slice.call(arguments),r=e.length,n=0;n<r;n+=1)_(e[n]);return t((function(t,n){for(var i,o=new Array(r),s=0;s<r;s+=1){if(!(i=S(e[s]._(t,n),i)).status)return i;o[s]=i.value,n=i.index}return S(w(n,o),i)}))}function U(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return R(t),W.apply(null,e).map((function(e){return t.apply(null,e)}))}function q(){var e=[].slice.call(arguments),r=e.length;if(0===r)return J("zero alternates");for(var n=0;n<r;n+=1)_(e[n]);return t((function(t,r){for(var n,i=0;i<e.length;i+=1)if((n=S(e[i]._(t,r),n)).status)return n;return n}))}function K(e,t){return H(e,t).or(Q([]))}function H(e,t){return _(e),_(t),U(e,t.then(e).many(),(function(e,t){return[e].concat(t)}))}function z(e){E(e);var r="'"+e+"'";return t((function(t,n){var i=n+e.length,o=t.slice(n,i);return o===e?w(i,o):x(n,r)}))}function G(e,r){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=F(e),r=0;r<t.length;r++){var n=t.charAt(r);if("i"!==n&&"m"!==n&&"u"!==n&&"s"!==n)throw new Error('unsupported regexp flag "'+n+'": '+e)}}(e),arguments.length>=2?k(r):r=0;var n=function(e){return RegExp("^(?:"+e.source+")",F(e))}(e),i=""+e;return t((function(e,t){var o=n.exec(e.slice(t));if(o){if(0<=r&&r<=o.length){var s=o[0],a=o[r];return w(t+s.length,a)}return x(t,"valid match group (0 to "+o.length+") in "+i)}return x(t,i)}))}function Q(e){return t((function(t,r){return w(r,e)}))}function J(e){return t((function(t,r){return x(r,e)}))}function Y(e){if(v(e))return t((function(t,r){var n=e._(t,r);return n.index=r,n.value="",n}));if("string"==typeof e)return Y(z(e));if(e instanceof RegExp)return Y(G(e));throw new Error("not a string, regexp, or parser: "+e)}function Z(e){return _(e),t((function(t,r){var n=e._(t,r),i=t.slice(r,n.index);return n.status?x(r,'not "'+i+'"'):w(r,null)}))}function X(e){return R(e),t((function(t,r){var n=P(t,r);return r<t.length&&e(n)?w(r+1,n):x(r,"a character/byte matching "+e)}))}function ee(e,r){arguments.length<2&&(r=e,e=void 0);var n=t((function(e,t){return n._=r()._,n._(e,t)}));return e?n.desc(e):n}function te(){return J("fantasy-land/empty")}r.parse=function(e){if("string"!=typeof e&&!b(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t,r=this.skip(oe)._(e,0);return t=r.status?{status:!0,value:r.value}:{status:!1,index:C(e,r.furthest),expected:r.expected},delete M[e],t},r.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var r=V(e,t),n=new Error(r);throw n.type="ParsimmonError",n.result=t,n},r.assert=function(e,t){return this.chain((function(r){return e(r)?Q(r):J(t)}))},r.or=function(e){return q(this,e)},r.trim=function(e){return this.wrap(e,e)},r.wrap=function(e,t){return U(e,this,t,(function(e,t){return t}))},r.thru=function(e){return e(this)},r.then=function(e){return _(e),W(this,e).map((function(e){return e[1]}))},r.many=function(){var e=this;return t((function(t,r){for(var n=[],i=void 0;;){if(!(i=S(e._(t,r),i)).status)return S(w(r,n),i);if(r===i.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");r=i.index,n.push(i.value)}}))},r.tieWith=function(e){return E(e),this.map((function(t){if(function(e){if(!y(e))throw new Error("not an array: "+e)}(t),t.length){E(t[0]);for(var r=t[0],n=1;n<t.length;n++)E(t[n]),r+=e+t[n];return r}return""}))},r.tie=function(){return this.tieWith("")},r.times=function(e,r){var n=this;return arguments.length<2&&(r=e),k(e),k(r),t((function(t,i){for(var o=[],s=void 0,a=void 0,c=0;c<e;c+=1){if(a=S(s=n._(t,i),a),!s.status)return a;i=s.index,o.push(s.value)}for(;c<r&&(a=S(s=n._(t,i),a),s.status);c+=1)i=s.index,o.push(s.value);return S(w(i,o),a)}))},r.result=function(e){return this.map((function(){return e}))},r.atMost=function(e){return this.times(0,e)},r.atLeast=function(e){return U(this.times(e),this.many(),(function(e,t){return e.concat(t)}))},r.map=function(e){R(e);var r=this;return t((function(t,n){var i=r._(t,n);return i.status?S(w(i.index,e(i.value)),i):i}))},r.contramap=function(e){R(e);var r=this;return t((function(t,n){var i=r.parse(e(t.slice(n)));return i.status?w(n+t.length,i.value):i}))},r.promap=function(e,t){return R(e),R(t),this.contramap(e).map(t)},r.skip=function(e){return W(this,e).map((function(e){return e[0]}))},r.mark=function(){return U(re,this,re,(function(e,t,r){return{start:e,value:t,end:r}}))},r.node=function(e){return U(re,this,re,(function(t,r,n){return{name:e,value:r,start:t,end:n}}))},r.sepBy=function(e){return K(this,e)},r.sepBy1=function(e){return H(this,e)},r.lookahead=function(e){return this.skip(Y(e))},r.notFollowedBy=function(e){return this.skip(Z(e))},r.desc=function(e){y(e)||(e=[e]);var r=this;return t((function(t,n){var i=r._(t,n);return i.status||(i.expected=e),i}))},r.fallback=function(e){return this.or(Q(e))},r.ap=function(e){return U(e,this,(function(e,t){return e(t)}))},r.chain=function(e){var r=this;return t((function(t,n){var i=r._(t,n);return i.status?S(e(i.value)._(t,i.index),i):i}))},r.concat=r.or,r.empty=te,r.of=Q,r["fantasy-land/ap"]=r.ap,r["fantasy-land/chain"]=r.chain,r["fantasy-land/concat"]=r.concat,r["fantasy-land/empty"]=r.empty,r["fantasy-land/of"]=r.of,r["fantasy-land/map"]=r.map;var re=t((function(e,t){return w(t,C(e,t))})),ne=t((function(e,t){return t>=e.length?x(t,"any character/byte"):w(t+1,P(e,t))})),ie=t((function(e,t){return w(e.length,e.slice(t))})),oe=t((function(e,t){return t<e.length?x(t,"EOF"):w(t,null)})),se=G(/[0-9]/).desc("a digit"),ae=G(/[0-9]*/).desc("optional digits"),ce=G(/[a-z]/i).desc("a letter"),ue=G(/[a-z]*/i).desc("optional letters"),le=G(/\s*/).desc("optional whitespace"),de=G(/\s+/).desc("whitespace"),he=z("\r"),fe=z("\n"),pe=z("\r\n"),me=q(pe,fe,he).desc("newline"),ge=q(me,oe);t.all=ie,t.alt=q,t.any=ne,t.cr=he,t.createLanguage=function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&function(r){t[r]=ee((function(){return e[r](t)}))}(r);return t},t.crlf=pe,t.custom=function(e){return t(e(w,x))},t.digit=se,t.digits=ae,t.empty=te,t.end=ge,t.eof=oe,t.fail=J,t.formatError=V,t.index=re,t.isParser=v,t.lazy=ee,t.letter=ce,t.letters=ue,t.lf=fe,t.lookahead=Y,t.makeFailure=x,t.makeSuccess=w,t.newline=me,t.noneOf=function(e){return X((function(t){return e.indexOf(t)<0})).desc("none of '"+e+"'")},t.notFollowedBy=Z,t.of=Q,t.oneOf=function(e){for(var t=e.split(""),r=0;r<t.length;r++)t[r]="'"+t[r]+"'";return X((function(t){return e.indexOf(t)>=0})).desc(t)},t.optWhitespace=le,t.Parser=t,t.range=function(e,t){return X((function(r){return e<=r&&r<=t})).desc(e+"-"+t)},t.regex=G,t.regexp=G,t.sepBy=K,t.sepBy1=H,t.seq=W,t.seqMap=U,t.seqObj=function(){for(var e,r={},n=0,i=(e=arguments,Array.prototype.slice.call(e)),o=i.length,s=0;s<o;s+=1){var a=i[s];if(!v(a)){if(y(a)&&2===a.length&&"string"==typeof a[0]&&v(a[1])){var c=a[0];if(Object.prototype.hasOwnProperty.call(r,c))throw new Error("seqObj: duplicate key "+c);r[c]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===n)throw new Error("seqObj expects at least one named parser, found zero");return t((function(e,t){for(var r,n={},s=0;s<o;s+=1){var a,c;if(y(i[s])?(a=i[s][0],c=i[s][1]):(a=null,c=i[s]),!(r=S(c._(e,t),r)).status)return r;a&&(n[a]=r.value),t=r.index}return S(w(t,n),r)}))},t.string=z,t.succeed=Q,t.takeWhile=function(e){return R(e),t((function(t,r){for(var n=r;n<t.length&&e(P(t,n));)n++;return w(n,t.slice(r,n))}))},t.test=X,t.whitespace=de,t["fantasy-land/empty"]=te,t["fantasy-land/of"]=Q,t.Binary={bitSeq:l,bitSeqObj:function(e){u();var t={},r=0,n=o((function(e){if(y(e)){var n=e;if(2!==n.length)throw new Error("["+n.join(", ")+"] should be length 2, got length "+n.length);if(E(n[0]),k(n[1]),Object.prototype.hasOwnProperty.call(t,n[0]))throw new Error("duplicate key in bitSeqObj: "+n[0]);return t[n[0]]=!0,r++,n}return k(e),[null,e]}),e);if(r<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var s=o((function(e){return e[0]}),n);return l(o((function(e){return e[1]}),n)).map((function(e){return i((function(e,t){return null!==t[0]&&(e[t[0]]=t[1]),e}),{},o((function(t,r){return[t,e[r]]}),s))}))},byte:function(e){if(u(),k(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var r=(e>15?"0x":"0x0")+e.toString(16);return t((function(t,n){var i=P(t,n);return i===e?w(n+1,i):x(n,r)}))},buffer:function(e){return d("buffer",e).map((function(e){return Buffer.from(e)}))},encodedString:function(e,t){return d("string",t).map((function(t){return t.toString(e)}))},uintBE:f,uint8BE:f(1),uint16BE:f(2),uint32BE:f(4),uintLE:p,uint8LE:p(1),uint16LE:p(2),uint32LE:p(4),intBE:m,int8BE:m(1),int16BE:m(2),int32BE:m(4),intLE:g,int8LE:g(1),int16LE:g(2),int32LE:g(4),floatBE:d("floatBE",4).map((function(e){return e.readFloatBE(0)})),floatLE:d("floatLE",4).map((function(e){return e.readFloatLE(0)})),doubleBE:d("doubleBE",8).map((function(e){return e.readDoubleBE(0)})),doubleLE:d("doubleLE",8).map((function(e){return e.readDoubleLE(0)}))},e.exports=t},9792:(e,t,r)=>{var n=r(2017),i=r(4434).EventEmitter;function o(e){if(!(this instanceof o))return new o(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function s(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function a(e){var t=this;function r(e){t.end(e)}this.on("error",r),this.on("end",(function n(i){t.removeListener("error",r),t.removeListener("end",n),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}e.exports=o,e.exports.default=o,n(o,i),["pop","shift","indexOf","lastIndexOf"].forEach((function(e){o.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),o.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},o.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach((function(e){o.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(o.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),o.prototype.start=function(e){if(e&&a.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,r=this.jobs.shift(),n=!0,i=this.session,o=null,s=!1,u=null,l=r.hasOwnProperty("timeout")?r.timeout:this.timeout;l&&(o=setTimeout((function(){s=!0,t.listeners("timeout").length>0?t.emit("timeout",h,r):h()}),l),this.timers[o]=o),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",r);var d=r(h);d&&d.then&&"function"==typeof d.then&&d.then((function(e){return h(null,e)})).catch((function(e){return h(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function h(e,a){n&&t.session===i&&(n=!1,t.pending--,null!==o&&(delete t.timers[o],clearTimeout(o)),e?t.emit("error",e,r):!1===s&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",a,r)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},o.prototype.stop=function(){this.running=!1},o.prototype.end=function(e){s.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},2861:(e,t,r)=>{var n=r(181),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},2068:(e,t)=>{"use strict";const{hasOwnProperty:r}=Object.prototype,n=f();n.configure=f,n.stringify=n,n.default=n,t.stringify=n,t.configure=f,e.exports=n;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function o(e){return e.length<5e3&&!i.test(e)?`"${e}"`:JSON.stringify(e)}function s(e){if(e.length>200)return e.sort();for(let t=1;t<e.length;t++){const r=e[t];let n=t;for(;0!==n&&e[n-1]>r;)e[n]=e[n-1],n--;e[n]=r}return e}const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function c(e){return void 0!==a.call(e)&&0!==e.length}function u(e,t,r){e.length<r&&(r=e.length);const n=","===t?"":" ";let i=`"0":${n}${e[0]}`;for(let o=1;o<r;o++)i+=`${t}"${o}":${n}${e[o]}`;return i}function l(e,t){let n;if(r.call(e,t)&&(n=e[t],"boolean"!=typeof n))throw new TypeError(`The "${t}" argument must be of type boolean`);return void 0===n||n}function d(e,t){let n;if(r.call(e,t)){if(n=e[t],"number"!=typeof n)throw new TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(n))throw new TypeError(`The "${t}" argument must be an integer`);if(n<1)throw new RangeError(`The "${t}" argument must be >= 1`)}return void 0===n?1/0:n}function h(e){return 1===e?"1 item":`${e} items`}function f(e){const t=function(e){if(r.call(e,"strict")){const t=e.strict;if("boolean"!=typeof t)throw new TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t="Object can not safely be stringified. Received type "+typeof e;throw"function"!=typeof e&&(t+=` (${e.toString()})`),new Error(t)}}}(e={...e});t&&(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));const n=function(e){if(r.call(e,"circularValue")){const t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(e),i=l(e,"bigint"),a=l(e,"deterministic"),f=d(e,"maximumDepth"),p=d(e,"maximumBreadth");function m(e,r,u,l,d,g){let v=r[e];switch("object"==typeof v&&null!==v&&"function"==typeof v.toJSON&&(v=v.toJSON(e)),v=l.call(r,e,v),typeof v){case"string":return o(v);case"object":{if(null===v)return"null";if(-1!==u.indexOf(v))return n;let e="",t=",";const r=g;if(Array.isArray(v)){if(0===v.length)return"[]";if(f<u.length+1)return'"[Array]"';u.push(v),""!==d&&(e+=`\n${g+=d}`,t=`,\n${g}`);const n=Math.min(v.length,p);let i=0;for(;i<n-1;i++){const r=m(String(i),v,u,l,d,g);e+=void 0!==r?r:"null",e+=t}const o=m(String(i),v,u,l,d,g);return e+=void 0!==o?o:"null",v.length-1>p&&(e+=`${t}"... ${h(v.length-p-1)} not stringified"`),""!==d&&(e+=`\n${r}`),u.pop(),`[${e}]`}let i=Object.keys(v);const y=i.length;if(0===y)return"{}";if(f<u.length+1)return'"[Object]"';let b="",w="";""!==d&&(t=`,\n${g+=d}`,b=" ");const x=Math.min(y,p);a&&!c(v)&&(i=s(i)),u.push(v);for(let r=0;r<x;r++){const n=i[r],s=m(n,v,u,l,d,g);void 0!==s&&(e+=`${w}${o(n)}:${b}${s}`,w=t)}return y>p&&(e+=`${w}"...":${b}"${h(y-p)} not stringified"`,w=t),""!==d&&w.length>1&&(e=`\n${g}${e}\n${r}`),u.pop(),`{${e}}`}case"number":return isFinite(v)?String(v):t?t(v):"null";case"boolean":return!0===v?"true":"false";case"undefined":return;case"bigint":if(i)return String(v);default:return t?t(v):void 0}}function g(e,r,s,a,c,u){switch("object"==typeof r&&null!==r&&"function"==typeof r.toJSON&&(r=r.toJSON(e)),typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if(-1!==s.indexOf(r))return n;const e=u;let t="",i=",";if(Array.isArray(r)){if(0===r.length)return"[]";if(f<s.length+1)return'"[Array]"';s.push(r),""!==c&&(t+=`\n${u+=c}`,i=`,\n${u}`);const n=Math.min(r.length,p);let o=0;for(;o<n-1;o++){const e=g(String(o),r[o],s,a,c,u);t+=void 0!==e?e:"null",t+=i}const l=g(String(o),r[o],s,a,c,u);return t+=void 0!==l?l:"null",r.length-1>p&&(t+=`${i}"... ${h(r.length-p-1)} not stringified"`),""!==c&&(t+=`\n${e}`),s.pop(),`[${t}]`}s.push(r);let l="";""!==c&&(i=`,\n${u+=c}`,l=" ");let d="";for(const e of a){const n=g(e,r[e],s,a,c,u);void 0!==n&&(t+=`${d}${o(e)}:${l}${n}`,d=i)}return""!==c&&d.length>1&&(t=`\n${u}${t}\n${e}`),s.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function v(e,r,l,d,m){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return v(e,r,l,d,m);if(null===r)return"null"}if(-1!==l.indexOf(r))return n;const t=m;if(Array.isArray(r)){if(0===r.length)return"[]";if(f<l.length+1)return'"[Array]"';l.push(r);let e=`\n${m+=d}`;const n=`,\n${m}`,i=Math.min(r.length,p);let o=0;for(;o<i-1;o++){const t=v(String(o),r[o],l,d,m);e+=void 0!==t?t:"null",e+=n}const s=v(String(o),r[o],l,d,m);return e+=void 0!==s?s:"null",r.length-1>p&&(e+=`${n}"... ${h(r.length-p-1)} not stringified"`),e+=`\n${t}`,l.pop(),`[${e}]`}let i=Object.keys(r);const g=i.length;if(0===g)return"{}";if(f<l.length+1)return'"[Object]"';const y=`,\n${m+=d}`;let b="",w="",x=Math.min(g,p);c(r)&&(b+=u(r,y,p),i=i.slice(r.length),x-=r.length,w=y),a&&(i=s(i)),l.push(r);for(let e=0;e<x;e++){const t=i[e],n=v(t,r[t],l,d,m);void 0!==n&&(b+=`${w}${o(t)}: ${n}`,w=y)}return g>p&&(b+=`${w}"...": "${h(g-p)} not stringified"`,w=y),""!==w&&(b=`\n${m}${b}\n${t}`),l.pop(),`{${b}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}function y(e,r,l){switch(typeof r){case"string":return o(r);case"object":{if(null===r)return"null";if("function"==typeof r.toJSON){if("object"!=typeof(r=r.toJSON(e)))return y(e,r,l);if(null===r)return"null"}if(-1!==l.indexOf(r))return n;let t="";if(Array.isArray(r)){if(0===r.length)return"[]";if(f<l.length+1)return'"[Array]"';l.push(r);const e=Math.min(r.length,p);let n=0;for(;n<e-1;n++){const e=y(String(n),r[n],l);t+=void 0!==e?e:"null",t+=","}const i=y(String(n),r[n],l);return t+=void 0!==i?i:"null",r.length-1>p&&(t+=`,"... ${h(r.length-p-1)} not stringified"`),l.pop(),`[${t}]`}let i=Object.keys(r);const d=i.length;if(0===d)return"{}";if(f<l.length+1)return'"[Object]"';let m="",g=Math.min(d,p);c(r)&&(t+=u(r,",",p),i=i.slice(r.length),g-=r.length,m=","),a&&(i=s(i)),l.push(r);for(let e=0;e<g;e++){const n=i[e],s=y(n,r[n],l);void 0!==s&&(t+=`${m}${o(n)}:${s}`,m=",")}return d>p&&(t+=`${m}"...":"${h(d-p)} not stringified"`),l.pop(),`{${t}}`}case"number":return isFinite(r)?String(r):t?t(r):"null";case"boolean":return!0===r?"true":"false";case"undefined":return;case"bigint":if(i)return String(r);default:return t?t(r):void 0}}return function(e,t,r){if(arguments.length>1){let n="";if("number"==typeof r?n=" ".repeat(Math.min(r,10)):"string"==typeof r&&(n=r.slice(0,10)),null!=t){if("function"==typeof t)return m("",{"":e},[],t,n,"");if(Array.isArray(t))return g("",e,[],function(e){const t=new Set;for(const r of e)"string"!=typeof r&&"number"!=typeof r||t.add(String(r));return t}(t),n,"")}if(0!==n.length)return v("",e,[],n,"")}return y("",e,[])}}},5031:(e,t)=>{function r(e){for(var t in e)this[t]=e[t]}t.get=function(e){var r=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var n={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(n,e||t.get);var o=n.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=r,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var r=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(r){var n=null,i=null,o=null,s=null,a=null,c="native"===r[5];if(r[1]){var u=(o=r[1]).lastIndexOf(".");if("."==o[u-1]&&u--,u>0){n=o.substr(0,u),i=o.substr(u+1);var l=n.indexOf(".Module");l>0&&(o=o.substr(l+1),n=n.substr(0,l))}s=null}i&&(s=n,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:r[2]||null,lineNumber:parseInt(r[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(r[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){r.prototype[e]=null,r.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){r.prototype[e]=!1,r.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new r(e)}},3141:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},2204:(e,t)=>{"use strict";t.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},t.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},5146:(e,t,r)=>{"use strict";Object.defineProperty(t,"cli",{value:r(2204)}),Object.defineProperty(t,"npm",{value:r(7767)}),Object.defineProperty(t,"syslog",{value:r(589)})},7767:(e,t)=>{"use strict";t.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},t.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},589:(e,t)=>{"use strict";t.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},t.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},4763:(e,t,r)=>{"use strict";Object.defineProperty(t,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(t,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(t,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(t,"configs",{value:r(5146)})},8188:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateModeHandler=void 0,t.activate=async function(e){u.Globals.extensionStoragePath=e.globalStorageUri.fsPath,await(0,c.activate)(e),(0,c.registerEventListener)(e,a.workspace.onDidSaveTextDocument,(async e=>{d.vimrc.vimrcPath&&""===h.relative(e.fileName,d.vimrc.vimrcPath)&&(await(0,c.loadConfiguration)(),f.Logger.info("Sourced new .vimrc"))})),(0,c.registerCommand)(e,"vim.editVimrc",(async()=>{if(d.vimrc.vimrcPath){const e=await a.workspace.openTextDocument(d.vimrc.vimrcPath);await a.window.showTextDocument(e)}else await a.window.showWarningMessage("No .vimrc found. Please set `vim.vimrc.path`.")}),!1)},t.deactivate=async function(){await l.Register.saveToDisk(!0)},r(6912),r(6949),r(917),r(2240),r(2189),r(2165);const a=s(r(1398)),c=r(537),u=r(8424),l=r(6007),d=r(6398),h=s(r(6928)),f=r(3501);var p=r(537);Object.defineProperty(t,"getAndUpdateModeHandler",{enumerable:!0,get:function(){return p.getAndUpdateModeHandler}})},537:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateModeHandler=k,t.loadConfiguration=R,t.activate=async function(e,t=!0){if(c.ExCommandLine.parser=M.exCommandParser,w.Logger.init(),await R(),w.Logger.debug("Start"),C=e,C.subscriptions.push(y.StatusBar),m.Register.loadFromDisk(t),await Promise.all([c.ExCommandLine.loadHistory(e),c.SearchCommandLine.loadHistory(e)]),a.window.activeTextEditor){const e=a.window.activeTextEditor.document.fileName.split(/\\|\//);m.Register.setReadonlyRegister("%",e[e.length-1])}T(e,a.workspace.onDidChangeConfiguration,(async()=>{w.Logger.info("Configuration changed"),await R()}),!1),T(e,a.workspace.onDidChangeTextDocument,(async e=>{if("output"===e.document.uri.scheme)return;if(0===e.contentChanges.length)return;w.Logger.debug(`${e.contentChanges.length} change(s) to ${e.document.fileName} because ${e.reason}`);for(const t of e.contentChanges)w.Logger.trace(`\t-${t.rangeLength}, +'${t.text}'`);if(1===e.contentChanges.length){const t=e.contentChanges[0],r=t.range.start.line!==t.range.end.line;r&&""===t.text?v.globalState.jumpTracker.handleTextDeleted(e.document,t.range):!r&&t.text.includes("\n")&&v.globalState.jumpTracker.handleTextAdded(e.document,t.range,t.text)}const t=p.ModeHandlerMap.get(e.document.uri);var r;t&&(r=t).vimState.currentMode===f.Mode.Insert&&(void 0===r.vimState.historyTracker.currentContentChanges&&(r.vimState.historyTracker.currentContentChanges=[]),r.vimState.historyTracker.currentContentChanges=r.vimState.historyTracker.currentContentChanges.concat(e.contentChanges))})),T(e,a.workspace.onDidCloseTextDocument,(async e=>{w.Logger.info(`${e.fileName} closed`);for(const[t,r]of p.ModeHandlerMap.entries()){let n=!1;if(null==r)n=!0;else{const t=r.vimState.document;a.workspace.textDocuments.includes(t)||(n=!0,e===t&&(P=r))}n&&p.ModeHandlerMap.delete(t)}}),!1),T(e,a.window.onDidChangeActiveTextEditor,(async e=>{e?w.Logger.info(`Active editor: ${e.document.uri}`):w.Logger.debug("No active editor");const t=_?p.ModeHandlerMap.get(_):void 0;P=t||P;const r=(await m.Register.get("%"))?.text,n=e?a.workspace.asRelativePath(e.document.uri,!1):"";n!==r&&(r&&""!==r&&m.Register.setReadonlyRegister("#",r),m.Register.setReadonlyRegister("%",n)),void 0!==e&&b.taskQueue.enqueueTask((async()=>{const e=await k(!0);e&&v.globalState.jumpTracker.handleFileJump(P?h.Jump.fromStateNow(P.vimState):null,h.Jump.fromStateNow(e.vimState))}))}),!0,!0),T(e,a.window.onDidChangeTextEditorSelection,(async e=>{if("output"===e.textEditor.document.uri.scheme)return;if(void 0===a.window.activeTextEditor||e.textEditor.document!==a.window.activeTextEditor.document)return;const t=p.ModeHandlerMap.get(a.window.activeTextEditor.document.uri);if(void 0!==t){if(e.kind!==a.TextEditorSelectionChangeKind.Mouse){const r=e.selections.reduce(((e,t)=>e+`[${t.anchor.line}, ${t.anchor.character}; ${t.active.line}, ${t.active.character}]`),""),n=t.selectionsChanged.ourSelections.indexOf(r);if(n>-1)return t.selectionsChanged.ourSelections.splice(n,1),void w.Logger.trace(`Ignoring selection: ${r}. ${t.selectionsChanged.ourSelections.length} left`);if(t.selectionsChanged.ignoreIntermediateSelections)return void w.Logger.trace(`Ignoring intermediate selection change: ${r}`);if(t.selectionsChanged.ourSelections.length>0)return void w.Logger.warn(`Ignoring slipped selection: ${r}`)}e.textEditor===t.vimState.editor&&(t.focusChanged?t.focusChanged=!1:t.vimState.currentMode!==f.Mode.EasyMotionMode&&b.taskQueue.enqueueTask((()=>t.handleSelectionChange(e))))}}),!0,!1),T(e,a.window.onDidChangeTextEditorVisibleRanges,(async e=>{e.textEditor===a.window.activeTextEditor&&b.taskQueue.enqueueTask((async()=>{const e=await k();e&&y.StatusBar.lastMessageTime&&Date.now()-Number(y.StatusBar.lastMessageTime)>100&&y.StatusBar.clear(e.vimState,!0)}))}));const r=new g.CompositionState;A(e,"type",(async e=>{b.taskQueue.enqueueTask((async()=>{const t=await k();t&&(r.isInComposition?(r.composingText+=e.text,t.vimState.currentMode===f.Mode.Insert&&(r.insertedText=!0,a.commands.executeCommand("default:type",{text:e.text}))):await t.handleKeyEvent(e.text))}))})),A(e,"replacePreviousChar",(async e=>{b.taskQueue.enqueueTask((async()=>{const t=await k();t?(r.isInComposition&&(r.composingText=r.composingText.substr(0,r.composingText.length-e.replaceCharCnt)+e.text),r.insertedText&&(await a.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt}),t.vimState.cursorStopPosition=t.vimState.editor.selection.start,t.vimState.cursorStartPosition=t.vimState.editor.selection.start)):await a.commands.executeCommand("default:replacePreviousChar",{text:e.text,replaceCharCnt:e.replaceCharCnt})}))})),A(e,"compositionStart",(async()=>{b.taskQueue.enqueueTask((async()=>{r.isInComposition=!0}))})),A(e,"compositionEnd",(async()=>{b.taskQueue.enqueueTask((async()=>{const e=await k();if(e){r.insertedText&&(e.selectionsChanged.ignoreIntermediateSelections=!0,await a.commands.executeCommand("default:replacePreviousChar",{text:"",replaceCharCnt:r.composingText.length}),e.vimState.cursorStopPosition=e.vimState.editor.selection.active,e.vimState.cursorStartPosition=e.vimState.editor.selection.active,e.selectionsChanged.ignoreIntermediateSelections=!1);const t=r.composingText;await e.handleMultipleKeyEvents(t.split(""))}r.reset()}))})),O(e,"vim.showQuickpickCmdLine",(async()=>{const e=await k();if(e){const t=await a.window.showInputBox({prompt:"Vim command line",value:"",ignoreFocusOut:!1,valueSelection:[0,0]});t&&await new c.ExCommandLine(t,e.vimState.currentMode).run(e.vimState),e.updateView()}})),O(e,"vim.remap",(async e=>{b.taskQueue.enqueueTask((async()=>{const t=await k();if(void 0!==t){if(!e)throw new Error("'args' is undefined. For this remap to work it needs to have 'args' with an '\"after\": string[]' and/or a '\"commands\": { command: string; args: any[] }[]'");if(e.after)for(const r of e.after)await t.handleKeyEvent(l.Notation.NormalizeKey(r,u.configuration.leader));if(e.commands)for(const r of e.commands)r.command.startsWith(":")?(await new c.ExCommandLine(r.command.slice(1,r.command.length),t.vimState.currentMode).run(t.vimState),t.updateView()):await a.commands.executeCommand(r.command,r.args)}}))})),O(e,"toggleVim",(async()=>{u.configuration.disableExtension=!u.configuration.disableExtension,E(u.configuration.disableExtension,r)}));for(const t of u.configuration.boundKeyCombinations){const r=["<Esc>","<C-c>"].includes(t.key)?async()=>{const e=await k();e&&!await L(e)&&await e.handleKeyEvent(`${t.key}`)}:async()=>{const e=await k();e&&await e.handleKeyEvent(`${t.key}`)};O(e,t.command,(async()=>{b.taskQueue.enqueueTask(r)}))}{const e=await k();if(e){if(!u.configuration.startInInsertMode){const t=e.vimState;t.cursors=t.cursors.map((e=>{const r=t.document.lineAt(e.stop).text.length;if(e.stop.character>=r){const t=Math.max(r-1,0);return e.withNewStop(e.stop.with({character:t}))}return e}))}e.updateView({drawSelection:!0,revealRange:!1})}}await S.VSCodeContext.set("listAutomaticKeyboardNavigation",!1),await E(u.configuration.disableExtension,r),w.Logger.debug("Finish.")},t.registerCommand=O,t.registerEventListener=T;const a=s(r(1398)),c=r(2249),u=r(7183),l=r(1647),d=r(8424),h=r(4224),f=r(9359),p=r(5633),m=r(6007),g=r(5495),v=r(5414),y=r(6275),b=r(8428),w=r(3501),x=r(9586),S=r(9364),M=r(2821);let C,_,P=null;async function k(e=!1){const t=a.window.activeTextEditor;if(void 0===t||t.document.isClosed)return;const[r,n]=await p.ModeHandlerMap.getOrCreate(t);return n&&C.subscriptions.push(r),r.vimState.editor=t,!e&&_&&_===t.document.uri||(r.syncCursors(),r.updateView({drawSelection:!1,revealRange:!1})),_=t.document.uri,r.focusChanged&&(r.focusChanged=!1,_)&&(p.ModeHandlerMap.get(_).focusChanged=!0),r}async function R(){const e=await u.configuration.load();if(w.Logger.debug(`${e.numErrors} errors found with vim configuration`),e.numErrors>0)for(const t of e.get())switch(t.level){case"error":w.Logger.error(t.message);break;case"warning":w.Logger.warn(t.message)}}async function E(e,t){await S.VSCodeContext.set("vim.active",!e);const r=await k();r&&(e?(await r.handleKeyEvent(x.SpecialKeys.ExtensionDisable),t.reset(),p.ModeHandlerMap.clear()):await r.handleKeyEvent(x.SpecialKeys.ExtensionEnable))}function A(e,t,r){const n=a.commands.registerCommand(t,(async e=>u.configuration.disableExtension?a.commands.executeCommand("default:"+t,e):a.window.activeTextEditor?a.window.activeTextEditor.document&&"debug:input"===a.window.activeTextEditor.document.uri.toString()?a.commands.executeCommand("default:"+t,e):r(e):void 0));e.subscriptions.push(n)}function O(e,t,r,n=!0){const i=a.commands.registerCommand(t,(async e=>{n&&!a.window.activeTextEditor||r(e)}));e.subscriptions.push(i)}function T(e,t,r,n=!0,i=!1){const o=t((async e=>{n&&u.configuration.disableExtension||i&&d.Globals.isTesting||await r(e)}));e.subscriptions.push(o)}async function L(e){return!!e.remapState.isCurrentlyPerformingRecursiveRemapping&&(e.remapState.forceStopRecursiveRemapping=!0,!0)}},4575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeypressState=t.BaseCommand=t.BaseAction=void 0,t.getRelevantAction=function(e,t){const r=d.get(t.currentMode)??[];let n=!1;for(const i of r){const r=new i;if(r.doesActionApply(t,e))return r.keysPressed=(0,c.isLiteralMode)(t.currentMode)?[...t.recordedState.actionKeys]:(0,c.unmapLiteral)(r.keys,t.recordedState.actionKeys),r;n||=r.couldActionApply(t,e)}return n?l.WaitingOnKeys:l.NoPossibleMatch},t.RegisterAction=function(e){const t=new e;for(const r of t.modes){let n=d.get(r);n||(n=[],d.set(r,n)),void 0!==t.keys&&n.push(e)}};const n=r(9253),i=r(1647),o=r(4735),s=r(7183),a=r(9359),c=r(4527);class u{constructor(){this.name="",this.isJump=!1,this.createsUndoPoint=!1,this.preservesDesiredColumn=!1,this.keysPressed=[]}doesActionApply(e,t){return(e.currentModeIncludingPseudoModes!==a.Mode.OperatorPendingMode||"command"!==this.actionType)&&this.modes.includes(e.currentMode)&&u.CompareKeypressSequence(this.keys,t)}couldActionApply(e,t){if(e.currentModeIncludingPseudoModes===a.Mode.OperatorPendingMode&&"command"===this.actionType)return!1;if(!this.modes.includes(e.currentMode))return!1;const r=(u.is2DArray(this.keys)?this.keys:[this.keys]).map((e=>e.slice(0,t.length)));return!!u.CompareKeypressSequence(r,t)}static CompareKeypressSequence(e,t){if(u.is2DArray(e)){for(const r of e)if(u.CompareKeypressSequence(r,t))return!0;return!1}if(e.length!==t.length)return!1;for(let r=0,n=0;r<e.length;r++,n++){const o=e[r],a=t[n];if((o!==a||a===s.configuration.leader)&&"<any>"!==o&&("<leader>"!==o||a!==s.configuration.leader)&&("<number>"!==o||!this.isSingleNumber.test(a))&&("<alpha>"!==o||!this.isSingleAlpha.test(a))&&("<macro>"!==o||!this.isMacroRegister.test(a))&&(!["<character>","<register>"].includes(o)||i.Notation.IsControlKey(a)))return!1}return!0}toString(){return this.keys.join("")}static is2DArray(e){return Array.isArray(e[0])}}var l;t.BaseAction=u,u.isSingleNumber=/^[0-9]$/,u.isSingleAlpha=/^[a-zA-Z]$/,u.isMacroRegister=/^[0-9a-zA-Z]$/,t.BaseCommand=class extends u{constructor(){super(...arguments),this.actionType="command",this.isCompleteAction=!0,this.runsOnceForEachCountPrefix=!1}runsOnceForEveryCursor(){return!0}async exec(e,t){throw new Error("Not implemented!")}async execCount(e,t){const r=this.runsOnceForEachCountPrefix&&t.recordedState.count||1;if(!this.runsOnceForEveryCursor()){for(let n=0;n<r;n++)await this.exec(e,t);for(const e of t.recordedState.transformer.transformations)(0,o.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);return}const i=[],s=t.cursors.map((e=>new n.Cursor(e.start,e.stop))).sort(((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1));let a=0;for(const{start:e,stop:c}of s){this.multicursorIndex=a++,t.cursorStopPosition=c,t.cursorStartPosition=e;for(let e=0;e<r;e++)await this.exec(c,t);i.push(new n.Cursor(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformer.transformations)(0,o.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}t.cursors=i}},function(e){e[e.WaitingOnKeys=0]="WaitingOnKeys",e[e.NoPossibleMatch=1]="NoPossibleMatch"}(l||(t.KeypressState=l={}));const d=new Map},9861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMovement=t.SelectionType=void 0,t.isIMovement=a,t.failedMovement=u;const n=r(4575),i=r(9359),o=r(8469),s=r(1398);function a(e){return void 0!==e.start&&void 0!==e.stop}var c;function u(e){return{start:e.cursorStartPosition,stop:e.cursorStopPosition,failed:!0}}!function(e){e[e.Concatenating=0]="Concatenating",e[e.Expanding=1]="Expanding"}(c||(t.SelectionType=c={}));class l extends n.BaseAction{constructor(e,t){super(),this.modes=[i.Mode.Normal,i.Mode.Visual,i.Mode.VisualLine,i.Mode.VisualBlock],this.actionType="motion",this.isRepeat=!1,this.setsDesiredColumnToEOL=!1,this.selectionType=c.Concatenating,e&&(this.keysPressed=e),t&&(this.isRepeat=t)}async execAction(e,t,r,n){throw new Error("Not implemented!")}async execActionForOperator(e,t,r,n){return this.execAction(e,t,r,n)}async execActionWithCount(e,t,r){let n,i=u(t),l=e;r=(0,o.clamp)(r,1,99999);for(let o=0;o<r;o++){const a=0===o,c=o===r-1;if(n=t.recordedState.operator&&c?await this.execActionForOperator(e,t,a,c):await this.execAction(e,t,a,c),n instanceof s.Position)e=n;else{if(n.failed)return i;a&&(l=n.start),e=this.adjustPosition(e,n,c),i=n}}return this.selectionType===c.Concatenating&&a(n)&&(n.start=l),n}adjustPosition(e,t,r){return r||(e=t.stop.getRightThroughLineBreaks()),e}}t.BaseMovement=l},5928:function(e,t,r){"use strict";var n,i,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&o(t,e,r[i]);return s(t,e),t}),u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActionOverrideCmdD=t.CommandUnicodeName=t.ActionDeleteCharVisualLineMode=t.ActionReplaceCharacter=t.ActionDeleteLastChar=t.ActionDeleteCharWithDeleteKey=t.ActionDeleteChar=t.CommandInsertNewLineBefore=t.CommandInsertNewLineAbove=t.CommandInsertAtLineEnd=t.CommandInsertAfterCursor=t.CommandInsertAtLineBegin=t.CommandInsertAtFirstCharacter=t.CommandInsertAtLastChange=t.CommandYankFullLine=t.CommandRedo=t.CommandUndo=t.CommandShowSearchHistory=t.CommandShowCommandHistory=t.CommandReplaceAtCursorFromNormalMode=t.CommandInsertAtCursor=t.CommandQuitRecordMacro=t.CommandRegister=t.CommandNumber=t.DocumentContentChangeAction=void 0;const l=c(r(1398)),d=u(r(6928)),h=r(2268),f=r(1398),p=r(789),m=r(9253),g=r(4546),v=r(5414),y=r(7371),b=r(6275),w=r(7245),x=r(4991),S=r(9586),M=r(384),C=r(8469),_=r(2270),P=r(614),k=r(2249),R=r(7475),E=r(866),A=r(9490),O=r(8104),T=r(3038),L=r(7183),B=r(9359),$=r(6007),I=r(7892),j=r(4575),N=c(r(5682));class D extends j.BaseCommand{constructor(e){super(),this.modes=[],this.keys=[],this.contentChanges=[],this.cursorStart=e,this.cursorEnd=e}addChanges(e,t){this.contentChanges=[...this.contentChanges,...e],this.compressChanges(),this.cursorEnd=t}getTransformation(e){return{type:"contentChange",changes:this.contentChanges,diff:e}}async exec(e,t){if(0===this.contentChanges.length)return;let r=this.cursorStart,n=e;for(const i of this.contentChanges){if(i.range.start.line<r.line){const e=i.range.end.line-i.range.start.line+1,t=i.text.split("\n").length;r=r.with(Math.max(0,r.line+t-e));continue}const o=t=>{const n=t.line-r.line,i=0===n?e.character+t.character-r.character:t.character;return new f.Position(Math.max(e.line+n,0),Math.max(i,0))},s=new l.Range(o(i.range.start),o(i.range.end));if(s.start.isAfter(n))continue;const a=i.text.split("\n"),c=a.length-1,u=0===c?new f.Position(s.start.line,s.start.character+i.text.length):new f.Position(s.start.line+c,a.pop().length);n=(0,O.laterOf)(n,u),s.start.isEqual(s.end)?t.recordedState.transformer.insert(s.start,i.text,O.PositionDiff.exactPosition(o(this.cursorEnd))):t.recordedState.transformer.replace(s,i.text,O.PositionDiff.exactPosition(o(this.cursorEnd)))}}compressChanges(){const e=(e,t)=>{if(e.rangeOffset+e.text.length===t.rangeOffset)return{text:e.text+t.text,range:e.range,rangeOffset:e.rangeOffset,rangeLength:e.rangeLength};if(e.rangeOffset<=t.rangeOffset&&e.text.length>=t.rangeLength){const r=t.rangeOffset-e.rangeOffset,n=r+t.rangeLength;return{text:e.text.slice(0,r)+t.text+e.text.slice(n),range:e.range,rangeOffset:e.rangeOffset,rangeLength:e.rangeLength}}},t=[];let r;for(const n of this.contentChanges)if(void 0===r)r=n;else{const i=e(r,n);i?r=i:(t.push(r),r=n)}void 0!==r&&t.push(r),this.contentChanges=t}}t.DocumentContentChangeAction=D;let V=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Insert,B.Mode.Visual,B.Mode.VisualBlock,B.Mode.VisualLine,B.Mode.SearchInProgressMode,B.Mode.CommandlineInProgress,B.Mode.Replace,B.Mode.EasyMotionMode,B.Mode.EasyMotionInputMode,B.Mode.SurroundInputMode],this.keys=[S.SpecialKeys.ExtensionDisable]}async exec(e,t){await t.setCurrentMode(B.Mode.Disabled)}};V=a([j.RegisterAction],V);let F=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Disabled],this.keys=[S.SpecialKeys.ExtensionEnable]}async exec(e,t){await t.setCurrentMode(B.Mode.Normal)}};F=a([j.RegisterAction],F);let W=i=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["<number>"],this.name="cmd_num",this.isCompleteAction=!1,this.actionType="number"}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=parseInt(this.keysPressed[0],10),n=t.recordedState.operatorCount;if(n>0){const e=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];t.recordedState.count=e instanceof i?10*t.recordedState.count+r*n:n*r}else t.recordedState.count=10*t.recordedState.count+r}doesActionApply(e,t){const r="0"===t[0];return super.doesActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}couldActionApply(e,t){const r="0"===t[0];return super.couldActionApply(e,t)&&(r&&e.recordedState.count>0||!r)}};t.CommandNumber=W,t.CommandNumber=W=i=a([j.RegisterAction],W);let U=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=['"',"<register>"],this.name="cmd_register",this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed[1];$.Register.isValidRegister(r)?t.recordedState.registerName=r:this.isCompleteAction=!0}};t.CommandRegister=U,t.CommandRegister=U=a([j.RegisterAction],U);let q=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=[["q","<macro>"],["q",'"']]}async exec(e,t){const r=this.keysPressed[1],n=r.toLocaleLowerCase();if(t.macro=new y.RecordedState,t.macro.registerKey=r,t.macro.registerName=n,!$.Register.isValidUppercaseRegister(r)||!$.Register.has(n)){const e=new y.RecordedState;e.registerName=n,t.recordedState.registerName=n,$.Register.put(t,e)}}};q=a([j.RegisterAction],q);let K=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=["q"]}async exec(e,t){const r=t.macro;if(void 0===r)return;const n=(await $.Register.get(r.registerName))?.text;n instanceof y.RecordedState&&($.Register.isValidUppercaseRegister(r.registerKey)?n.actionsRun=n.actionsRun.concat(r.actionsRun):n.actionsRun=r.actionsRun),t.macro=void 0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0!==e.macro}couldActionApply(e,t){return super.couldActionApply(e,t)&&void 0!==e.macro}};t.CommandQuitRecordMacro=K,t.CommandQuitRecordMacro=K=a([j.RegisterAction],K);let H=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=["@","@"],this.runsOnceForEachCountPrefix=!0,this.createsUndoPoint=!0,this.isJump=!0}async exec(e,t){const{lastInvokedMacro:r}=v.globalState;r?t.recordedState.transformer.addTransformation({type:"macro",register:r.registerName,replay:"contentChange"}):b.StatusBar.displayError(t,g.VimError.fromCode(g.ErrorCode.NoPreviouslyUsedRegister))}};H=a([j.RegisterAction],H);let z=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=["@","<register>"],this.runsOnceForEachCountPrefix=!0,this.createsUndoPoint=!0}async exec(e,t){const r=this.keysPressed[1].toLocaleLowerCase(),n="%"===r||"#"===r;$.Register.isValidRegister(r)&&!n||b.StatusBar.displayError(t,g.VimError.fromCode(g.ErrorCode.InvalidRegisterName,`'${r}'`)),$.Register.has(r)&&t.recordedState.transformer.addTransformation({type:"macro",register:r,replay:"contentChange"})}};z=a([j.RegisterAction],z);let G=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock,B.Mode.Normal,B.Mode.SurroundInputMode,B.Mode.EasyMotionMode,B.Mode.EasyMotionInputMode],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]],this.preservesDesiredColumn=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){t.currentMode===B.Mode.Normal?(t.surround=void 0,t.isMultiCursor?t.cursors=[t.cursors[0]]:await Promise.allSettled([l.commands.executeCommand("closeReferenceSearchEditor"),l.commands.executeCommand("closeMarkersNavigation"),l.commands.executeCommand("closeDirtyDiff")])):(t.currentMode===B.Mode.EasyMotionMode?t.easyMotion.clearDecorations(t.editor):t.currentMode===B.Mode.SurroundInputMode&&(t.surround=void 0),await t.setCurrentMode(B.Mode.Normal))}};G=a([j.RegisterAction],G);let Q=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["i"],["<Insert>"]]}async exec(e,t){await t.setCurrentMode(B.Mode.Insert)}doesActionApply(e,t){let r=!0;for(const t of e.recordedState.actionsRun)if(!(t instanceof W)){r=!1;break}return!(0!==e.recordedState.actionsRun.length&&!r)&&super.couldActionApply(e,t)}};t.CommandInsertAtCursor=Q,t.CommandInsertAtCursor=Q=a([j.RegisterAction],Q);let J=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["R"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(B.Mode.Replace)}};t.CommandReplaceAtCursorFromNormalMode=J,t.CommandReplaceAtCursorFromNormalMode=J=a([j.RegisterAction],J);let Y=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock,B.Mode.Insert,B.Mode.Normal],this.keys=["<copy>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){let r="";if(t.currentMode===B.Mode.Visual)r=t.cursors.map((e=>{const[r,n]=(0,O.sorted)(e.start,e.stop);return t.document.getText(new l.Range(r,n.getRight()))})).join("\n");else if(t.currentMode===B.Mode.VisualLine)r=t.cursors.map((e=>t.document.getText(new l.Range((0,O.earlierOf)(e.start.getLineBegin(),e.stop.getLineBegin()),(0,O.laterOf)(e.start.getLineEnd(),e.stop.getLineEnd()))))).join("\n");else if(t.currentMode===B.Mode.VisualBlock)for(const{line:e}of I.TextEditor.iterateLinesInBlock(t))r+=e+"\n";else t.currentMode!==B.Mode.Insert&&t.currentMode!==B.Mode.Normal||(r=t.editor.selections.map((e=>t.document.getText(new l.Range(e.start,e.end)))).join("\n"));const n=t.editor.selection;!n.active.isEqual(n.anchor)&&await x.Clipboard.Copy(r),await t.setCurrentMode(B.Mode.Normal)}};Y=a([j.RegisterAction],Y);let Z=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["<D-a>"]}async exec(e,t){t.cursorStartPosition=new f.Position(0,t.desiredColumn),t.cursorStopPosition=new f.Position(t.document.lineCount-1,t.desiredColumn),await t.setCurrentMode(B.Mode.VisualLine)}};Z=a([j.RegisterAction],Z);let X=class extends j.BaseCommand{constructor(){super(...arguments),this.keys=["m","<register>"],this.modes=[B.Mode.Normal]}async exec(e,t){const r=this.keysPressed[1];t.historyTracker.addMark(t.document,e,r)}};X=a([j.RegisterAction],X);let ee=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=[":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){let r;r=t.currentMode===B.Mode.Normal?t.recordedState.count?".,.+"+(t.recordedState.count-1):"":"'<,'>";const n=t.currentMode;await t.setCurrentMode(B.Mode.CommandlineInProgress),t.modeData.mode===B.Mode.CommandlineInProgress&&(t.modeData.commandLine=new k.ExCommandLine(r,n))}};ee=a([j.RegisterAction],ee);let te=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["q",":"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await l.window.showQuickPick(k.ExCommandLine.history.get().slice().reverse(),{placeHolder:"Vim command history",ignoreFocusOut:!1});r&&0!==r.length&&await new k.ExCommandLine(r,t.currentMode).run(t),await t.setCurrentMode(B.Mode.Normal)}};t.CommandShowCommandHistory=te,t.CommandShowCommandHistory=te=a([j.RegisterAction],te),k.ExCommandLine.onSearch=async e=>{(new te).exec(e.cursorStopPosition,e)};let re=class extends j.BaseCommand{runsOnceForEveryCursor(){return!1}constructor(e=_.SearchDirection.Forward){super(),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=[["q","/"],["q","?"]],this.direction=_.SearchDirection.Forward,this.direction=e}async exec(e,t){this.keysPressed.includes("?")&&(this.direction=_.SearchDirection.Backward);const r=await k.SearchCommandLine.showSearchHistory();if(r){v.globalState.searchState=r,v.globalState.hl=!0;const e=r.getNextSearchMatchPosition(t,t.cursorStartPosition,this.direction);if(!e)throw g.VimError.fromCode(this.direction>0?g.ErrorCode.SearchHitBottom:g.ErrorCode.SearchHitTop,r.searchString);t.cursorStopPosition=e.pos,(0,M.reportSearch)(e.index,r.getMatchRanges(t).length,t)}await t.setCurrentMode(B.Mode.Normal)}};t.CommandShowSearchHistory=re,t.CommandShowSearchHistory=re=a([j.RegisterAction],re),k.SearchCommandLine.onSearch=async(e,t)=>new re(t).exec(e.cursorStopPosition,e);let ne=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["."],this.createsUndoPoint=!0}async execCount(e,t){if(v.globalState.previousFullAction){const e=t.recordedState.count||1;t.recordedState.transformer.addTransformation({type:"replayRecordedState",count:e,recordedState:v.globalState.previousFullAction})}}};ne=a([j.RegisterAction],ne);let ie=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["&"],this.createsUndoPoint=!0}async exec(e,t){await k.ExCommandLine.parser.tryParse("s").command.execute(t)}};ie=a([j.RegisterAction],ie);let oe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["o"],this.isJump=!0}async exec(e,t){[t.cursorStartPosition,t.cursorStopPosition]=[t.cursorStopPosition,t.cursorStartPosition]}};oe=a([j.RegisterAction],oe);let se=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["O"],this.isJump=!0}async exec(e,t){if(t.currentMode!==B.Mode.VisualBlock)return(new oe).exec(e,t);[t.cursorStartPosition,t.cursorStopPosition]=[new l.Position(t.cursorStartPosition.line,t.cursorStopPosition.character),new l.Position(t.cursorStopPosition.line,t.cursorStartPosition.character)]}};se=a([j.RegisterAction],se);let ae=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["u"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStep();void 0===r?b.StatusBar.setText(t,"Already at oldest change"):t.cursors=[new m.Cursor(r,r)]}};t.CommandUndo=ae,t.CommandUndo=ae=a([j.RegisterAction],ae);let ce=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["U"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goBackHistoryStepsOnLine();void 0!==r&&(t.cursors=[new m.Cursor(r,r)])}};ce=a([j.RegisterAction],ce);let ue=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["<C-r>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await t.historyTracker.goForwardHistoryStep();void 0===r?b.StatusBar.setText(t,"Already at newest change"):t.cursors=[new m.Cursor(r,r)]}};t.CommandRedo=ue,t.CommandRedo=ue=a([j.RegisterAction],ue);let le=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["D"],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!0}async exec(e,t){if(e.isLineEnd())return;const r=(t.recordedState.count||1)-1,n=e,i=e.getDown(r).getLineEnd().getLeftThroughLineBreaks();await new N.DeleteOperator(this.multicursorIndex).run(t,n,i)}};le=a([j.RegisterAction],le);let de=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["Y"],this.name="yank_full_line"}async exec(e,t){const r=(t.recordedState.count||1)-1,n=e.getLineBegin(),i=e.getDown(r).getLeft();t.currentRegisterMode=$.RegisterMode.LineWise,await new N.YankOperator(this.multicursorIndex).run(t,n,i)}};t.CommandYankFullLine=de,t.CommandYankFullLine=de=a([j.RegisterAction],de);let he=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["C"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1;await new N.ChangeOperator(this.multicursorIndex).run(t,e,e.getDown(Math.max(0,r-1)).getLineEnd().getLeft())}};he=a([j.RegisterAction],he);let fe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["S"],this.runsOnceForEachCountPrefix=!1}async exec(e,t){await new N.ChangeOperator(this.multicursorIndex).runRepeat(t,e,t.recordedState.count||1)}doesActionApply(e,t){return super.doesActionApply(e,t)&&!L.configuration.sneak}couldActionApply(e,t){return super.couldActionApply(e,t)&&!L.configuration.sneak}};fe=a([j.RegisterAction],fe);let pe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual],this.keys=["v"]}async exec(e,t){await t.setCurrentMode(B.Mode.Normal)}};pe=a([j.RegisterAction],pe);let me=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["v"],this.isCompleteAction=!1}async exec(e,t){t.currentMode===B.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getRight(t.recordedState.count-1)),await t.setCurrentMode(B.Mode.Visual)}};me=a([j.RegisterAction],me);let ge=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","v"]}async exec(e,t){if(void 0===t.lastVisualSelection)return;let{start:r,end:n,mode:i}=t.lastVisualSelection;i===B.Mode.Visual&&r.isEqual(n)||n.line<=t.document.lineCount-1&&(i===B.Mode.Visual&&r.isBefore(n)&&(n=n.getLeftThroughLineBreaks(!0)),await t.setCurrentMode(i),t.cursorStartPosition=r,t.cursorStopPosition=n)}};ge=a([j.RegisterAction],ge);let ve=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){t.currentMode===B.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getRight(t.recordedState.count-1)),await t.setCurrentMode(B.Mode.VisualBlock)}};ve=a([j.RegisterAction],ve);let ye=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=[["<C-v>"],["<C-q>"]]}async exec(e,t){await t.setCurrentMode(B.Mode.Normal)}};ye=a([j.RegisterAction],ye);let be=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualBlock],this.keys=["V"]}async exec(e,t){t.currentMode===B.Mode.Normal&&t.recordedState.count>1&&(t.cursorStopPosition=e.getDown(t.recordedState.count-1)),await t.setCurrentMode(B.Mode.VisualLine)}};be=a([j.RegisterAction],be);let we=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualLine],this.keys=["V"]}async exec(e,t){await t.setCurrentMode(B.Mode.Normal)}};we=a([j.RegisterAction],we);let xe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual],this.keys=["g","f"],this.isJump=!0}async exec(e,t){let r;if(t.currentMode===B.Mode.Visual)r=t.document.getText(t.editor.selection);else{const n=new l.Range(e.prevWordStart(t.document,{wordType:w.WordType.FileName,inclusive:!0}),e.nextWordStart(t.document,{wordType:w.WordType.FileName}));r=t.document.getText(n).trim()}const n=r.match(/(.*?(?=:[0-9]+)|.*):?([0-9]*)$/);if(n){const e=l.workspace.getWorkspaceFolder(t.document.uri)?.uri.fsPath,r=d.default.isAbsolute(n[1])||!e?n[1]:d.default.join(e,n[1]),i=parseInt(n[2],10);new R.FileCommand({name:"edit",bang:!1,opt:[],file:r,cmd:isNaN(i)?void 0:{type:"line_number",line:i-1},createFileIfNotExists:!1}).execute(t)}}};xe=a([j.RegisterAction],xe);let Se=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["g","d"],["g","D"]],this.isJump=!0}async exec(e,t){await l.commands.executeCommand("editor.action.goToDeclaration"),t.editor===l.window.activeTextEditor&&(t.cursorStartPosition=t.editor.selection.start,t.cursorStopPosition=t.editor.selection.end)}};Se=a([j.RegisterAction],Se);let Me=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["<C-]>"],this.isJump=!0}async exec(e,t){await l.commands.executeCommand("editor.action.revealDefinition"),t.editor===l.window.activeTextEditor&&(t.cursorStopPosition=t.editor.selection.start)}};Me=a([j.RegisterAction],Me);let Ce=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.keys=["g","x"]}async exec(e,t){l.commands.executeCommand("editor.action.openLink")}};Ce=a([j.RegisterAction],Ce);let _e=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g",";"],this.isJump=!0}async exec(e,t){const r=t.historyTracker.prevChangeInChangeList();r instanceof g.VimError?b.StatusBar.displayError(t,r):t.cursorStopPosition=r}};_e=a([j.RegisterAction],_e);let Pe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g",","],this.isJump=!0}async exec(e,t){const r=t.historyTracker.nextChangeInChangeList();r instanceof g.VimError?b.StatusBar.displayError(t,r):t.cursorStopPosition=r}};Pe=a([j.RegisterAction],Pe);let ke=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","i"]}async exec(e,t){t.cursorStopPosition=t.cursorStartPosition=t.historyTracker.getLastChangeEndPosition()??new f.Position(0,0),await t.setCurrentMode(B.Mode.Insert)}};t.CommandInsertAtLastChange=ke,t.CommandInsertAtLastChange=ke=a([j.RegisterAction],ke);let Re=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["I"]}async exec(e,t){await t.setCurrentMode(B.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=I.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.line)}};t.CommandInsertAtFirstCharacter=Re,t.CommandInsertAtFirstCharacter=Re=a([j.RegisterAction],Re);let Ee=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","I"]}async exec(e,t){await t.setCurrentMode(B.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getLineBegin()}};t.CommandInsertAtLineBegin=Ee,t.CommandInsertAtLineBegin=Ee=a([j.RegisterAction],Ee);let Ae=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["a"]}async exec(e,t){await t.setCurrentMode(B.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getRight()}doesActionApply(e,t){return!!e.recordedState.actionsRun.every((e=>e instanceof W))&&super.couldActionApply(e,t)}};t.CommandInsertAfterCursor=Ae,t.CommandInsertAfterCursor=Ae=a([j.RegisterAction],Ae);let Oe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["A"]}async exec(e,t){await t.setCurrentMode(B.Mode.Insert),t.cursorStopPosition=t.cursorStartPosition=e.getLineEnd()}};t.CommandInsertAtLineEnd=Oe,t.CommandInsertAtLineEnd=Oe=a([j.RegisterAction],Oe);let Te=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["O"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(B.Mode.Insert);const r=t.recordedState.count||1,n=e.getLineBeginRespectingIndent(t.document).character;for(let e=0;e<r;e++)await l.commands.executeCommand("editor.action.insertLineBefore");t.cursors=(0,C.getCursorsAfterSync)(t.editor);const i=t.cursors[0].start.character,o=n-i;for(let e=0;e<r;e++){const r=new f.Position(t.cursors[0].start.line+e,n);0===e?t.cursors[0]=new m.Cursor(r,r):t.cursors.push(new m.Cursor(r,r)),o>=0?t.recordedState.transformer.addTransformation({type:"insertText",text:I.TextEditor.setIndentationLevel("",o,L.configuration.expandtab),position:r,cursorIndex:e,manuallySetCursorPositions:!0}):t.recordedState.transformer.addTransformation({type:"deleteRange",cursorIndex:e,range:new l.Range(r,new f.Position(r.line,i)),manuallySetCursorPositions:!0})}t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0}};t.CommandInsertNewLineAbove=Te,t.CommandInsertNewLineAbove=Te=a([j.RegisterAction],Te);let Le=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["o"]}runsOnceForEveryCursor(){return!1}async execCount(e,t){await t.setCurrentMode(B.Mode.Insert);const r=t.recordedState.count||1;for(let e=0;e<r;e++)await l.commands.executeCommand("editor.action.insertLineAfter");t.cursors=(0,C.getCursorsAfterSync)(t.editor);for(let e=1;e<r;e++){const r=new f.Position(t.cursorStartPosition.line-e,t.cursorStartPosition.character);t.cursors.push(new m.Cursor(r,r)),t.recordedState.transformer.addTransformation({type:"insertText",text:I.TextEditor.setIndentationLevel("",r.character,L.configuration.expandtab),position:r,cursorIndex:e,manuallySetCursorPositions:!0})}t.cursors=t.cursors.reverse(),t.isFakeMultiCursor=!0}};t.CommandInsertNewLineBefore=Le,t.CommandInsertNewLineBefore=Le=a([j.RegisterAction],Le);let Be=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["<C-o>"],["<C-t>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await v.globalState.jumpTracker.jumpBack(e,t)}};Be=a([j.RegisterAction],Be);let $e=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["<C-i>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await v.globalState.jumpTracker.jumpForward(e,t)}};$e=a([j.RegisterAction],$e);let Ie=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=[["g","t"],["<C-pagedown>"]],this.runsOnceForEachCountPrefix=!1}async exec(e,t){t.recordedState.count>0?new A.TabCommand({type:A.TabCommandType.Edit,buf:t.recordedState.count}).execute(t):new A.TabCommand({type:A.TabCommandType.Next,bang:!1}).execute(t)}};Ie=a([j.RegisterAction],Ie);let je=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine],this.keys=[["g","T"],["<C-pageup>"]],this.runsOnceForEachCountPrefix=!0}async exec(e,t){new A.TabCommand({type:A.TabCommandType.Previous,bang:!1}).execute(t)}};je=a([j.RegisterAction],je);let Ne=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["x"],this.name="delete_char",this.createsUndoPoint=!0}async exec(e,t){if(0===t.document.lineAt(e).text.length)return;const r=t.recordedState.count||1;await new N.DeleteOperator(this.multicursorIndex).run(t,e,e.getRight(r-1).getLeftIfEOL()),await t.setCurrentMode(B.Mode.Normal)}};t.ActionDeleteChar=Ne,t.ActionDeleteChar=Ne=a([j.RegisterAction],Ne);let De=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["<Del>"],this.name="delete_char_with_del",this.runsOnceForEachCountPrefix=!0,this.createsUndoPoint=!0}async execCount(e,t){0!==t.recordedState.count?(t.recordedState.count=Math.floor(t.recordedState.count/10),t.recordedState.actionsRunPressedKeys=t.recordedState.count>0?t.recordedState.count.toString().split(""):[],this.isCompleteAction=!1):await(new Ne).execCount(e,t)}};t.ActionDeleteCharWithDeleteKey=De,t.ActionDeleteCharWithDeleteKey=De=a([j.RegisterAction],De);let Ve=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["X"],this.name="delete_last_char",this.createsUndoPoint=!0}async exec(e,t){if(0===e.character)return;const r=t.recordedState.count||1;await new N.DeleteOperator(this.multicursorIndex).run(t,e.getLeft(r),e.getLeft())}};t.ActionDeleteLastChar=Ve,t.ActionDeleteLastChar=Ve=a([j.RegisterAction],Ve);let Fe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["r","<character>"],this.createsUndoPoint=!0,this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1,n=this.keysPressed[1];if(["<BS>","<S-BS>"].includes(n.toUpperCase()))return;if(e.character+r>e.getLineEnd().character)return;let i=new f.Position(e.line,e.character+r);i.character>t.document.lineAt(i).text.length||(i.character>t.document.lineAt(i).text.length&&(i=new f.Position(i.line,i.character+1)),"<tab>"===n?(t.recordedState.transformer.delete(new l.Range(e,i)),t.recordedState.transformer.vscodeCommand("tab"),t.recordedState.transformer.moveCursor(O.PositionDiff.offset({character:-1}),this.multicursorIndex)):"\n"===n?(t.recordedState.transformer.delete(new l.Range(e,i)),t.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:"\n"})):t.recordedState.transformer.addTransformation({type:"replaceText",text:n.repeat(r),range:new l.Range(e,i),diff:O.PositionDiff.offset({character:r-1}),manuallySetCursorPositions:t.dotCommandStatus===B.DotCommandStatus.Executing||void 0}))}};t.ActionReplaceCharacter=Fe,t.ActionReplaceCharacter=Fe=a([j.RegisterAction],Fe);let We=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine],this.keys=["r","<character>"],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=I.TextEditor.getTabCharacter(t.editor));let n=1,[i,o]=(0,O.sorted)(t.cursorStartPosition,t.cursorStopPosition);t.currentMode===B.Mode.VisualLine&&([i,o]=[i.getLineBegin(),o.getLineEnd()]);const s=t.document.lineAt(o).text.length;s<=0&&(n=0),o=new f.Position(o.line,Math.min(o.character,s>0?s-1:0));for(let e=i.line;e<=o.line;e++){const s=t.document.lineAt(e).text;i.line===o.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(o.character-i.character+2).join(r),range:new l.Range(i,new f.Position(o.line,o.character+1)),manuallySetCursorPositions:!0}):e===i.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(s.length-i.character+1).join(r),range:new l.Range(i,new f.Position(i.line,s.length)),manuallySetCursorPositions:!0}):e===o.line?t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(o.character+1+n).join(r),range:new l.Range(new f.Position(o.line,0),new f.Position(o.line,o.character+n)),manuallySetCursorPositions:!0}):t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(s.length+1).join(r),range:new l.Range(new f.Position(e,0),new f.Position(e,s.length)),manuallySetCursorPositions:!0})}t.cursorStopPosition=i,t.cursorStartPosition=i,await t.setCurrentMode(B.Mode.Normal)}};We=a([j.RegisterAction],We);let Ue=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=["r","<character>"],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){let r=this.keysPressed[1];"<tab>"===r&&(r=I.TextEditor.getTabCharacter(t.editor));for(const{start:e,end:n}of I.TextEditor.iterateLinesInBlock(t))n.isBeforeOrEqual(e)||t.recordedState.transformer.addTransformation({type:"replaceText",text:Array(n.character-e.character+1).join(r),range:new l.Range(e,n),manuallySetCursorPositions:!0});const n=(0,B.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition);t.cursors=[new m.Cursor(n,n)],await t.setCurrentMode(B.Mode.Normal)}};Ue=a([j.RegisterAction],Ue);let qe=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=[["d"],["x"],["X"]],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const{line:e,start:n,end:i}of I.TextEditor.iterateLinesInBlock(t))r.push(e),t.recordedState.transformer.addTransformation({type:"deleteRange",range:new l.Range(n,i),manuallySetCursorPositions:!0});const n=1===r.length?r[0]:r.join("\n");t.currentRegisterMode=$.RegisterMode.BlockWise,$.Register.put(t,n,this.multicursorIndex,!0);const i=(0,B.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition);t.cursors=[new m.Cursor(i,i)],await t.setCurrentMode(B.Mode.Normal)}};qe=a([j.RegisterAction],qe);let Ke=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=["D"],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const{start:e}of I.TextEditor.iterateLinesInBlock(t)){const n=new l.Range(e,e.getLineEnd());r.push(t.editor.document.getText(n)),t.recordedState.transformer.addTransformation({type:"deleteRange",range:n,manuallySetCursorPositions:!0})}const n=(0,B.visualBlockGetTopLeftPosition)(t.cursorStopPosition,t.cursorStartPosition),i=1===r.length?r[0]:r.join("\n");$.Register.put(t,i,this.multicursorIndex,!0),t.cursors=[new m.Cursor(n,n)],await t.setCurrentMode(B.Mode.Normal)}};Ke=a([j.RegisterAction],Ke);let He=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=["I"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors)for(const{line:n,start:i}of I.TextEditor.iterateLinesInBlock(t,e))""===n&&0!==i.character||r.push(new m.Cursor(i,i));t.cursors=r,await t.setCurrentMode(B.Mode.Insert),t.isFakeMultiCursor=!0}};He=a([j.RegisterAction],He);let ze=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=[["c"],["s"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[],n=[];for(const e of t.cursors){const i=1+(0,B.visualBlockGetBottomRightPosition)(e.start,e.stop).character-(0,B.visualBlockGetTopLeftPosition)(e.start,e.stop).character;for(const{line:o,start:s,end:a}of I.TextEditor.iterateLinesInBlock(t,e))n.push(o.padEnd(i," ")),o&&(t.recordedState.transformer.addTransformation({type:"deleteRange",range:new l.Range(s,a),manuallySetCursorPositions:!0}),r.push(new m.Cursor(s,s)))}t.cursors=r;const i=1===n.length?n[0]:n.join("\n");$.Register.put(t,i,this.multicursorIndex,!0),await t.setCurrentMode(B.Mode.Insert),t.isFakeMultiCursor=!0}};ze=a([j.RegisterAction],ze);let Ge=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=["C"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors)for(const{start:n,end:i}of I.TextEditor.iterateLinesInBlock(t,e))t.recordedState.transformer.delete(new l.Range(n,n.getLineEnd())),r.push(new m.Cursor(i,i));t.cursors=r,await t.setCurrentMode(B.Mode.Insert),t.isFakeMultiCursor=!0}};Ge=a([j.RegisterAction],Ge);class Qe extends j.BaseCommand{runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(B.Mode.Insert),t.isFakeMultiCursor=!0;const r=[],n=[];for(const e of t.editor.selections){const{start:i,end:o}=e;for(let e=i.line;e<=o.line;e++){const s=t.document.lineAt(e),a=this.getCursorRangeForLine(s,i,o);s.isEmptyOrWhitespace?n.push(a):r.push(a)}}r.length>0?t.cursors=r:t.cursors=n}}let Je=class extends Qe{constructor(){super(...arguments),this.modes=[B.Mode.VisualLine],this.keys=["I"]}getCursorRangeForLine(e){const t=new f.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new m.Cursor(t,t)}};Je=a([j.RegisterAction],Je);let Ye=class extends Qe{constructor(){super(...arguments),this.modes=[B.Mode.VisualLine],this.keys=["A"]}getCursorRangeForLine(e){const t=new f.Position(e.lineNumber,e.range.end.character);return new m.Cursor(t,t)}};Ye=a([j.RegisterAction],Ye);let Ze=class extends Qe{constructor(){super(...arguments),this.modes=[B.Mode.Visual],this.keys=["I"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===t.line?t:new f.Position(e.lineNumber,e.firstNonWhitespaceCharacterIndex);return new m.Cursor(n,n)}};Ze=a([j.RegisterAction],Ze);let Xe=class extends Qe{constructor(){super(...arguments),this.modes=[B.Mode.Visual],this.keys=["A"]}getCursorRangeForLine(e,t,r){const n=e.lineNumber===r.line?r:new f.Position(e.lineNumber,e.range.end.character);return new m.Cursor(n,n)}};Xe=a([j.RegisterAction],Xe);let et=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=["A"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=[];for(const e of t.cursors){const[n,i]=(0,O.sorted)(e.start,e.stop);for(let o=n.line;o<=i.line;o++){const n=t.document.lineAt(o),i=t.desiredColumn===Number.POSITIVE_INFINITY?n.text.length:Math.max(e.start.character,e.stop.character)+1;n.text.length<i&&await I.TextEditor.insert(t.editor," ".repeat(i-n.text.length),n.range.end,!1);const s=new f.Position(o,i);r.push(new m.Cursor(s,s))}}t.cursors=r,await t.setCurrentMode(B.Mode.Insert),t.isFakeMultiCursor=!0}};et=a([j.RegisterAction],et);let tt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualLine],this.keys=["x"],this.name="delete_char_visual_line_mode"}async exec(e,t){const[r,n]=(0,O.sorted)(t.cursorStartPosition,t.cursorStopPosition);await new N.DeleteOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEnd())}};t.ActionDeleteCharVisualLineMode=tt,t.ActionDeleteCharVisualLineMode=tt=a([j.RegisterAction],tt);let rt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine],this.keys=["X"]}async exec(e,t){const[r,n]=(0,O.sorted)(t.cursorStartPosition,t.cursorStopPosition);await new N.DeleteOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEnd())}};rt=a([j.RegisterAction],rt);let nt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine],this.keys=["S"]}doesActionApply(e,t){return!L.configuration.surround&&super.doesActionApply(e,t)}async exec(e,t){return(new it).exec(e,t)}};nt=a([j.RegisterAction],nt);let it=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Visual,B.Mode.VisualLine],this.keys=[["C"],["R"]]}async exec(e,t){const[r,n]=(0,O.sorted)(t.cursorStartPosition,t.cursorStopPosition);await new N.ChangeOperator(this.multicursorIndex).run(t,r.getLineBegin(),n.getLineEnd().getLeftIfEOL())}};it=a([j.RegisterAction],it);let ot=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.VisualBlock],this.keys=[["R"],["S"]]}async exec(e,t){return(new it).exec(e,t)}};ot=a([j.RegisterAction],ot);let st=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["s"]}async exec(e,t){await new N.ChangeOperator(this.multicursorIndex).run(t,e,e.getRight((t.recordedState.count||1)-1))}doesActionApply(e,t){return super.doesActionApply(e,t)&&!L.configuration.sneak&&!e.recordedState.operator}couldActionApply(e,t){return super.couldActionApply(e,t)&&!L.configuration.sneak&&!e.recordedState.operator}};st=a([j.RegisterAction],st);let at=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["~"],this.createsUndoPoint=!0}toggleCase(e){let t="";for(const r of e){let e=r.toLocaleLowerCase();e===r&&(e=r.toLocaleUpperCase()),t+=e}return t}async exec(e,t){const r=t.recordedState.count||1,n=new l.Range(e,(0,P.shouldWrapKey)(t.currentMode,"~")?e.getOffsetThroughLineBreaks(r):e.getRight(r));t.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:this.toggleCase(t.document.getText(n)),diff:O.PositionDiff.exactPosition(n.end)})}};at=a([j.RegisterAction],at);class ct extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual,B.Mode.VisualLine,B.Mode.VisualBlock],this.createsUndoPoint=!0}async exec(e,t){const r=this.getSearchRanges(t);let n=1;for(const[i,o]of r.entries()){e=o.start;const r=t.document.lineAt(e).text;if(r.length<=e.character)continue;const i=r[e.character].match(/\s/)?e:e.prevWordStart(t.document,{inclusive:!0});e:for(let{start:s,end:a,word:c}of I.TextEditor.iterateWords(t.document,i)){if(s.isAfter(o.stop))break;for("-"===r[s.character-1]&&/\d/.test(r[s.character])&&(s=s.getLeft(),c=r[s.character]+c);;){const r=T.NumericString.parse(c);if(void 0===r)break;const{num:i,suffixOffset:o}=r;if(e.character<s.character+o){const e=await this.replaceNum(t,i,this.offset*n*(t.recordedState.count||1),s,a);this.staircase&&n++,t.currentMode===B.Mode.Normal&&t.recordedState.transformer.moveCursor(O.PositionDiff.exactPosition(e.getLeft(i.suffix.length)));break e}c=c.slice(o),s=new f.Position(s.line,s.character+o)}}}(0,B.isVisualMode)(t.currentMode)&&t.recordedState.transformer.moveCursor(O.PositionDiff.exactPosition(r[0].start)),await t.setCurrentMode(B.Mode.Normal)}async replaceNum(e,t,r,n,i){const o=i.character+1-n.character;t.value+=r;const s=t.toString(),a=new l.Range(n,i.getRight());return e.recordedState.transformer.replace(a,s),o!==s.length&&(i=new f.Position(i.line,n.character+s.length-1)),i}getSearchRanges(e){const t=[],[r,n]=(0,O.sorted)(e.cursorStartPosition,e.cursorStopPosition);switch(e.currentMode){case B.Mode.Normal:t.push(new m.Cursor(e.cursorStopPosition,e.cursorStopPosition.getLineEnd()));break;case B.Mode.Visual:t.push(new m.Cursor(r,r.getLineEnd()));for(let e=r.line+1;e<n.line;e++){const r=new f.Position(e,0);t.push(new m.Cursor(r,r.getLineEnd()))}t.push(new m.Cursor(n.getLineBegin(),n));break;case B.Mode.VisualLine:for(let e=r.line;e<=n.line;e++){const r=new f.Position(e,0);t.push(new m.Cursor(r,r.getLineEnd()))}break;case B.Mode.VisualBlock:{const e=(0,B.visualBlockGetTopLeftPosition)(r,n),i=(0,B.visualBlockGetBottomRightPosition)(r,n);for(let r=e.line;r<=i.line;r++)t.push(new m.Cursor(new f.Position(r,e.character),new f.Position(r,i.character)));break}default:throw new Error(`Unexpected mode ${e.currentMode} in IncrementDecrementNumberAction.getPositions()`)}return t}}let ut=class extends ct{constructor(){super(...arguments),this.keys=["<C-a>"],this.offset=1,this.staircase=!1}};ut=a([j.RegisterAction],ut);let lt=class extends ct{constructor(){super(...arguments),this.keys=["<C-x>"],this.offset=-1,this.staircase=!1}};lt=a([j.RegisterAction],lt);let dt=class extends ct{constructor(){super(...arguments),this.keys=["g","<C-a>"],this.offset=1,this.staircase=!0}};dt=a([j.RegisterAction],dt);let ht=class extends ct{constructor(){super(...arguments),this.keys=["g","<C-x>"],this.offset=-1,this.staircase=!0}};ht=a([j.RegisterAction],ht);let ft=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","a"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=t.document.getText(new l.Range(e,e.getRight())),n=r.charCodeAt(0);b.StatusBar.setText(t,`<${r}>  ${n},  Hex ${n.toString(16)},  Octal ${n.toString(8)}`)}};t.CommandUnicodeName=ft,t.CommandUnicodeName=ft=a([j.RegisterAction],ft);let pt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","h"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await l.commands.executeCommand("editor.action.showHover")}};pt=a([j.RegisterAction],pt);let mt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual],this.keys=[["<D-d>"],["g","b"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await l.commands.executeCommand("editor.action.addSelectionToNextFindMatch"),t.cursors=(0,C.getCursorsAfterSync)(t.editor),t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getLeft()))),await t.setCurrentMode(B.Mode.Visual)}};t.ActionOverrideCmdD=mt,t.ActionOverrideCmdD=mt=a([j.RegisterAction],mt);let gt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Insert],this.keys=["<D-d>"],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){t.editor.selections=t.editor.selections.map(((e,r)=>{const n=e.active;if(0===r)return new l.Selection(n.prevWordStart(t.document),n.getLeft().nextWordEnd(t.document,{inclusive:!0}).getRight());{const e=t.editor.selections[0].active,r=e.getLeft().nextWordEnd(t.document,{inclusive:!0}).getRight().character-e.prevWordStart(t.document).character,i=n.getLeft(r);return new l.Selection(i,n)}})),t.recordedState.transformer.vscodeCommand("editor.action.addSelectionToNextFindMatch")}};gt=a([j.RegisterAction],gt);let vt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual],this.keys=[["<D-alt+down>"],["<C-alt+down>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.vscodeCommand("editor.action.insertCursorBelow")}};vt=a([j.RegisterAction],vt);let yt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal,B.Mode.Visual],this.keys=[["<D-alt+up>"],["<C-alt+up>"]],this.runsOnceForEachCountPrefix=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.vscodeCommand("editor.action.insertCursorAbove")}};yt=a([j.RegisterAction],yt);let bt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["<C-g>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){(0,M.reportFileInfo)(e,t)}};bt=a([j.RegisterAction],bt);let wt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["Z","Z"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await new p.WriteQuitCommand({bang:!1,opt:[]}).execute(t)}};wt=a([j.RegisterAction],wt);let xt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["Z","Q"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await new E.QuitCommand({bang:!0}).execute(t)}};xt=a([j.RegisterAction],xt);let St=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=[["<C-6>"],["<C-^>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await $.Register.get("#");if(r?.text instanceof y.RecordedState)throw new Error("# register unexpectedly contained a RecordedState");if(void 0===r||""===r.text)b.StatusBar.displayError(t,g.VimError.fromCode(g.ErrorCode.NoAlternateFile));else{let e;if(e=await(0,h.doesFileExist)(l.Uri.file(r.text))?[l.Uri.file(r.text)]:await l.workspace.findFiles(r.text),e.length>0){const t=await l.workspace.openTextDocument(e[0]);await l.window.showTextDocument(t)}}}};St=a([j.RegisterAction],St);let Mt=class extends j.BaseCommand{constructor(){super(...arguments),this.modes=[B.Mode.Normal],this.keys=["g","O"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await l.commands.executeCommand("outline.focus")}};Mt=a([j.RegisterAction],Mt)},9512:function(e,t,r){"use strict";var n,i,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},c=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&o(t,e,r[i]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const u=c(r(1398)),l=r(2249),d=r(4546),h=r(9359),f=r(6007),p=r(7371),m=r(6275),g=r(7892),v=r(4991),y=r(6710),b=r(2821),w=r(2270),x=r(4575);class S extends x.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.CommandlineInProgress,h.Mode.SearchInProgressMode]}runsOnceForEveryCursor(){return!1}async exec(e,t){if(t.modeData.mode!==h.Mode.CommandlineInProgress&&t.modeData.mode!==h.Mode.SearchInProgressMode)throw new Error(`Unexpected mode ${t.modeData.mode} in CommandLineAction`);await this.run(t,t.modeData.commandLine)}}let M=i=class extends S{constructor(){super(...arguments),this.modes=[h.Mode.CommandlineInProgress],this.keys=[["<tab>"],["<S-tab>"]]}cycleCompletion(e,t){const r=t.autoCompleteItems;if(0===r.length)return;t.autoCompleteIndex=e?(t.autoCompleteIndex+1)%r.length:(t.autoCompleteIndex-1+r.length)%r.length;const n=t.preCompleteCharacterPos,i=t.preCompleteCommand,o=i.slice(0,n),s=i.slice(n);t.text=o+r[t.autoCompleteIndex]+s,t.cursorIndex=t.text.length-s.length}async run(e,t){if(!(t instanceof l.ExCommandLine))throw new Error("Expected ExCommandLine in CommandLineTab::run()");const r="<tab>"===this.keysPressed[0];if(0!==t.autoCompleteItems.length&&e.recordedState.actionsRun[e.recordedState.actionsRun.length-2]instanceof i)return void this.cycleCompletion(r,t);let n=[],o=t.text.slice(0,t.cursorIndex);const s=t.text.slice(t.cursorIndex),a=/^\s*\w+\s+/g;if(/^\s*\w+$/.test(o))n=b.builtinExCommands.map((e=>e[0][0]+e[0][1])).filter((e=>e.startsWith(o))).map((e=>e.slice(e.search(o)+o.length))).sort();else if(a.exec(o)){const t=o.substring(a.lastIndex),r=e.document.uri,i=!!u.env.remoteName,{fullDirPath:s,baseName:c,partialPath:l,path:d}=(0,y.getPathDetails)(t,r,i);o=o.slice(0,a.lastIndex)+l;const h=/^\.\.?$/g.test(c),f=await(0,y.readDirectory)(s,d.sep,r,i,h),p=new RegExp(`^${c}`,"win32"===process.platform?"i":"");n=f.map((e=>[p.exec(e),e])).filter((([e])=>null!==e)).map((([e,t])=>t.slice(e[0].length))).sort()}const c=r?0:n.length-1;t.autoCompleteIndex=c,t.autoCompleteItems=n.length<=1?[]:n,t.preCompleteCharacterPos=t.cursorIndex,t.preCompleteCommand=o+s;const d=0===n.length?"":n[c];t.text=o+d+s,t.cursorIndex=t.text.length-s.length}};M=i=a([x.RegisterAction],M);let C=class extends S{constructor(){super(...arguments),this.modes=[h.Mode.CommandlineInProgress],this.keys=[["\n"],["<C-m>"]]}async run(e,t){await t.run(e),await e.setCurrentMode(h.Mode.Normal)}};C=a([x.RegisterAction],C);let _=class extends S{constructor(){super(...arguments),this.modes=[h.Mode.SearchInProgressMode],this.keys=[["\n"],["<C-m>"]],this.isJump=!0}runsOnceForEveryCursor(){return!0}async run(e,t){await t.run(e),this.multicursorIndex===e.cursors.length-1&&await e.setCurrentMode(t.previousMode)}};_=a([x.RegisterAction],_);let P=class extends S{constructor(){super(...arguments),this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}async run(e,t){await t.escape(e)}};P=a([x.RegisterAction],P);let k=class extends S{constructor(){super(...arguments),this.keys=["<C-f>"]}async run(e,t){await t.ctrlF(e)}};k=a([x.RegisterAction],k);let R=class extends S{constructor(){super(...arguments),this.keys=[["<BS>"],["<S-BS>"],["<C-h>"]]}async run(e,t){await t.backspace(e)}};R=a([x.RegisterAction],R);let E=class extends S{constructor(){super(...arguments),this.keys=["<Del>"]}async run(e,t){await t.delete(e)}};E=a([x.RegisterAction],E);let A=class extends S{constructor(){super(...arguments),this.keys=[["<Home>"],["<C-b>"]]}async run(e,t){await t.home()}};A=a([x.RegisterAction],A);let O=class extends S{constructor(){super(...arguments),this.keys=[["<End>"],["<C-e>"]]}async run(e,t){await t.end()}};O=a([x.RegisterAction],O);let T=class extends S{constructor(){super(...arguments),this.keys=[["<C-w>"],["<C-BS>"]]}async run(e,t){await t.deleteWord()}};T=a([x.RegisterAction],T);let L=class extends S{constructor(){super(...arguments),this.keys=["<C-u>"]}async run(e,t){await t.deleteToBeginning()}};L=a([x.RegisterAction],L);let B=class extends S{constructor(){super(...arguments),this.keys=["<C-left>"]}async run(e,t){await t.wordLeft()}};B=a([x.RegisterAction],B);let $=class extends S{constructor(){super(...arguments),this.keys=["<C-right>"]}async run(e,t){await t.wordRight()}};$=a([x.RegisterAction],$);let I=class extends S{constructor(){super(...arguments),this.keys=[["<up>"],["<C-p>"]]}async run(e,t){await t.historyBack()}};I=a([x.RegisterAction],I);let j=class extends S{constructor(){super(...arguments),this.keys=[["<down>"],["<C-n>"]]}async run(e,t){await t.historyForward()}};j=a([x.RegisterAction],j);let N=class extends S{constructor(){super(...arguments),this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async run(e,t){const r=this.keysPressed[1];if(!f.Register.isValidRegister(r))return;e.recordedState.registerName=r;const n=await f.Register.get(e.recordedState.registerName,this.multicursorIndex);if(void 0===n)return void m.StatusBar.displayError(e,d.VimError.fromCode(d.ErrorCode.NothingInRegister,e.recordedState.registerName));let i;if(n.text instanceof Array)i=n.text.join("\n");else if(n.text instanceof p.RecordedState){let e=[];for(const t of n.text.actionsRun)e=e.concat(t.keysPressed);i=e.join("\n")}else i=n.text;n.registerMode===f.RegisterMode.LineWise&&(i+="\n"),t.text+=i,t.cursorIndex+=i.length}};N=a([x.RegisterAction],N);let D=class extends S{constructor(){super(...arguments),this.keys=["<C-r>","<C-w>"]}async run(e,t){const r=g.TextEditor.getWord(e.document,e.cursorStopPosition.getLeftIfEOL());void 0!==r&&(t.text+=r,t.cursorIndex+=r.length)}};D=a([x.RegisterAction],D);let V=class extends S{constructor(){super(...arguments),this.keys=[["<left>"],["<right>"]]}getTrimmedStatusBarText(){return m.StatusBar.getText().replace(/^(?:\/|\:)(.*)(?:\|)(.*)/,"$1$2").replace(/(.*) $/,"$1")}async run(e,t){const r=this.keysPressed[0],n=this.getTrimmedStatusBarText();"<right>"===r?t.cursorIndex=Math.min(t.cursorIndex+1,n.length):"<left>"===r&&(t.cursorIndex=Math.max(t.cursorIndex-1,0))}};V=a([x.RegisterAction],V);let F=class extends S{constructor(){super(...arguments),this.keys=[["<C-v>"],["<D-v>"]]}async run(e,t){const r=await v.Clipboard.Paste();t.text=t.text.substring(0,t.cursorIndex).concat(r).concat(t.text.slice(t.cursorIndex)),t.cursorIndex+=r.length}};F=a([x.RegisterAction],F);let W=class extends S{constructor(){super(...arguments),this.modes=[h.Mode.SearchInProgressMode],this.keys=["<C-l>"]}async run(e,t){if(t instanceof l.SearchCommandLine){const r=t.getCurrentMatchRange(e);if(r){const n=e.document.lineAt(r.range.end).text;r.range.end.character<n.length&&(t.getSearchState().searchString+=n[r.range.end.character],t.cursorIndex++)}}}};W=a([x.RegisterAction],W);let U=class extends S{constructor(){super(...arguments),this.modes=[h.Mode.SearchInProgressMode],this.keys=[["<C-g>"],["<C-t>"]]}async run(e,t){const r=this.keysPressed[0],n="<C-g>"===r?w.SearchDirection.Forward:"<C-t>"===r?w.SearchDirection.Backward:void 0;t instanceof l.SearchCommandLine&&void 0!==n&&t.advanceCurrentMatch(e,n)}};U=a([x.RegisterAction],U);let q=class extends S{constructor(){super(...arguments),this.keys=[["<character>"]]}async run(e,t){t.typeCharacter(this.keysPressed[0])}};q=a([x.RegisterAction],q)},4905:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultDigraphs=void 0,t.DefaultDigraphs=new Map([["NU",["^@",10]],["SH",["^A",1]],["SX",["^B",2]],["EX",["^C",3]],["ET",["^D",4]],["EQ",["^E",5]],["AK",["^F",6]],["BL",["^G",7]],["BS",["^H",8]],["HT",["^I",9]],["LF",["^@",10]],["VT",["^K",11]],["FF",["^L",12]],["CR",["^M",13]],["SO",["^N",14]],["SI",["^O",15]],["DL",["^P",16]],["D1",["^Q",17]],["D2",["^R",18]],["D3",["^S",19]],["D4",["^T",20]],["NK",["^U",21]],["SY",["^V",22]],["EB",["^W",23]],["CN",["^X",24]],["EM",["^Y",25]],["SB",["^Z",26]],["EC",["^[",27]],["FS",["^\\",28]],["GS",["^]",29]],["RS",["^^",30]],["US",["^_",31]],["SP",[" ",32]],["Nb",["#",35]],["DO",["$",36]],["At",["@",64]],["<(",["[",91]],["//",["\\",92]],[")>",["]",93]],["'>",["^",94]],["'!",["`",96]],["(!",["{",123]],["!!",["|",124]],["!)",["}",125]],["'?",["~",126]],["DT",["^?",127]],["PA",["<80>",128]],["HO",["<81>",129]],["BH",["<82>",130]],["NH",["<83>",131]],["IN",["<84>",132]],["NL",["<85>",133]],["SA",["<86>",134]],["ES",["<87>",135]],["HS",["<88>",136]],["HJ",["<89>",137]],["VS",["<8a>",138]],["PD",["<8b>",139]],["PU",["<8c>",140]],["RI",["<8d>",141]],["S2",["<8e>",142]],["S3",["<8f>",143]],["DC",["<90>",144]],["P1",["<91>",145]],["P2",["<92>",146]],["TS",["<93>",147]],["CC",["<94>",148]],["MW",["<95>",149]],["SG",["<96>",150]],["EG",["<97>",151]],["SS",["<98>",152]],["GC",["<99>",153]],["SC",["<9a>",154]],["CI",["<9b>",155]],["ST",["<9c>",156]],["OC",["<9d>",157]],["PM",["<9e>",158]],["AC",["<9f>",159]],["NS",[" ",160]],["!I",["¡",161]],["~!",["¡",161]],["Ct",["¢",162]],["c|",["¢",162]],["Pd",["£",163]],["$$",["£",163]],["Cu",["¤",164]],["ox",["¤",164]],["Ye",["¥",165]],["Y-",["¥",165]],["BB",["¦",166]],["||",["¦",166]],["SE",["§",167]],["':",["¨",168]],["Co",["©",169]],["cO",["©",169]],["-a",["ª",170]],["<<",["«",171]],["NO",["¬",172]],["-,",["¬",172]],["--",["­",173]],["Rg",["®",174]],["'m",["¯",175]],["-=",["¯",175]],["DG",["°",176]],["~o",["°",176]],["+-",["±",177]],["2S",["²",178]],["22",["²",178]],["3S",["³",179]],["33",["³",179]],["''",["´",180]],["My",["µ",181]],["PI",["¶",182]],["pp",["¶",182]],[".M",["·",183]],["~.",["·",183]],["',",["¸",184]],["1S",["¹",185]],["11",["¹",185]],["-o",["º",186]],[">>",["»",187]],["14",["¼",188]],["12",["½",189]],["34",["¾",190]],["?I",["¿",191]],["~?",["¿",191]],["A!",["À",192]],["A`",["À",192]],["A'",["Á",193]],["A>",["Â",194]],["A^",["Â",194]],["A?",["Ã",195]],["A~",["Ã",195]],["A:",["Ä",196]],['A"',["Ä",196]],["AA",["Å",197]],["A@",["Å",197]],["AE",["Æ",198]],["C,",["Ç",199]],["E!",["È",200]],["E`",["È",200]],["E'",["É",201]],["E>",["Ê",202]],["E^",["Ê",202]],["E:",["Ë",203]],['E"',["Ë",203]],["I!",["Ì",204]],["I`",["Ì",204]],["I'",["Í",205]],["I>",["Î",206]],["I^",["Î",206]],["I:",["Ï",207]],['I"',["Ï",207]],["D-",["Ð",208]],["N?",["Ñ",209]],["N~",["Ñ",209]],["O!",["Ò",210]],["O`",["Ò",210]],["O'",["Ó",211]],["O>",["Ô",212]],["O^",["Ô",212]],["O?",["Õ",213]],["O~",["Õ",213]],["O:",["Ö",214]],["*X",["×",215]],["/\\",["×",215]],["O/",["Ø",216]],["U!",["Ù",217]],["U`",["Ù",217]],["U'",["Ú",218]],["U>",["Û",219]],["U^",["Û",219]],["U:",["Ü",220]],["Y'",["Ý",221]],["TH",["Þ",222]],["Ip",["Þ",222]],["ss",["ß",223]],["a!",["à",224]],["a`",["à",224]],["a'",["á",225]],["a>",["â",226]],["a^",["â",226]],["a?",["ã",227]],["a~",["ã",227]],["a:",["ä",228]],['a"',["ä",228]],["aa",["å",229]],["a@",["å",229]],["ae",["æ",230]],["c,",["ç",231]],["e!",["è",232]],["e`",["è",232]],["e'",["é",233]],["e>",["ê",234]],["e^",["ê",234]],["e:",["ë",235]],['e"',["ë",235]],["i!",["ì",236]],["i`",["ì",236]],["i'",["í",237]],["i>",["î",238]],["i^",["î",238]],["i:",["ï",239]],["d-",["ð",240]],["n?",["ñ",241]],["n~",["ñ",241]],["o!",["ò",242]],["o`",["ò",242]],["o'",["ó",243]],["o>",["ô",244]],["o^",["ô",244]],["o?",["õ",245]],["o~",["õ",245]],["o:",["ö",246]],["-:",["÷",247]],["o/",["ø",248]],["u!",["ù",249]],["u`",["ù",249]],["u'",["ú",250]],["u>",["û",251]],["u^",["û",251]],["u:",["ü",252]],["y'",["ý",253]],["th",["þ",254]],["y:",["ÿ",255]],['y"',["ÿ",255]],["A-",["Ā",256]],["a-",["ā",257]],["A(",["Ă",258]],["a(",["ă",259]],["A;",["Ą",260]],["a;",["ą",261]],["C'",["Ć",262]],["c'",["ć",263]],["C>",["Ĉ",264]],["c>",["ĉ",265]],["C.",["Ċ",266]],["c.",["ċ",267]],["C<",["Č",268]],["c<",["č",269]],["D<",["Ď",270]],["d<",["ď",271]],["D/",["Đ",272]],["d/",["đ",273]],["E-",["Ē",274]],["e-",["ē",275]],["E(",["Ĕ",276]],["e(",["ĕ",277]],["E.",["Ė",278]],["e.",["ė",279]],["E;",["Ę",280]],["e;",["ę",281]],["E<",["Ě",282]],["e<",["ě",283]],["G>",["Ĝ",284]],["g>",["ĝ",285]],["G(",["Ğ",286]],["g(",["ğ",287]],["G.",["Ġ",288]],["g.",["ġ",289]],["G,",["Ģ",290]],["g,",["ģ",291]],["H>",["Ĥ",292]],["h>",["ĥ",293]],["H/",["Ħ",294]],["h/",["ħ",295]],["I?",["Ĩ",296]],["i?",["ĩ",297]],["I-",["Ī",298]],["i-",["ī",299]],["I(",["Ĭ",300]],["i(",["ĭ",301]],["I;",["Į",302]],["i;",["į",303]],["I.",["İ",304]],["i.",["ı",305]],["IJ",["Ĳ",306]],["ij",["ĳ",307]],["J>",["Ĵ",308]],["j>",["ĵ",309]],["K,",["Ķ",310]],["k,",["ķ",311]],["kk",["ĸ",312]],["L'",["Ĺ",313]],["l'",["ĺ",314]],["L,",["Ļ",315]],["l,",["ļ",316]],["L<",["Ľ",317]],["l<",["ľ",318]],["L.",["Ŀ",319]],["l.",["ŀ",320]],["L/",["Ł",321]],["l/",["ł",322]],["N'",["Ń",323]],["n'",["ń",324]],["N,",["Ņ",325]],["n,",["ņ",326]],["N<",["Ň",327]],["n<",["ň",328]],["'n",["ŉ",329]],["NG",["Ŋ",330]],["ng",["ŋ",331]],["O-",["Ō",332]],["o-",["ō",333]],["O(",["Ŏ",334]],["o(",["ŏ",335]],['O"',["Ő",336]],['o"',["ő",337]],["OE",["Œ",338]],["oe",["œ",339]],["R'",["Ŕ",340]],["r'",["ŕ",341]],["R,",["Ŗ",342]],["r,",["ŗ",343]],["R<",["Ř",344]],["r<",["ř",345]],["S'",["Ś",346]],["s'",["ś",347]],["S>",["Ŝ",348]],["s>",["ŝ",349]],["S,",["Ş",350]],["s,",["ş",351]],["S<",["Š",352]],["s<",["š",353]],["T,",["Ţ",354]],["t,",["ţ",355]],["T<",["Ť",356]],["t<",["ť",357]],["T/",["Ŧ",358]],["t/",["ŧ",359]],["U?",["Ũ",360]],["u?",["ũ",361]],["U-",["Ū",362]],["u-",["ū",363]],["U(",["Ŭ",364]],["u(",["ŭ",365]],["U0",["Ů",366]],["u0",["ů",367]],['U"',["Ű",368]],['u"',["ű",369]],["U;",["Ų",370]],["u;",["ų",371]],["W>",["Ŵ",372]],["w>",["ŵ",373]],["Y>",["Ŷ",374]],["y>",["ŷ",375]],["Y:",["Ÿ",376]],["Z'",["Ź",377]],["z'",["ź",378]],["Z.",["Ż",379]],["z.",["ż",380]],["Z<",["Ž",381]],["z<",["ž",382]],["O9",["Ơ",416]],["o9",["ơ",417]],["OI",["Ƣ",418]],["oi",["ƣ",419]],["yr",["Ʀ",422]],["U9",["Ư",431]],["u9",["ư",432]],["Z/",["Ƶ",437]],["z/",["ƶ",438]],["ED",["Ʒ",439]],["A<",["Ǎ",461]],["a<",["ǎ",462]],["I<",["Ǐ",463]],["i<",["ǐ",464]],["O<",["Ǒ",465]],["o<",["ǒ",466]],["U<",["Ǔ",467]],["u<",["ǔ",468]],["A1",["Ǟ",478]],["a1",["ǟ",479]],["A7",["Ǡ",480]],["a7",["ǡ",481]],["A3",["Ǣ",482]],["a3",["ǣ",483]],["G/",["Ǥ",484]],["g/",["ǥ",485]],["G<",["Ǧ",486]],["g<",["ǧ",487]],["K<",["Ǩ",488]],["k<",["ǩ",489]],["O;",["Ǫ",490]],["o;",["ǫ",491]],["O1",["Ǭ",492]],["o1",["ǭ",493]],["EZ",["Ǯ",494]],["ez",["ǯ",495]],["j<",["ǰ",496]],["G'",["Ǵ",500]],["g'",["ǵ",501]],[";S",["ʿ",703]],["'<",["ˇ",711]],["'(",["˘",728]],["'.",["˙",729]],["'0",["˚",730]],["';",["˛",731]],["'\"",["˝",733]],["A%",["Ά",902]],["E%",["Έ",904]],["Y%",["Ή",905]],["I%",["Ί",906]],["O%",["Ό",908]],["U%",["Ύ",910]],["W%",["Ώ",911]],["i3",["ΐ",912]],["A*",["Α",913]],["B*",["Β",914]],["G*",["Γ",915]],["D*",["Δ",916]],["E*",["Ε",917]],["Z*",["Ζ",918]],["Y*",["Η",919]],["H*",["Θ",920]],["I*",["Ι",921]],["K*",["Κ",922]],["L*",["Λ",923]],["M*",["Μ",924]],["N*",["Ν",925]],["C*",["Ξ",926]],["O*",["Ο",927]],["P*",["Π",928]],["R*",["Ρ",929]],["S*",["Σ",931]],["T*",["Τ",932]],["U*",["Υ",933]],["F*",["Φ",934]],["X*",["Χ",935]],["Q*",["Ψ",936]],["W*",["Ω",937]],["J*",["Ϊ",938]],["V*",["Ϋ",939]],["a%",["ά",940]],["e%",["έ",941]],["y%",["ή",942]],["i%",["ί",943]],["u3",["ΰ",944]],["a*",["α",945]],["b*",["β",946]],["g*",["γ",947]],["d*",["δ",948]],["e*",["ε",949]],["z*",["ζ",950]],["y*",["η",951]],["h*",["θ",952]],["i*",["ι",953]],["k*",["κ",954]],["l*",["λ",955]],["m*",["μ",956]],["n*",["ν",957]],["c*",["ξ",958]],["o*",["ο",959]],["p*",["π",960]],["r*",["ρ",961]],["*s",["ς",962]],["s*",["σ",963]],["t*",["τ",964]],["u*",["υ",965]],["f*",["φ",966]],["x*",["χ",967]],["q*",["ψ",968]],["w*",["ω",969]],["j*",["ϊ",970]],["v*",["ϋ",971]],["o%",["ό",972]],["u%",["ύ",973]],["w%",["ώ",974]],["'G",["Ϙ",984]],[",G",["ϙ",985]],["T3",["Ϛ",986]],["t3",["ϛ",987]],["M3",["Ϝ",988]],["m3",["ϝ",989]],["K3",["Ϟ",990]],["k3",["ϟ",991]],["P3",["Ϡ",992]],["p3",["ϡ",993]],["'%",["ϴ",1012]],["j3",["ϵ",1013]],["IO",["Ё",1025]],["D%",["Ђ",1026]],["G%",["Ѓ",1027]],["IE",["Є",1028]],["DS",["Ѕ",1029]],["II",["І",1030]],["YI",["Ї",1031]],["J%",["Ј",1032]],["LJ",["Љ",1033]],["NJ",["Њ",1034]],["Ts",["Ћ",1035]],["KJ",["Ќ",1036]],["V%",["Ў",1038]],["DZ",["Џ",1039]],["A=",["А",1040]],["B=",["Б",1041]],["V=",["В",1042]],["G=",["Г",1043]],["D=",["Д",1044]],["E=",["Е",1045]],["Z%",["Ж",1046]],["Z=",["З",1047]],["I=",["И",1048]],["J=",["Й",1049]],["K=",["К",1050]],["L=",["Л",1051]],["M=",["М",1052]],["N=",["Н",1053]],["O=",["О",1054]],["P=",["П",1055]],["R=",["Р",1056]],["S=",["С",1057]],["T=",["Т",1058]],["U=",["У",1059]],["F=",["Ф",1060]],["H=",["Х",1061]],["C=",["Ц",1062]],["C%",["Ч",1063]],["S%",["Ш",1064]],["Sc",["Щ",1065]],['="',["Ъ",1066]],["Y=",["Ы",1067]],['%"',["Ь",1068]],["JE",["Э",1069]],["JU",["Ю",1070]],["JA",["Я",1071]],["a=",["а",1072]],["b=",["б",1073]],["v=",["в",1074]],["g=",["г",1075]],["d=",["д",1076]],["e=",["е",1077]],["z%",["ж",1078]],["z=",["з",1079]],["i=",["и",1080]],["j=",["й",1081]],["k=",["к",1082]],["l=",["л",1083]],["m=",["м",1084]],["n=",["н",1085]],["o=",["о",1086]],["p=",["п",1087]],["r=",["р",1088]],["s=",["с",1089]],["t=",["т",1090]],["u=",["у",1091]],["f=",["ф",1092]],["h=",["х",1093]],["c=",["ц",1094]],["c%",["ч",1095]],["s%",["ш",1096]],["sc",["щ",1097]],["='",["ъ",1098]],["y=",["ы",1099]],["%'",["ь",1100]],["je",["э",1101]],["ju",["ю",1102]],["ja",["я",1103]],["io",["ё",1105]],["d%",["ђ",1106]],["g%",["ѓ",1107]],["ie",["є",1108]],["ds",["ѕ",1109]],["ii",["і",1110]],["yi",["ї",1111]],["j%",["ј",1112]],["lj",["љ",1113]],["nj",["њ",1114]],["ts",["ћ",1115]],["kj",["ќ",1116]],["v%",["ў",1118]],["dz",["џ",1119]],["Y3",["Ѣ",1122]],["y3",["ѣ",1123]],["O3",["Ѫ",1130]],["o3",["ѫ",1131]],["F3",["Ѳ",1138]],["f3",["ѳ",1139]],["V3",["Ѵ",1140]],["v3",["ѵ",1141]],["C3",["Ҁ",1152]],["c3",["ҁ",1153]],["G3",["Ґ",1168]],["g3",["ґ",1169]],["A+",["א",1488]],["B+",["ב",1489]],["G+",["ג",1490]],["D+",["ד",1491]],["H+",["ה",1492]],["W+",["ו",1493]],["Z+",["ז",1494]],["X+",["ח",1495]],["Tj",["ט",1496]],["J+",["י",1497]],["K%",["ך",1498]],["K+",["כ",1499]],["L+",["ל",1500]],["M%",["ם",1501]],["M+",["מ",1502]],["N%",["ן",1503]],["N+",["נ",1504]],["S+",["ס",1505]],["E+",["ע",1506]],["P%",["ף",1507]],["P+",["פ",1508]],["Zj",["ץ",1509]],["ZJ",["צ",1510]],["Q+",["ק",1511]],["R+",["ר",1512]],["Sh",["ש",1513]],["T+",["ת",1514]],[",+",["،",1548]],[";+",["؛",1563]],["?+",["؟",1567]],["H'",["ء",1569]],["aM",["آ",1570]],["aH",["أ",1571]],["wH",["ؤ",1572]],["ah",["إ",1573]],["yH",["ئ",1574]],["a+",["ا",1575]],["b+",["ب",1576]],["tm",["ة",1577]],["t+",["ت",1578]],["tk",["ث",1579]],["g+",["ج",1580]],["hk",["ح",1581]],["x+",["خ",1582]],["d+",["د",1583]],["dk",["ذ",1584]],["r+",["ر",1585]],["z+",["ز",1586]],["s+",["س",1587]],["sn",["ش",1588]],["c+",["ص",1589]],["dd",["ض",1590]],["tj",["ط",1591]],["zH",["ظ",1592]],["e+",["ع",1593]],["i+",["غ",1594]],["++",["ـ",1600]],["f+",["ف",1601]],["q+",["ق",1602]],["k+",["ك",1603]],["l+",["ل",1604]],["m+",["م",1605]],["n+",["ن",1606]],["h+",["ه",1607]],["w+",["و",1608]],["j+",["ى",1609]],["y+",["ي",1610]],[":+",["ً",1611]],['"+',["ٌ",1612]],["=+",["ٍ",1613]],["/+",["َ",1614]],["'+",["ُ",1615]],["1+",["ِ",1616]],["3+",["ّ",1617]],["0+",["ْ",1618]],["aS",["ٰ",1648]],["p+",["پ",1662]],["v+",["ڤ",1700]],["gf",["گ",1711]],["0a",["۰",1776]],["1a",["۱",1777]],["2a",["۲",1778]],["3a",["۳",1779]],["4a",["۴",1780]],["5a",["۵",1781]],["6a",["۶",1782]],["7a",["۷",1783]],["8a",["۸",1784]],["9a",["۹",1785]],["B.",["Ḃ",7682]],["b.",["ḃ",7683]],["B_",["Ḇ",7686]],["b_",["ḇ",7687]],["D.",["Ḋ",7690]],["d.",["ḋ",7691]],["D_",["Ḏ",7694]],["d_",["ḏ",7695]],["D,",["Ḑ",7696]],["d,",["ḑ",7697]],["F.",["Ḟ",7710]],["f.",["ḟ",7711]],["G-",["Ḡ",7712]],["g-",["ḡ",7713]],["H.",["Ḣ",7714]],["h.",["ḣ",7715]],["H:",["Ḧ",7718]],["h:",["ḧ",7719]],["H,",["Ḩ",7720]],["h,",["ḩ",7721]],["K'",["Ḱ",7728]],["k'",["ḱ",7729]],["K_",["Ḵ",7732]],["k_",["ḵ",7733]],["L_",["Ḻ",7738]],["l_",["ḻ",7739]],["M'",["Ḿ",7742]],["m'",["ḿ",7743]],["M.",["Ṁ",7744]],["m.",["ṁ",7745]],["N.",["Ṅ",7748]],["n.",["ṅ",7749]],["N_",["Ṉ",7752]],["n_",["ṉ",7753]],["P'",["Ṕ",7764]],["p'",["ṕ",7765]],["P.",["Ṗ",7766]],["p.",["ṗ",7767]],["R.",["Ṙ",7768]],["r.",["ṙ",7769]],["R_",["Ṟ",7774]],["r_",["ṟ",7775]],["S.",["Ṡ",7776]],["s.",["ṡ",7777]],["T.",["Ṫ",7786]],["t.",["ṫ",7787]],["T_",["Ṯ",7790]],["t_",["ṯ",7791]],["V?",["Ṽ",7804]],["v?",["ṽ",7805]],["W!",["Ẁ",7808]],["W`",["Ẁ",7808]],["w!",["ẁ",7809]],["w`",["ẁ",7809]],["W'",["Ẃ",7810]],["w'",["ẃ",7811]],["W:",["Ẅ",7812]],["w:",["ẅ",7813]],["W.",["Ẇ",7814]],["w.",["ẇ",7815]],["X.",["Ẋ",7818]],["x.",["ẋ",7819]],["X:",["Ẍ",7820]],["x:",["ẍ",7821]],["Y.",["Ẏ",7822]],["y.",["ẏ",7823]],["Z>",["Ẑ",7824]],["z>",["ẑ",7825]],["Z_",["Ẕ",7828]],["z_",["ẕ",7829]],["h_",["ẖ",7830]],["t:",["ẗ",7831]],["w0",["ẘ",7832]],["y0",["ẙ",7833]],["A2",["Ả",7842]],["a2",["ả",7843]],["E2",["Ẻ",7866]],["e2",["ẻ",7867]],["E?",["Ẽ",7868]],["e?",["ẽ",7869]],["I2",["Ỉ",7880]],["i2",["ỉ",7881]],["O2",["Ỏ",7886]],["o2",["ỏ",7887]],["U2",["Ủ",7910]],["u2",["ủ",7911]],["Y!",["Ỳ",7922]],["Y`",["Ỳ",7922]],["y!",["ỳ",7923]],["y`",["ỳ",7923]],["Y2",["Ỷ",7926]],["y2",["ỷ",7927]],["Y?",["Ỹ",7928]],["y?",["ỹ",7929]],[";'",["ἀ",7936]],[",'",["ἁ",7937]],[";!",["ἂ",7938]],[",!",["ἃ",7939]],["?;",["ἄ",7940]],["?,",["ἅ",7941]],["!:",["ἆ",7942]],["?:",["ἇ",7943]],["1N",[" ",8194]],["1M",[" ",8195]],["3M",[" ",8196]],["4M",[" ",8197]],["6M",[" ",8198]],["1T",[" ",8201]],["1H",[" ",8202]],["-1",["‐",8208]],["-N",["–",8211]],["-M",["—",8212]],["-3",["―",8213]],["!2",["‖",8214]],["=2",["‗",8215]],["'6",["‘",8216]],["'9",["’",8217]],[".9",["‚",8218]],["9'",["‛",8219]],['"6',["“",8220]],['"9',["”",8221]],[":9",["„",8222]],['9"',["‟",8223]],["/-",["†",8224]],["/=",["‡",8225]],["oo",["•",8226]],["..",["‥",8229]],[",.",["…",8230]],["%0",["‰",8240]],["1'",["′",8242]],["2'",["″",8243]],["3'",["‴",8244]],["4'",["⁗",8279]],['1"',["‵",8245]],['2"',["‶",8246]],['3"',["‷",8247]],["Ca",["‸",8248]],["<1",["‹",8249]],[">1",["›",8250]],[":X",["※",8251]],["'-",["‾",8254]],["/f",["⁄",8260]],["0S",["⁰",8304]],["4S",["⁴",8308]],["5S",["⁵",8309]],["6S",["⁶",8310]],["7S",["⁷",8311]],["8S",["⁸",8312]],["9S",["⁹",8313]],["+S",["⁺",8314]],["-S",["⁻",8315]],["=S",["⁼",8316]],["(S",["⁽",8317]],[")S",["⁾",8318]],["nS",["ⁿ",8319]],["0s",["₀",8320]],["1s",["₁",8321]],["2s",["₂",8322]],["3s",["₃",8323]],["4s",["₄",8324]],["5s",["₅",8325]],["6s",["₆",8326]],["7s",["₇",8327]],["8s",["₈",8328]],["9s",["₉",8329]],["+s",["₊",8330]],["-s",["₋",8331]],["=s",["₌",8332]],["(s",["₍",8333]],[")s",["₎",8334]],["Li",["₤",8356]],["Pt",["₧",8359]],["W=",["₩",8361]],["=e",["€",8364]],["Eu",["€",8364]],["=R",["₽",8381]],["=P",["₽",8381]],["oC",["℃",8451]],["co",["℅",8453]],["oF",["℉",8457]],["N0",["№",8470]],["PO",["℗",8471]],["Rx",["℞",8478]],["SM",["℠",8480]],["TM",["™",8482]],["Om",["Ω",8486]],["AO",["Å",8491]],["13",["⅓",8531]],["23",["⅔",8532]],["15",["⅕",8533]],["25",["⅖",8534]],["35",["⅗",8535]],["45",["⅘",8536]],["16",["⅙",8537]],["56",["⅚",8538]],["18",["⅛",8539]],["38",["⅜",8540]],["58",["⅝",8541]],["78",["⅞",8542]],["1R",["Ⅰ",8544]],["2R",["Ⅱ",8545]],["3R",["Ⅲ",8546]],["4R",["Ⅳ",8547]],["5R",["Ⅴ",8548]],["6R",["Ⅵ",8549]],["7R",["Ⅶ",8550]],["8R",["Ⅷ",8551]],["9R",["Ⅸ",8552]],["aR",["Ⅹ",8553]],["bR",["Ⅺ",8554]],["cR",["Ⅻ",8555]],["1r",["ⅰ",8560]],["2r",["ⅱ",8561]],["3r",["ⅲ",8562]],["4r",["ⅳ",8563]],["5r",["ⅴ",8564]],["6r",["ⅵ",8565]],["7r",["ⅶ",8566]],["8r",["ⅷ",8567]],["9r",["ⅸ",8568]],["ar",["ⅹ",8569]],["br",["ⅺ",8570]],["cr",["ⅻ",8571]],["<-",["←",8592]],["-!",["↑",8593]],["->",["→",8594]],["-v",["↓",8595]],["<>",["↔",8596]],["UD",["↕",8597]],["<=",["⇐",8656]],["=>",["⇒",8658]],["==",["⇔",8660]],["FA",["∀",8704]],["dP",["∂",8706]],["TE",["∃",8707]],["/0",["∅",8709]],["DE",["∆",8710]],["NB",["∇",8711]],["(-",["∈",8712]],["-)",["∋",8715]],["*P",["∏",8719]],["+Z",["∑",8721]],["-2",["−",8722]],["-+",["∓",8723]],["*-",["∗",8727]],["Ob",["∘",8728]],["Sb",["∙",8729]],["RT",["√",8730]],["0(",["∝",8733]],["00",["∞",8734]],["-L",["∟",8735]],["-V",["∠",8736]],["PP",["∥",8741]],["AN",["∧",8743]],["OR",["∨",8744]],["(U",["∩",8745]],[")U",["∪",8746]],["In",["∫",8747]],["DI",["∬",8748]],["Io",["∮",8750]],[".:",["∴",8756]],[":.",["∵",8757]],[":R",["∶",8758]],["::",["∷",8759]],["?1",["∼",8764]],["CG",["∾",8766]],["?-",["≃",8771]],["?=",["≅",8773]],["?2",["≈",8776]],["=?",["≌",8780]],["HI",["≓",8787]],["!=",["≠",8800]],["=3",["≡",8801]],["=<",["≤",8804]],[">=",["≥",8805]],["<*",["≪",8810]],["*>",["≫",8811]],["!<",["≮",8814]],["!>",["≯",8815]],["(C",["⊂",8834]],[")C",["⊃",8835]],["(_",["⊆",8838]],[")_",["⊇",8839]],["0.",["⊙",8857]],["02",["⊚",8858]],["-T",["⊥",8869]],[".P",["⋅",8901]],[":3",["⋮",8942]],[".3",["⋯",8943]],["Eh",["⌂",8962]],["<7",["⌈",8968]],[">7",["⌉",8969]],["7<",["⌊",8970]],["7>",["⌋",8971]],["NI",["⌐",8976]],["(A",["⌒",8978]],["TR",["⌕",8981]],["Iu",["⌠",8992]],["Il",["⌡",8993]],["</",["〈",9001]],["/>",["〉",9002]],["Vs",["␣",9251]],["1h",["⑀",9280]],["3h",["⑁",9281]],["2h",["⑂",9282]],["4h",["⑃",9283]],["1j",["⑆",9286]],["2j",["⑇",9287]],["3j",["⑈",9288]],["4j",["⑉",9289]],["1.",["⒈",9352]],["2.",["⒉",9353]],["3.",["⒊",9354]],["4.",["⒋",9355]],["5.",["⒌",9356]],["6.",["⒍",9357]],["7.",["⒎",9358]],["8.",["⒏",9359]],["9.",["⒐",9360]],["hh",["─",9472]],["HH",["━",9473]],["vv",["│",9474]],["VV",["┃",9475]],["3-",["┄",9476]],["3_",["┅",9477]],["3!",["┆",9478]],["3/",["┇",9479]],["4-",["┈",9480]],["4_",["┉",9481]],["4!",["┊",9482]],["4/",["┋",9483]],["dr",["┌",9484]],["dR",["┍",9485]],["Dr",["┎",9486]],["DR",["┏",9487]],["dl",["┐",9488]],["dL",["┑",9489]],["Dl",["┒",9490]],["LD",["┓",9491]],["ur",["└",9492]],["uR",["┕",9493]],["Ur",["┖",9494]],["UR",["┗",9495]],["ul",["┘",9496]],["uL",["┙",9497]],["Ul",["┚",9498]],["UL",["┛",9499]],["vr",["├",9500]],["vR",["┝",9501]],["Vr",["┠",9504]],["VR",["┣",9507]],["vl",["┤",9508]],["vL",["┥",9509]],["Vl",["┨",9512]],["VL",["┫",9515]],["dh",["┬",9516]],["dH",["┯",9519]],["Dh",["┰",9520]],["DH",["┳",9523]],["uh",["┴",9524]],["uH",["┷",9527]],["Uh",["┸",9528]],["UH",["┻",9531]],["vh",["┼",9532]],["vH",["┿",9535]],["Vh",["╂",9538]],["VH",["╋",9547]],["FD",["╱",9585]],["BD",["╲",9586]],["TB",["▀",9600]],["LB",["▄",9604]],["FB",["█",9608]],["lB",["▌",9612]],["RB",["▐",9616]],[".S",["░",9617]],[":S",["▒",9618]],["?S",["▓",9619]],["fS",["■",9632]],["OS",["□",9633]],["RO",["▢",9634]],["Rr",["▣",9635]],["RF",["▤",9636]],["RY",["▥",9637]],["RH",["▦",9638]],["RZ",["▧",9639]],["RK",["▨",9640]],["RX",["▩",9641]],["sB",["▪",9642]],["SR",["▬",9644]],["Or",["▭",9645]],["UT",["▲",9650]],["uT",["△",9651]],["PR",["▶",9654]],["Tr",["▷",9655]],["Dt",["▼",9660]],["dT",["▽",9661]],["PL",["◀",9664]],["Tl",["◁",9665]],["Db",["◆",9670]],["Dw",["◇",9671]],["LZ",["◊",9674]],["0m",["○",9675]],["0o",["◎",9678]],["0M",["●",9679]],["0L",["◐",9680]],["0R",["◑",9681]],["Sn",["◘",9688]],["Ic",["◙",9689]],["Fd",["◢",9698]],["Bd",["◣",9699]],["*2",["★",9733]],["*1",["☆",9734]],["<H",["☜",9756]],[">H",["☞",9758]],["0u",["☺",9786]],["0U",["☻",9787]],["SU",["☼",9788]],["Fm",["♀",9792]],["Ml",["♂",9794]],["cS",["♠",9824]],["cH",["♡",9825]],["cD",["♢",9826]],["cC",["♣",9827]],["Md",["♩",9833]],["M8",["♪",9834]],["M2",["♫",9835]],["Mb",["♭",9837]],["Mx",["♮",9838]],["MX",["♯",9839]],["OK",["✓",10003]],["XX",["✗",10007]],["-X",["✠",10016]],["IS",["　",12288]],[",_",["、",12289]],["._",["。",12290]],['+"',["〃",12291]],["+_",["〄",12292]],["*_",["々",12293]],[";_",["〆",12294]],["0_",["〇",12295]],["<+",["《",12298]],[">+",["》",12299]],["<'",["「",12300]],[">'",["」",12301]],['<"',["『",12302]],['>"',["』",12303]],['("',["【",12304]],[')"',["】",12305]],["=T",["〒",12306]],["=_",["〓",12307]],["('",["〔",12308]],[")'",["〕",12309]],["(I",["〖",12310]],[")I",["〗",12311]],["-?",["〜",12316]],["A5",["ぁ",12353]],["a5",["あ",12354]],["I5",["ぃ",12355]],["i5",["い",12356]],["U5",["ぅ",12357]],["u5",["う",12358]],["E5",["ぇ",12359]],["e5",["え",12360]],["O5",["ぉ",12361]],["o5",["お",12362]],["ka",["か",12363]],["ga",["が",12364]],["ki",["き",12365]],["gi",["ぎ",12366]],["ku",["く",12367]],["gu",["ぐ",12368]],["ke",["け",12369]],["ge",["げ",12370]],["ko",["こ",12371]],["go",["ご",12372]],["sa",["さ",12373]],["za",["ざ",12374]],["si",["し",12375]],["zi",["じ",12376]],["su",["す",12377]],["zu",["ず",12378]],["se",["せ",12379]],["ze",["ぜ",12380]],["so",["そ",12381]],["zo",["ぞ",12382]],["ta",["た",12383]],["da",["だ",12384]],["ti",["ち",12385]],["di",["ぢ",12386]],["tU",["っ",12387]],["tu",["つ",12388]],["du",["づ",12389]],["te",["て",12390]],["de",["で",12391]],["to",["と",12392]],["do",["ど",12393]],["na",["な",12394]],["ni",["に",12395]],["nu",["ぬ",12396]],["ne",["ね",12397]],["no",["の",12398]],["ha",["は",12399]],["ba",["ば",12400]],["pa",["ぱ",12401]],["hi",["ひ",12402]],["bi",["び",12403]],["pi",["ぴ",12404]],["hu",["ふ",12405]],["bu",["ぶ",12406]],["pu",["ぷ",12407]],["he",["へ",12408]],["be",["べ",12409]],["pe",["ぺ",12410]],["ho",["ほ",12411]],["bo",["ぼ",12412]],["po",["ぽ",12413]],["ma",["ま",12414]],["mi",["み",12415]],["mu",["む",12416]],["me",["め",12417]],["mo",["も",12418]],["yA",["ゃ",12419]],["ya",["や",12420]],["yU",["ゅ",12421]],["yu",["ゆ",12422]],["yO",["ょ",12423]],["yo",["よ",12424]],["ra",["ら",12425]],["ri",["り",12426]],["ru",["る",12427]],["re",["れ",12428]],["ro",["ろ",12429]],["wA",["ゎ",12430]],["wa",["わ",12431]],["wi",["ゐ",12432]],["we",["ゑ",12433]],["wo",["を",12434]],["n5",["ん",12435]],["vu",["ゔ",12436]],['"5',["゛",12443]],["05",["゜",12444]],["*5",["ゝ",12445]],["+5",["ゞ",12446]],["a6",["ァ",12449]],["A6",["ア",12450]],["i6",["ィ",12451]],["I6",["イ",12452]],["u6",["ゥ",12453]],["U6",["ウ",12454]],["e6",["ェ",12455]],["E6",["エ",12456]],["o6",["ォ",12457]],["O6",["オ",12458]],["Ka",["カ",12459]],["Ga",["ガ",12460]],["Ki",["キ",12461]],["Gi",["ギ",12462]],["Ku",["ク",12463]],["Gu",["グ",12464]],["Ke",["ケ",12465]],["Ge",["ゲ",12466]],["Ko",["コ",12467]],["Go",["ゴ",12468]],["Sa",["サ",12469]],["Za",["ザ",12470]],["Si",["シ",12471]],["Zi",["ジ",12472]],["Su",["ス",12473]],["Zu",["ズ",12474]],["Se",["セ",12475]],["Ze",["ゼ",12476]],["So",["ソ",12477]],["Zo",["ゾ",12478]],["Ta",["タ",12479]],["Da",["ダ",12480]],["Ti",["チ",12481]],["Di",["ヂ",12482]],["TU",["ッ",12483]],["Tu",["ツ",12484]],["Du",["ヅ",12485]],["Te",["テ",12486]],["De",["デ",12487]],["To",["ト",12488]],["Do",["ド",12489]],["Na",["ナ",12490]],["Ni",["ニ",12491]],["Nu",["ヌ",12492]],["Ne",["ネ",12493]],["No",["ノ",12494]],["Ha",["ハ",12495]],["Ba",["バ",12496]],["Pa",["パ",12497]],["Hi",["ヒ",12498]],["Bi",["ビ",12499]],["Pi",["ピ",12500]],["Hu",["フ",12501]],["Bu",["ブ",12502]],["Pu",["プ",12503]],["He",["ヘ",12504]],["Be",["ベ",12505]],["Pe",["ペ",12506]],["Ho",["ホ",12507]],["Bo",["ボ",12508]],["Po",["ポ",12509]],["Ma",["マ",12510]],["Mi",["ミ",12511]],["Mu",["ム",12512]],["Me",["メ",12513]],["Mo",["モ",12514]],["YA",["ャ",12515]],["Ya",["ヤ",12516]],["YU",["ュ",12517]],["Yu",["ユ",12518]],["YO",["ョ",12519]],["Yo",["ヨ",12520]],["Ra",["ラ",12521]],["Ri",["リ",12522]],["Ru",["ル",12523]],["Re",["レ",12524]],["Ro",["ロ",12525]],["WA",["ヮ",12526]],["Wa",["ワ",12527]],["Wi",["ヰ",12528]],["We",["ヱ",12529]],["Wo",["ヲ",12530]],["N6",["ン",12531]],["Vu",["ヴ",12532]],["KA",["ヵ",12533]],["KE",["ヶ",12534]],["Va",["ヷ",12535]],["Vi",["ヸ",12536]],["Ve",["ヹ",12537]],["Vo",["ヺ",12538]],[".6",["・",12539]],["-6",["ー",12540]],["*6",["ヽ",12541]],["+6",["ヾ",12542]],["b4",["ㄅ",12549]],["p4",["ㄆ",12550]],["m4",["ㄇ",12551]],["f4",["ㄈ",12552]],["d4",["ㄉ",12553]],["t4",["ㄊ",12554]],["n4",["ㄋ",12555]],["l4",["ㄌ",12556]],["g4",["ㄍ",12557]],["k4",["ㄎ",12558]],["h4",["ㄏ",12559]],["j4",["ㄐ",12560]],["q4",["ㄑ",12561]],["x4",["ㄒ",12562]],["zh",["ㄓ",12563]],["ch",["ㄔ",12564]],["sh",["ㄕ",12565]],["r4",["ㄖ",12566]],["z4",["ㄗ",12567]],["c4",["ㄘ",12568]],["s4",["ㄙ",12569]],["a4",["ㄚ",12570]],["o4",["ㄛ",12571]],["e4",["ㄜ",12572]],["ai",["ㄞ",12574]],["ei",["ㄟ",12575]],["au",["ㄠ",12576]],["ou",["ㄡ",12577]],["an",["ㄢ",12578]],["en",["ㄣ",12579]],["aN",["ㄤ",12580]],["eN",["ㄥ",12581]],["er",["ㄦ",12582]],["i4",["ㄧ",12583]],["u4",["ㄨ",12584]],["iu",["ㄩ",12585]],["v4",["ㄪ",12586]],["nG",["ㄫ",12587]],["gn",["ㄬ",12588]],["1c",["㈠",12832]],["2c",["㈡",12833]],["3c",["㈢",12834]],["4c",["㈣",12835]],["5c",["㈤",12836]],["6c",["㈥",12837]],["7c",["㈦",12838]],["8c",["㈧",12839]],["9c",["㈨",12840]],["ff",["ﬀ",64256]],["fi",["ﬁ",64257]],["fl",["ﬂ",64258]],["ft",["ﬅ",64261]],["st",["ﬆ",64262]]])},2064:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const c=a(r(1398)),u=r(9253),l=r(9359),d=r(4575),h=r(5682);class f extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.Normal,l.Mode.Visual,l.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){const r=t.recordedState.count||1,n=void 0!==this.direction?{levels:r,direction:this.direction}:void 0;t.recordedState.transformer.vscodeCommand(this.commandName,n),await t.setCurrentMode(l.Mode.Normal)}}let p=class extends f{constructor(){super(...arguments),this.keys=["z","a"],this.commandName="editor.toggleFold"}};p=s([d.RegisterAction],p);let m=class extends f{constructor(){super(...arguments),this.keys=["z","c"],this.commandName="editor.fold",this.direction="up"}};m=s([d.RegisterAction],m);let g=class extends f{constructor(){super(...arguments),this.keys=["z","M"],this.commandName="editor.foldAll"}};g=s([d.RegisterAction],g);let v=class extends f{constructor(){super(...arguments),this.keys=["z","o"],this.commandName="editor.unfold",this.direction="down"}};v=s([d.RegisterAction],v);let y=class extends f{constructor(){super(...arguments),this.keys=["z","R"],this.commandName="editor.unfoldAll"}};y=s([d.RegisterAction],y);let b=class extends f{constructor(){super(...arguments),this.modes=[l.Mode.Normal],this.keys=["z","C"],this.commandName="editor.foldRecursively"}};b=s([d.RegisterAction],b);let w=class extends f{constructor(){super(...arguments),this.modes=[l.Mode.Normal],this.keys=["z","O"],this.commandName="editor.unfoldRecursively"}};w=s([d.RegisterAction],w);let x=class extends h.BaseOperator{constructor(){super(...arguments),this.modes=[l.Mode.Normal,l.Mode.Visual],this.keys=["z","f"],this.commandName="editor.createFoldingRangeFromSelection"}async run(e,t,r){const n=e.lastVisualSelection;e.editor.selection=new c.Selection(t,r),await c.commands.executeCommand(this.commandName),e.lastVisualSelection=n,e.cursors=[new u.Cursor(t,t)],await e.setCurrentMode(l.Mode.Normal)}};x=s([d.RegisterAction],x);let S=class extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.Normal,l.Mode.Visual],this.keys=["z","d"],this.commandName="editor.removeManualFoldingRanges"}async exec(e,t){await c.commands.executeCommand(this.commandName);const r=t.currentMode===l.Mode.Visual?t.editor.selection.start:e;t.cursors=[new u.Cursor(r,r)],await t.setCurrentMode(l.Mode.Normal)}};S=s([d.RegisterAction],S)},3210:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.InsertCharBelow=t.InsertCharAbove=t.CommandInsertInInsertMode=t.CommandBackspaceInInsertMode=t.CommandInsertPreviousText=t.CommandEscInsertMode=void 0;const c=a(r(1398)),u=r(5014),l=r(4546),d=r(7371),h=r(6275),f=r(8469),p=r(8104),m=r(7183),g=r(9359),v=r(6007),y=r(7892),b=r(4575),w=r(8800),x=r(5928),S=r(4905);let M=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){c.commands.executeCommand("closeParameterHints"),t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getLeft()))),t.returnToInsertAfterCommand&&0!==e.character&&(t.cursors=t.cursors.map((e=>e.withNewStop(e.stop.getRight()))));const r=t.recordedState.actionsRun[t.recordedState.actionsRun.length-2];if("plaintext"!==t.document.languageId&&(r instanceof x.CommandInsertNewLineBefore||r instanceof x.CommandInsertNewLineAbove||r instanceof x.DocumentContentChangeAction&&"\n"===r.keysPressed[r.keysPressed.length-1]))for(const e of t.cursors){const r=t.document.lineAt(e.stop);r.text.length>0&&r.isEmptyOrWhitespace&&t.recordedState.transformer.delete(r.range)}if(await t.setCurrentMode(g.Mode.Normal),t.recordedState.count>1&&void 0!==t.recordedState.actionsRun.find((e=>e instanceof x.CommandInsertAtCursor||e instanceof x.CommandInsertAfterCursor||e instanceof x.CommandInsertAtLineBegin||e instanceof x.CommandInsertAtLineEnd||e instanceof x.CommandInsertAtFirstCharacter||e instanceof x.CommandInsertAtLastChange))){const e=t.recordedState.actionsRun.slice().reverse().find((e=>e instanceof x.DocumentContentChangeAction));if(e instanceof x.DocumentContentChangeAction)for(let r=0;r<t.recordedState.count-1;r++){const n=r===t.recordedState.count-2?p.PositionDiff.offset({character:-1}):p.PositionDiff.identity();t.recordedState.transformer.addTransformation(e.getTransformation(n))}}t.historyTracker.currentContentChanges.length>0&&(t.historyTracker.currentContentChanges=[]),t.isFakeMultiCursor&&(t.cursors=[t.cursors[0]],t.isFakeMultiCursor=!1)}};t.CommandEscInsertMode=M,t.CommandEscInsertMode=M=s([b.RegisterAction],M);let C=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-a>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){const r=await v.Register.get(".");if(!(void 0!==r&&r.text instanceof d.RecordedState&&r.text.actionsRun))throw l.VimError.fromCode(l.ErrorCode.NoInsertedTextYet);const n=r.text.clone();n.actionsRun.shift(),n.actionsRun.pop(),n.actionsRun?.[0]instanceof w.ArrowsInInsertMode&&n.actionsRun.shift(),t.recordedState.transformer.addTransformation({type:"replayRecordedState",count:1,recordedState:n})}};t.CommandInsertPreviousText=C,t.CommandInsertPreviousText=C=s([b.RegisterAction],C);let _=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-shift+2>"]}async exec(e,t){await(new C).exec(e,t),await t.setCurrentMode(g.Mode.Normal)}};_=s([b.RegisterAction],_);class P extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert]}async exec(e,t){const r=t.document.lineAt(e),n=Number(t.editor.options.tabSize),i=y.TextEditor.getIndentationLevel(r.text,n),o=(Math.floor(i/n)+this.delta)*n;t.recordedState.transformer.replace(new c.Range(e.getLineBegin(),e.with({character:r.firstNonWhitespaceCharacterIndex})),y.TextEditor.setIndentationLevel(r.text,o,t.editor.options.insertSpaces).match(/^(\s*)/)[1])}}let k=class extends P{constructor(){super(...arguments),this.keys=["<C-t>"],this.delta=1}};k=s([b.RegisterAction],k);let R=class extends P{constructor(){super(...arguments),this.keys=["<C-d>"],this.delta=-1}};R=s([b.RegisterAction],R);let E=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=[["<BS>"],["<C-h>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.vscodeCommand("deleteLeft")}};t.CommandBackspaceInInsertMode=E,t.CommandBackspaceInInsertMode=E=s([b.RegisterAction],E);let A=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<Del>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){t.recordedState.transformer.vscodeCommand("deleteRight")}};A=s([b.RegisterAction],A);let O=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];let n=r;if(1===r.length){const e=t.modeData.mode===g.Mode.Insert?t.modeData.highSurrogate:void 0;if((0,f.isHighSurrogate)(r.charCodeAt(0))){if(await t.setModeData({mode:g.Mode.Insert,highSurrogate:r}),void 0===e)return;n=e}else(0,f.isLowSurrogate)(r.charCodeAt(0))&&void 0!==e&&(n=e+r),await t.setModeData({mode:g.Mode.Insert,highSurrogate:void 0})}t.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:n,isMultiCursor:t.isMultiCursor})}toString(){return this.keysPressed[this.keysPressed.length-1]}};t.CommandInsertInInsertMode=O,t.CommandInsertInInsertMode=O=s([b.RegisterAction],O);let T=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-k>","<any>","<any>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed.slice(1,3).join(""),n=r.split("").reverse().join("");let i=(S.DefaultDigraphs.get(r)||S.DefaultDigraphs.get(n)||m.configuration.digraphs[r]||m.configuration.digraphs[n])[1];i instanceof Array||(i=[i]);const o=String.fromCharCode(...i);t.recordedState.transformer.insert(e,o)}doesActionApply(e,t){if(!super.doesActionApply(e,t))return!1;const r=t.slice(1,3).join(""),n=r.split("").reverse().join("");return r in m.configuration.digraphs||n in m.configuration.digraphs||S.DefaultDigraphs.has(r)||S.DefaultDigraphs.has(n)}couldActionApply(e,t){if(!super.couldActionApply(e,t))return!1;const r=t.slice(1,t.length).join(""),n=r.split("").reverse().join("");if(r.length>0){const e=e=>{const t=e.substring(0,r.length);return r===t||n===t};return void 0!==(Object.keys(m.configuration.digraphs).find(e)||[...S.DefaultDigraphs.keys()].find(e))}return!0}};T=s([b.RegisterAction],T);let L=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-r>","<character>"],this.isCompleteAction=!1}async exec(e,t){const r=this.keysPressed[1];if(!v.Register.isValidRegister(r))return;const n=await v.Register.get(r,this.multicursorIndex);if(void 0===n)return void h.StatusBar.displayError(t,l.VimError.fromCode(l.ErrorCode.NothingInRegister,r));if(n.text instanceof d.RecordedState)return void t.recordedState.transformer.addTransformation({type:"macro",register:t.recordedState.registerName,replay:"keystrokes"});let i=n.text;n.registerMode!==v.RegisterMode.LineWise||t.isMultiCursor||(i+="\n"),t.recordedState.transformer.insert(e,i)}};L=s([b.RegisterAction],L);let B=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-o>"]}async exec(e,t){t.returnToInsertAfterCommand=!0,t.actionCount=0,await(new M).exec(e,t)}};B=s([b.RegisterAction],B);let $=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-w>"]}async exec(e,t){if(e.isAtDocumentBegin())return;let r;r=e.isInLeadingWhitespace(t.document)?e.getLineBegin():e.isLineBeginning()?e.getUp().getLineEnd():e.prevWordStart(t.document),t.recordedState.transformer.delete(new c.Range(r,e)),t.cursorStopPosition=r}};$=s([b.RegisterAction],$);let I=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-y>"]}async exec(e,t){if(0===e.line)return;const r=e.getUp();if(r.isLineEnd())return;const n=t.document.getText(new c.Range(r,r.getRight()));t.recordedState.transformer.insert(e,n)}};t.InsertCharAbove=I,t.InsertCharAbove=I=s([b.RegisterAction],I);let j=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-e>"]}async exec(e,t){if(e.line>=t.document.lineCount-1)return;const r=e.getDown();if(r.isLineEnd())return;const n=t.document.getText(new c.Range(r,r.getRight()));t.recordedState.transformer.insert(e,n)}};t.InsertCharBelow=j,t.InsertCharBelow=j=s([b.RegisterAction],j);let N=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-u>"]}async exec(e,t){let r;r=0===e.character?e.getLeftThroughLineBreaks(!0):e.isInLeadingWhitespace(t.document)?e.getLineBegin():e.getLineBeginRespectingIndent(t.document),t.recordedState.transformer.delete(new c.Range(r,e)),t.cursorStopPosition=r,t.cursorStartPosition=r}};N=s([b.RegisterAction],N);let D=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=[["<C-n>"],["<C-j>"]]}runsOnceForEveryCursor(){return!1}async exec(e,t){await c.commands.executeCommand("selectNextSuggestion")}};D=s([b.RegisterAction],D);let V=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-p>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await c.commands.executeCommand("selectPrevSuggestion")}};V=s([b.RegisterAction],V);let F=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-v>"]}async exec(e,t){const r=await v.Register.get("*",this.multicursorIndex),n=r?.text instanceof d.RecordedState?void 0:r?.text;n&&t.recordedState.transformer.insert(t.cursorStopPosition,n)}};F=s([b.RegisterAction],F);let W=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-x>","<C-l>"]}runsOnceForEveryCursor(){return!1}async exec(e,t){await u.lineCompletionProvider.showLineCompletionsQuickPick(e,t)}};W=s([b.RegisterAction],W);let U=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=[["<C-j>"],["<C-m>"]]}async exec(e,t){t.recordedState.transformer.insert(e,"\n",p.PositionDiff.offset({character:-1}))}};U=s([b.RegisterAction],U);let q=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<Insert>"]}async exec(e,t){await(new x.CommandReplaceAtCursorFromNormalMode).exec(e,t)}};q=s([b.RegisterAction],q);let K=class extends b.BaseCommand{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=["<C-g>","u"]}async exec(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep()}};K=s([b.RegisterAction],K)},4684:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1398),o=r(9253),s=r(8104),a=r(7183),c=r(9359),u=r(6007),l=r(7892),d=r(4735),h=r(4575);let f=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.Normal],this.keys=["J"],this.createsUndoPoint=!0,this.runsOnceForEachCountPrefix=!1}async execJoinLines(e,t,r,n){n=n-1||1;const o=a.configuration.joinspaces;let u,d;e.isEqual(t)||e.line===t.line?t.line+1<r.document.lineCount?(u=t.line,d=t.getDown(n).line):(u=t.line,d=t.line):(u=e.line,d=t.line);let h=r.document.lineAt(e).text,f=0;for(let e=u+1;e<=d;e++){const t=r.document.lineAt(e);if(t.firstNonWhitespaceCharacterIndex<t.text.length){let e=" ";""===h||h.endsWith("\t")?e="":o&&(h.endsWith(".")||h.endsWith("!")||h.endsWith("?"))?e="  ":o&&(h.endsWith(". ")||h.endsWith("! ")||h.endsWith("? "))?e=" ":h.endsWith(" ")&&(e="");const r=t.text.substring(t.firstNonWhitespaceCharacterIndex);")"===r.charAt(0)&&(e=""),h+=e+r,f=r.length+e.length}}const p=new i.Position(u,0),m=new i.Position(d,l.TextEditor.getLineLength(d));p.isEqual(m)||(e.isEqual(t)?r.recordedState.transformer.addTransformation({type:"replaceText",text:h,range:new i.Range(p,m),diff:s.PositionDiff.offset({character:h.length-f-t.character})}):(r.recordedState.transformer.addTransformation({type:"replaceText",text:h,range:new i.Range(p,m),manuallySetCursorPositions:!0}),r.cursorStartPosition=r.cursorStopPosition=new i.Position(e.line,h.length-f),await r.setCurrentMode(c.Mode.Normal)))}async execCount(e,t){const r=t.cursors.map((e=>new o.Cursor(e.start,e.stop))).sort(((e,t)=>e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>t.start.character?1:-1)),n=[];for(const[e,{start:i,stop:s}]of r.entries()){this.multicursorIndex=e,t.cursorStopPosition=s,t.cursorStartPosition=i,await this.execJoinLines(i,s,t,t.recordedState.count||1),n.push(new o.Cursor(t.cursorStartPosition,t.cursorStopPosition));for(const e of t.recordedState.transformer.transformations)(0,d.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=this.multicursorIndex)}t.cursors=n}};f=n([h.RegisterAction],f);let p=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.Visual,c.Mode.VisualLine],this.keys=["J"]}async exec(e,t){const[r,n]=(0,s.sorted)(t.editor.selection.start,t.editor.selection.end);t.currentRegisterMode=u.RegisterMode.CharacterWise,await(new f).execJoinLines(r,n,t,1)}};p=n([h.RegisterAction],p);let m=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.VisualBlock],this.keys=["J"]}async exec(e,t){const[r,n]=(0,s.sorted)(t.cursorStartPosition,t.cursorStopPosition);t.currentRegisterMode=u.RegisterMode.CharacterWise,await(new f).execJoinLines(r,n,t,1)}};m=n([h.RegisterAction],m);let g=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.Normal],this.keys=["g","J"],this.createsUndoPoint=!0}async exec(e,t){if(e.line===t.document.lineCount-1)return;const r=t.recordedState.count>2?t.recordedState.count-1:1;await this.execJoin(r,e,t)}async execJoin(e,t,r){const n=new i.Range(new i.Position(t.line,0),new i.Position(Math.min(t.line+e,r.document.lineCount-1),0).getLineEnd()),o=r.document.getText(n).replace(/\r?\n/g,""),a=o.length-r.document.lineAt(n.end).text.length;r.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:o,diff:s.PositionDiff.exactCharacter({character:a})})}};g=n([h.RegisterAction],g);let v=class extends h.BaseCommand{constructor(){super(...arguments),this.modes=[c.Mode.Visual,c.Mode.VisualLine,c.Mode.VisualBlock],this.keys=["g","J"]}async exec(e,t){const[r,n]=(0,s.sorted)(t.cursorStartPosition,t.cursorStopPosition),i=r.line===n.line?1:n.line-r.line;await(new g).execJoin(i,r,t),await t.setCurrentMode(c.Mode.Normal)}};v=n([h.RegisterAction],v)},1958:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PutBeforeFromCmdLine=t.PutFromCmdLine=void 0;const c=a(r(1398)),u=r(1398),l=r(8104),d=r(7183),h=r(9359),f=r(6007),p=r(7371),m=r(7892),g=r(384),v=r(4575),y=r(6275),b=r(4546);function w(e){return e.match(/\S/)?.index??0}class x extends v.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.createsUndoPoint=!0,this.overwritesRegisterWithSelection=!0}async exec(e,t){const r=await f.Register.get(t.recordedState.registerName,this.multicursorIndex);if(void 0===r)return void y.StatusBar.displayError(t,b.VimError.fromCode(b.ErrorCode.NothingInRegister,t.recordedState.registerName));const n=t.recordedState.count||1,i=t.currentMode===h.Mode.CommandlineInProgress?h.Mode.Normal:t.currentMode,o=this.getRegisterMode(r),s=this.getReplaceRange(i,t.cursors[0],o);let a=this.getRegisterText(i,r,n);if(this.shouldAdjustIndent(i,o)){let r;if(i===h.Mode.VisualLine){const[e,n]=(0,l.sorted)(t.cursorStartPosition,t.cursorStopPosition);n.line<t.document.lineCount-1?r=n.line+1:e.line>0&&(r=e.line-1)}else r=e.line;a=this.adjustIndent(void 0!==r?t.document.lineAt(r).text:"",a)}const c=this.getCursorPosition({document:t.document,returnToInsertAfterCommand:t.returnToInsertAfterCommand,mode:i,replaceRange:s,registerMode:o,count:n,text:a});t.recordedState.transformer.moveCursor(l.PositionDiff.exactPosition(c),this.multicursorIndex??0),o===f.RegisterMode.LineWise&&(a=this.adjustLinewiseRegisterText(i,a));for(const e of this.getTransformations(t.document,i,s,o,a))t.recordedState.transformer.addTransformation(e);(0,h.isVisualMode)(i)&&!t.isMultiCursor&&(t.lastVisualSelection={mode:i,start:s.start,end:s.start.advancePositionByText(a)},this.overwritesRegisterWithSelection&&(t.recordedState.registerName=d.configuration.useSystemClipboard?"*":'"',f.Register.put(t,t.document.getText(s),this.multicursorIndex,!0)));let u=a.split("\n").length;o===f.RegisterMode.LineWise&&u--,(0,g.reportLinesChanged)(u,t),(!t.isMultiCursor||t.cursors.length-1===this.multicursorIndex)&&await t.setCurrentMode(h.Mode.Normal)}getRegisterText(e,t,r){if(t.text instanceof p.RecordedState)return t.text.actionsRun.map((e=>e.keysPressed.join(""))).join("").repeat(r);if(t.registerMode===f.RegisterMode.CharacterWise)return e===h.Mode.VisualLine?Array(r).fill(t.text).join("\n"):t.text.repeat(r);if(t.registerMode===f.RegisterMode.LineWise||e===h.Mode.VisualLine)return Array(r).fill(t.text).join("\n");if(t.registerMode===f.RegisterMode.BlockWise){const e=t.text.split("\n"),n=Math.max(...e.map((e=>e.length)));return e.map((e=>{const t=n-e.length;return(e+" ".repeat(t)).repeat(r-1)+e})).join("\n")}throw new Error(`Unexpected RegisterMode ${t.registerMode}`)}adjustIndent(e,t){const r=t.split("\n"),n=d.configuration.tabstop,i=m.TextEditor.getIndentationLevel(e,n),o=m.TextEditor.getIndentationLevel(r[0],n);return r.map((e=>{const t=m.TextEditor.getIndentationLevel(e,n)-o+i;return m.TextEditor.setIndentationLevel(e,t,d.configuration.expandtab)})).join("\n")}getTransformations(e,t,r,n,i){if(n===f.RegisterMode.BlockWise&&t!==h.Mode.VisualLine){const n=[],o=i.split("\n"),s=Math.max(o.length,r.end.line-r.start.line+1),a=Math.max(...o.map((e=>e.length)));let u=0;for(let i=0;i<s;i++){const s=o[i]??"";let l;if(t===h.Mode.VisualBlock)if(r.start.line+i>r.end.line){const e=r.start.with({line:r.start.line+i});l=new c.Range(e,e)}else l=new c.Range(r.start.with({line:r.start.line+i}),r.end.with({line:r.start.line+i}));else if(i>0){const e=r.start.with({line:r.start.line+i+u});l=new c.Range(e,e)}else l=new c.Range(r.start,r.end),u=e.getText(l).split("\n").length-1;const d=r.start.line+i;if(d>e.lineCount-1)n.push({type:"replaceText",range:l,text:"\n"+" ".repeat(r.start.character)+s});else{const i=e.lineAt(d).text.length,o=Math.max(r.start.character-i,0);let c=0;t!==h.Mode.VisualBlock&&(d<=r.end.line&&r.end.character<i||d>r.end.line&&r.start.character<i)&&(c=a-s.length),n.push({type:"replaceText",range:l,text:" ".repeat(o)+s+" ".repeat(c)})}}return n}if(t===h.Mode.Normal||t===h.Mode.Visual||t===h.Mode.VisualLine)return[{type:"replaceText",range:r,text:i}];if(t===h.Mode.VisualBlock){const e=[];if(n===f.RegisterMode.CharacterWise)for(let t=r.start.line;t<=r.end.line;t++){const n=new c.Range(new u.Position(t,r.start.character),new u.Position(t,r.end.character)),o=i.includes("\n")&&t!==r.start.line?"":i;e.push({type:"replaceText",range:n,text:o})}else{if(n!==f.RegisterMode.LineWise)throw new Error(`Unexpected RegisterMode ${n}`);{for(let t=r.start.line;t<=r.end.line;t++){const n=new c.Range(new u.Position(t,r.start.character),new u.Position(t,r.end.character));e.push({type:"replaceText",range:n,text:""})}const t=this.putBefore()?new u.Position(r.start.line,0):new u.Position(r.end.line,0).getLineEnd();e.push({type:"replaceText",range:new c.Range(t,t),text:i})}}return e}throw new Error(`Unexpected Mode ${t}`)}}let S=class extends x{constructor(){super(...arguments),this.keys=["p"]}putBefore(){return!1}getRegisterMode(e){return e.registerMode}getReplaceRange(e,t,r){if(e===h.Mode.Normal){let e;if(r===f.RegisterMode.CharacterWise||r===f.RegisterMode.BlockWise)e=t.stop.getRight();else{if(r!==f.RegisterMode.LineWise)throw new Error(`Unexpected RegisterMode ${r}`);e=t.stop.getLineEnd()}return new c.Range(e,e)}if(e===h.Mode.Visual){const[e,r]=(0,l.sorted)(t.start,t.stop);return new c.Range(e,r.getRight())}if(e===h.Mode.VisualLine){const[e,r]=(0,l.sorted)(t.start,t.stop);return new c.Range(e.getLineBegin(),r.getLineEnd())}{const[e,r]=(0,l.sorted)(t.start,t.stop);return new c.Range(e,r.getRight())}}adjustLinewiseRegisterText(e,t){return e===h.Mode.Normal||e===h.Mode.VisualBlock?"\n"+t:e===h.Mode.Visual?"\n"+t+"\n":t}shouldAdjustIndent(e,t){return!1}getCursorPosition({mode:e,replaceRange:t,registerMode:r,text:n,returnToInsertAfterCommand:i}){const o=t.start;if(e===h.Mode.Normal||e===h.Mode.Visual){if(r===f.RegisterMode.CharacterWise)return n.includes("\n")?o:i?o.advancePositionByText(n):o.advancePositionByText(n).getLeft();if(r===f.RegisterMode.LineWise)return new u.Position(o.line+1,w(n));if(r===f.RegisterMode.BlockWise)return o;throw new Error(`Unexpected RegisterMode ${r}`)}if(e===h.Mode.VisualLine)return o.with({character:w(n)});if(e===h.Mode.VisualBlock)return r===f.RegisterMode.LineWise?new u.Position(t.end.line+1,w(n)):r===f.RegisterMode.BlockWise?o:o.with({character:o.character+n.length-1});throw new Error(`Unexpected Mode ${e}`)}};S=s([v.RegisterAction],S);let M=class extends S{constructor(){super(...arguments),this.keys=["P"],this.overwritesRegisterWithSelection=!1}putBefore(){return!0}adjustLinewiseRegisterText(e,t){return e===h.Mode.Normal||e===h.Mode.VisualBlock?t+"\n":super.adjustLinewiseRegisterText(e,t)}getReplaceRange(e,t,r){if(e===h.Mode.Normal){if(r===f.RegisterMode.CharacterWise||r===f.RegisterMode.BlockWise){const e=t.stop;return new c.Range(e,e)}if(r===f.RegisterMode.LineWise){const e=t.stop.getLineBegin();return new c.Range(e,e)}}return super.getReplaceRange(e,t,r)}getCursorPosition({mode:e,replaceRange:t,text:r,registerMode:n,...i}){const o=t.start;return e!==h.Mode.Normal&&e!==h.Mode.VisualBlock||n!==f.RegisterMode.LineWise?super.getCursorPosition({mode:e,replaceRange:t,text:r,registerMode:n,...i}):o.with({character:w(r)})}};function C(e){return class extends e{getCursorPosition({document:e,mode:t,replaceRange:r,registerMode:n,count:i,text:o,...s}){const a=r.start;if(t===h.Mode.Normal||t===h.Mode.Visual){if(n===f.RegisterMode.CharacterWise)return o.includes("\n")&&(o=o.slice(0,o.length/i)),a.advancePositionByText(o);if(n===f.RegisterMode.LineWise){let r=a.line+o.split("\n").length;return(t===h.Mode.Visual||!this.putBefore()&&a.line<e.lineCount-1)&&r++,new u.Position(r,0)}if(n===f.RegisterMode.BlockWise){const e=o.split("\n"),t=a.line+e.length-1,r=Math.max(...e.map((e=>e.length)));return new u.Position(t,a.character+r)}}else{if(t===h.Mode.VisualLine)return new u.Position(a.line+o.split("\n").length,0);if(t===h.Mode.VisualBlock){const e=o.split("\n");return n===f.RegisterMode.LineWise?this.putBefore()?new u.Position(a.line+e.length,0):new u.Position(r.end.line+e.length+1,0):n===f.RegisterMode.BlockWise?new u.Position(r.start.line+e.length-1,r.start.character+e[e.length-1].length):a.with({character:a.character+o.length})}}return super.getCursorPosition({document:e,mode:t,replaceRange:r,registerMode:n,count:i,text:o,...s})}}}M=s([v.RegisterAction],M);let _=class extends S{constructor(){super(...arguments),this.keys=["g","p"]}};_=s([v.RegisterAction,C],_);let P=class extends M{constructor(){super(...arguments),this.keys=["g","P"],this.overwritesRegisterWithSelection=!0}};function k(e){return class extends e{shouldAdjustIndent(e,t){return(e===h.Mode.Normal||e===h.Mode.VisualLine)&&t===f.RegisterMode.LineWise}}}P=s([v.RegisterAction,C],P);let R=class extends S{constructor(){super(...arguments),this.keys=["]","p"]}};R=s([v.RegisterAction,k],R);let E=class extends M{constructor(){super(...arguments),this.keys=[["[","P"],["]","P"],["[","p"]]}};function A(e){return class extends e{setInsertionLine(e){this.insertLine=e}getRegisterMode(e){return f.RegisterMode.LineWise}getReplaceRange(e,t,r){const n=this.insertLine??(0,l.laterOf)(t.start,t.stop).line,i=this.putBefore()?new u.Position(n,0):new u.Position(n,0).getLineEnd();return new c.Range(i,i)}getCursorPosition({replaceRange:e,text:t}){const r=t.split("\n");return new u.Position(e.start.line+r.length-(this.putBefore()?1:0),w(r[r.length-1]))}}}E=s([v.RegisterAction,k],E),t.PutFromCmdLine=A(S),t.PutBeforeFromCmdLine=A(M)},1775:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(1398),o=r(8104),s=r(9359),a=r(4575);let c=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=[["<Esc>"],["<C-c>"],["<C-[>"]]}async exec(e,t){if(t.modeData.mode!==s.Mode.Replace)throw new Error(`Unexpected mode ${t.modeData.mode} in ExitReplaceMode`);const r=t.modeData.replaceState.timesToRepeat,n=this.multicursorIndex??0,o=t.modeData.replaceState.getChanges(n);if(o&&r>1){const n=o.map((e=>e.after)).join("").repeat(r-1);t.recordedState.transformer.replace(new i.Range(e,e.getRight(n.length)),n)}else t.cursorStopPosition=t.cursorStopPosition.getLeft();this.multicursorIndex===t.cursors.length-1&&await t.setCurrentMode(s.Mode.Normal)}};c=n([a.RegisterAction],c);let u=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<Insert>"]}async exec(e,t){await t.setCurrentMode(s.Mode.Insert)}};u=n([a.RegisterAction],u);let l=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=[["<BS>"],["<S-BS>"],["<C-BS>"],["<C-h>"]]}async exec(e,t){if(t.modeData.mode!==s.Mode.Replace)throw new Error(`Unexpected mode ${t.modeData.mode} in BackspaceInReplaceMode`);const r=this.multicursorIndex??0,n=t.modeData.replaceState.getChanges(r);if(0===n.length){const n=e.getLeftThroughLineBreaks();t.modeData.replaceState.resetChanges(r),t.cursorStopPosition=n,t.cursorStartPosition=n}else{const{before:r}=n.pop();""===r?t.recordedState.transformer.addTransformation({type:"deleteRange",range:new i.Range(e.getLeftThroughLineBreaks(),e)}):t.recordedState.transformer.addTransformation({type:"replaceText",text:r,range:new i.Range(e.getLeft(),e),diff:o.PositionDiff.offset({character:-1})})}}};l=n([a.RegisterAction],l);let d=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<Del>"]}async exec(e,t){t.recordedState.transformer.vscodeCommand("deleteRight")}};d=n([a.RegisterAction],d);let h=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<character>"],this.createsUndoPoint=!0}async exec(e,t){if(t.modeData.mode!==s.Mode.Replace)throw new Error(`Unexpected mode ${t.modeData.mode} in ReplaceInReplaceMode`);const r=this.keysPressed[0],n="\n"===r||"<tab>"===r,a=new i.Range(e,e.getRight());let c=t.document.getText(a);e.isLineEnd()||n?"<tab>"===r?(t.recordedState.transformer.delete(a),t.recordedState.transformer.vscodeCommand("tab")):(t.recordedState.transformer.insert(e,r),c=""):t.recordedState.transformer.addTransformation({type:"replaceText",text:r,range:a,diff:o.PositionDiff.offset({character:1})}),t.modeData.replaceState.getChanges(this.multicursorIndex??0).push({before:c,after:r})}};h=n([a.RegisterAction],h);let f=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Replace],this.keys=["<C-g>","u"]}async exec(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep()}};f=n([a.RegisterAction],f)},2282:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const c=a(r(1398)),u=r(2543),l=r(1398),d=r(7183),h=r(9359),f=r(7892),p=r(4575);class m extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1}async exec(e,t){const r=t.recordedState.count||1,n=d.configuration.getConfiguration("editor").get("cursorSurroundingLines",0),i=t.editor.visibleRanges[0];if(void 0===i)return;const o=i.end.line-t.cursorStopPosition.line-r,s=t.cursorStopPosition.line-i.start.line-r;"up"===this.to&&n>o?t.cursorStopPosition=t.cursorStopPosition.getUp(n-o).withColumn(t.desiredColumn):"down"===this.to&&n>s&&(t.cursorStopPosition=t.cursorStopPosition.getDown(n-s).withColumn(t.desiredColumn)),t.postponedCodeViewChanges.push({command:"editorScroll",args:{to:this.to,by:this.by,value:r,select:(0,h.isVisualMode)(t.currentMode)}})}}let g=class extends m{constructor(){super(...arguments),this.keys=["<C-e>"],this.preservesDesiredColumn=!0,this.to="down",this.by="line"}};g=s([p.RegisterAction],g);let v=class extends m{constructor(){super(...arguments),this.keys=["<C-y>"],this.preservesDesiredColumn=!0,this.to="up",this.by="line"}};v=s([p.RegisterAction],v);class y extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.runsOnceForEachCountPrefix=!1,this.setScroll=!1}async exec(e,t){const{visibleRanges:r}=t.editor;if(0===r.length)return;const n=d.configuration.getConfiguration("editor").get("smoothScrolling",!1);this.setScroll&&t.recordedState.count&&(d.configuration.scroll=t.recordedState.count);const i=(!this.setScroll&&t.recordedState.count||1)*this.getNumLines(r);let o=i;if("down"===this.to&&(o=Math.min(i,t.document.lineCount-1-r[r.length-1].end.line)),o>0){const e={to:this.to,by:"line",value:o,revealCursor:n,select:(0,h.isVisualMode)(t.currentMode)};n?await c.commands.executeCommand("editorScroll",e):t.postponedCodeViewChanges.push({command:"editorScroll",args:e})}const s=(0,u.clamp)(e.line+("down"===this.to?i:-i),0,t.document.lineCount-1);t.cursorStopPosition=new l.Position(s,t.desiredColumn).obeyStartOfLine(t.document)}}let b=class extends y{constructor(){super(...arguments),this.keys=["<C-b>"],this.to="up"}getNumLines(e){return e[0].end.line-e[0].start.line}};b=s([p.RegisterAction],b);let w=class extends y{constructor(){super(...arguments),this.keys=["<C-f>"],this.to="down"}getNumLines(e){return e[0].end.line-e[0].start.line}};w=s([p.RegisterAction],w);let x=class extends y{constructor(){super(...arguments),this.keys=["<C-d>"],this.to="down",this.setScroll=!0}getNumLines(e){return d.configuration.getScrollLines(e)}};x=s([p.RegisterAction],x);let S=class extends y{constructor(){super(...arguments),this.keys=["<C-u>"],this.to="up",this.setScroll=!0}getNumLines(e){return d.configuration.getScrollLines(e)}};S=s([p.RegisterAction],S);let M=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","z"],this.preservesDesiredColumn=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.editor.revealRange(new c.Range(t.cursorStopPosition,t.cursorStopPosition),c.TextEditorRevealType.InCenter)}};M=s([p.RegisterAction],M);let C=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","."]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.editor.revealRange(new c.Range(t.cursorStopPosition,t.cursorStopPosition),c.TextEditorRevealType.InCenter),t.cursorStopPosition=f.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};C=s([p.RegisterAction],C);let _=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","t"],this.preservesDesiredColumn=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}})}};_=s([p.RegisterAction],_);let P=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","\n"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"top"}}),t.cursorStopPosition=f.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};P=s([p.RegisterAction],P);let k=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","b"],this.preservesDesiredColumn=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}})}};k=s([p.RegisterAction],k);let R=class extends p.BaseCommand{constructor(){super(...arguments),this.modes=[h.Mode.Normal,h.Mode.Visual,h.Mode.VisualLine,h.Mode.VisualBlock],this.keys=["z","-"]}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}async exec(e,t){t.postponedCodeViewChanges.push({command:"revealLine",args:{lineNumber:e.line,at:"bottom"}}),t.cursorStopPosition=f.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,t.cursorStopPosition.line)}};R=s([p.RegisterAction],R)},9627:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0});const c=a(r(2543)),u=r(2543),l=r(1398),d=r(2249),h=r(8104),f=r(7183),p=r(4546),m=r(9359),g=r(6007),v=r(5414),y=r(183),b=r(6275),w=r(7892),x=r(2425),S=r(384),M=r(2270),C=r(4575),_=r(9861);async function P(e,t,r,n){let i=w.TextEditor.getWord(t.document,e);if(i){(/\W/.test(i[0])||/\W/.test(i[i.length-1]))&&(n=!1),n&&(i=c.escapeRegExp(i));const e=r===M.SearchDirection.Backward?t.cursorStopPosition.prevWordStart(t.document,{inclusive:!0}):t.cursorStopPosition;await R({needle:i,vimState:t,direction:r,isExact:n,searchStartCursorPosition:e})}else b.StatusBar.displayError(t,p.VimError.fromCode(p.ErrorCode.NoStringUnderCursor))}async function k(e,t){const r=e.document.getText(e.editor.selection);await e.setCurrentMode(m.Mode.Normal);const[n,i]=(0,h.sorted)(e.cursorStartPosition,e.cursorStopPosition),o=t===M.SearchDirection.Backward?n.getLeft():i.getRight();await R({needle:r,vimState:e,direction:t,isExact:!1,searchStartCursorPosition:o})}async function R(e){const{needle:t,vimState:r,isExact:n}=e;if(0===t.length)return;const i=(0,u.escapeRegExp)(t).replaceAll("/","\\/"),o=n?`\\<${i}\\>`:i;v.globalState.searchState=new y.SearchState(e.direction,r.cursorStopPosition,o,{ignoreSmartcase:!0}),g.Register.setReadonlyRegister("/",v.globalState.searchState.searchString),d.SearchCommandLine.addSearchStateToHistory(v.globalState.searchState),v.globalState.hl=!0;const s=v.globalState.searchState.getNextSearchMatchPosition(r,e.searchStartCursorPosition);s?(r.cursorStopPosition=s.pos,(0,S.reportSearch)(s.index,v.globalState.searchState.getMatchRanges(r).length,r)):b.StatusBar.displayError(r,p.VimError.fromCode(e.direction===M.SearchDirection.Forward?p.ErrorCode.SearchHitBottom:p.ErrorCode.SearchHitTop,v.globalState.searchState.searchString))}let E=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine],this.keys=["*"],this.actionType="motion",this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){(0,m.isVisualMode)(t.currentMode)&&f.configuration.visualstar?await k(t,M.SearchDirection.Forward):await P(e,t,M.SearchDirection.Forward,!0)}};E=s([C.RegisterAction],E);let A=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine],this.keys=["g","*"],this.actionType="motion",this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await P(e,t,M.SearchDirection.Forward,!1)}};A=s([C.RegisterAction],A);let O=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine],this.keys=["#"],this.actionType="motion",this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){(0,m.isVisualMode)(t.currentMode)&&f.configuration.visualstar?await k(t,M.SearchDirection.Backward):await P(e,t,M.SearchDirection.Backward,!0)}};O=s([C.RegisterAction],O);let T=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine],this.keys=["g","#"],this.actionType="motion",this.runsOnceForEachCountPrefix=!0,this.isJump=!0}async exec(e,t){await P(e,t,M.SearchDirection.Backward,!1)}};T=s([C.RegisterAction],T);let L=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine,m.Mode.VisualBlock],this.keys=["/"],this.actionType="motion",this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setCurrentMode(m.Mode.SearchInProgressMode)}};L=s([C.RegisterAction],L);let B=class extends C.BaseCommand{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualLine,m.Mode.VisualBlock],this.keys=["?"],this.actionType="motion",this.isJump=!0}runsOnceForEveryCursor(){return!1}async exec(e,t){await t.setModeData({mode:m.Mode.SearchInProgressMode,commandLine:new d.SearchCommandLine(t,"",M.SearchDirection.Backward),firstVisibleLineBeforeSearch:t.editor.visibleRanges[0].start.line})}};B=s([C.RegisterAction],B);class $ extends x.TextObject{constructor(){super(...arguments),this.modes=[m.Mode.Normal,m.Mode.Visual,m.Mode.VisualBlock]}async execAction(e,t){const r=v.globalState.searchState;if(!r||""===r.searchString)return(0,_.failedMovement)(t);const n=new y.SearchState(this.direction,t.cursorStopPosition,r.searchString,{});let i=n.findContainingMatchRange(t,t.cursorStopPosition);if(i&&t.currentMode===m.Mode.Visual&&t.cursorStopPosition.isEqual(i.range.end.getLeftThroughLineBreaks())&&(i=void 0),void 0===i&&(i=n.getNextSearchMatchRange(t,t.cursorStopPosition),void 0===i))return(0,_.failedMovement)(t);(0,S.reportSearch)(i.index,r.getMatchRanges(t).length,t);const[o,s]=[t.currentMode===m.Mode.Normal?i.range.start:t.cursorStopPosition,i.range.end.getLeftThroughLineBreaks()];return t.cursorStartPosition=o,t.cursorStopPosition=s,t.editor.selection=new l.Selection(o,s),await t.setCurrentMode(m.Mode.Visual),{start:o,stop:s}}async execActionForOperator(e,t){return this.execAction(e,t)}}let I=class extends ${constructor(){super(...arguments),this.keys=["g","n"],this.direction=M.SearchDirection.Forward}};I=s([C.RegisterAction],I);let j=class extends ${constructor(){super(...arguments),this.keys=["g","N"],this.direction=M.SearchDirection.Backward}};j=s([C.RegisterAction],j)},2303:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7407),o=r(866),s=r(9359),a=r(4575);let c=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal],this.keys=[["<C-w>","q"],["<C-w>","<C-q>"],["<C-w>","c"],["<C-w>","<C-c>"]]}async exec(e,t){new o.QuitCommand({}).execute(t)}};c=n([a.RegisterAction],c);let u=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal],this.keys=[["<C-w>","o"],["<C-w>","<C-o>"]]}async exec(e,t){(new i.OnlyCommand).execute(t)}};u=n([a.RegisterAction],u);let l=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","l"],["<C-w>","<right>"],["<C-w>","<C-l>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateRight",args:{}})}};l=n([a.RegisterAction],l);let d=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","j"],["<C-w>","<down>"],["<C-w>","<C-j>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateDown",args:{}})}};d=n([a.RegisterAction],d);let h=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","k"],["<C-w>","<up>"],["<C-w>","<C-k>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateUp",args:{}})}};h=n([a.RegisterAction],h);let f=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","h"],["<C-w>","<left>"],["<C-w>","<C-h>"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateLeft",args:{}})}};f=n([a.RegisterAction],f);let p=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","<C-w>"],["<C-w>","w"]],this.isJump=!0}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.navigateEditorGroups",args:{}})}};p=n([a.RegisterAction],p);let m=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","v"],["<C-w>","<C-v>"]]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.splitEditor",args:void 0})}};m=n([a.RegisterAction],m);let g=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=[["<C-w>","s"],["<C-w>","<C-s>"]]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.splitEditorOrthogonal",args:void 0})}};g=n([a.RegisterAction],g);let v=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=["<C-w>","="]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.evenEditorWidths",args:{}})}};v=n([a.RegisterAction],v);let y=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=["<C-w>",">"]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.increaseViewWidth",args:{}})}};y=n([a.RegisterAction],y);let b=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=["<C-w>","<"]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.decreaseViewWidth",args:{}})}};b=n([a.RegisterAction],b);let w=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=["<C-w>","+"]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.increaseViewHeight",args:{}})}};w=n([a.RegisterAction],w);let x=class extends a.BaseCommand{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual,s.Mode.VisualLine],this.keys=["<C-w>","-"]}async exec(e,t){t.postponedCodeViewChanges.push({command:"workbench.action.decreaseViewHeight",args:{}})}};x=n([a.RegisterAction],x)},6912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(4575),r(5682),r(8800),r(2425),r(3210),r(1775),r(5928),r(9512),r(9627),r(1958),r(4905),r(2303),r(2064),r(2282),r(4684)},6949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(9903),r(7952),r(1671),r(7491),r(8570),r(8617),r(2672)},3673:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDocument=void 0;const i=r(1398),o=r(4575),s=r(9861);let a=!0;try{new RegExp("(?<=x)")}catch{a=!1}class c{constructor(e){this._document=e;const t=c._parseLines(e);this.structure=c._parseStructure(t)}static*lines(e){for(let t=0;t<e.lineCount;t++)yield e.lineAt(t).text}static _indentation(e){const t=e.search(c.reOnlyWhitespace);if(-1!==t&&"#"!==e[t])return t}static _parseLine(e,t){const r=this._indentation(t);return void 0!==r?{line:e,indentation:r,text:t}:void 0}static _parseLines(e){return[...this.lines(e)].map(((e,t)=>this._parseLine(t,e))).filter((e=>e))}static _parseStructure(e){const t=e.length,r=[];for(let n=0;n<t;n++){const o=e[n],s=o.text.match(c.reDefOrClass);if(s){const a="def"===s[1]?"function":"class";let u=n+1;for(;u<t&&!(e[u].indentation<=o.indentation);u++);u--;const l=e[u];r.push({type:a,start:new i.Position(o.line,o.indentation),end:new i.Position(l.line,l.text.search(c.reLastNonWhiteSpaceCharacter)-1)})}}return r}find(e,t,r,n){const i="next"===t?"isAfter":"isBefore",o=this.structure.filter((t=>t.type===e)).filter((e=>e[r][i](n)));if("end"===r&&o.sort(((e,t)=>e.end.line-t.end.line)),o.length)return o["next"===t?0:o.length-1][r]}static moveClassBoundary(e,t,r,n,i){const o=n?"next":"prev",a=i?"start":"end";return new c(e).find("class",o,a,t)??(0,s.failedMovement)(r)}}t.PythonDocument=c,c.reOnlyWhitespace=/\S/,c.reLastNonWhiteSpaceCharacter=a?new RegExp("(?<=\\S)\\s*$"):/(\S)\s*$/,c.reDefOrClass=/^\s*(def|class) /;class u extends s.BaseMovement{doesActionApply(e,t){return super.doesActionApply(e,t)&&"python"===e.document.languageId}async execAction(e,t){const r=t.document;return new c(r).find(this.type,this.direction,this.edge,e)??(0,s.failedMovement)(t)}}let l=class extends u{constructor(){super(...arguments),this.keys=["]","m"],this.type="function",this.direction="next",this.edge="start"}};l=n([o.RegisterAction],l);let d=class extends u{constructor(){super(...arguments),this.keys=["[","m"],this.type="function",this.direction="prev",this.edge="start"}};d=n([o.RegisterAction],d);let h=class extends u{constructor(){super(...arguments),this.keys=["]","M"],this.type="function",this.direction="next",this.edge="end"}};h=n([o.RegisterAction],h);let f=class extends u{constructor(){super(...arguments),this.keys=["[","M"],this.type="function",this.direction="prev",this.edge="end"}};f=n([o.RegisterAction],f)},8800:function(e,t,r){"use strict";var n,i,o,s,a,c,u=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},h=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&u(t,e,r[i]);return l(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.MoveAroundTag=t.MoveInsideTag=t.MoveAroundBacktick=t.MoveAroundDoubleQuotes=t.MoveAroundSingleQuotes=t.MoveQuoteMatch=t.MoveAroundSquareBracket=t.MoveInsideSquareBracket=t.MoveAroundCaret=t.MoveInsideCaret=t.MoveAroundCurlyBrace=t.MoveInsideCurlyBrace=t.MoveCurlyBrace=t.MoveAroundParentheses=t.MoveInsideParentheses=t.MoveInsideCharacter=t.MoveFullWordBegin=t.MoveWordBegin=t.ArrowsInInsertMode=t.ExpandingSelection=void 0;const f=h(r(1398)),p=r(5682),m=r(7892),g=r(9359),v=r(8344),y=r(4017),b=r(4575),w=r(6007),x=r(2570),S=r(7183),M=r(614),C=r(4546),_=r(9861),P=r(5414),k=r(384),R=r(7491),E=r(1647),A=r(6275),O=r(8469),T=r(5915),L=r(3673),B=r(1398),$=r(8104),I=r(7245),j=r(5928),N=r(2270),D=r(7958),V=r(3666);class F extends _.BaseMovement{constructor(){super(...arguments),this.selectionType=_.SelectionType.Expanding}adjustPosition(e,t,r){return r||(e=t.stop),e}}t.ExpandingSelection=F;class W extends _.BaseMovement{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.value=1}async execAction(e,t){return this.execActionWithCount(e,t,1)}async execActionWithCount(e,t,r){const n=this.multicursorIndex??0;if(0===n&&(t.currentMode===g.Mode.Visual&&(t.editor.selections=t.editor.selections.map(((e,t)=>{if(e.active.isAfter(e.anchor)){const t=e.active.getLeftThroughLineBreaks();return new f.Selection(e.anchor,t)}return e}))),await f.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==g.Mode.Normal,by:this.by,value:this.value*r})),!t.editor.selections[n])return{start:t.cursorStartPosition,stop:t.cursorStopPosition,removed:!0};if(t.currentMode===g.Mode.Normal)return t.editor.selections[n].active;{let e=t.editor.selections[n].anchor;const r=t.editor.selections[n].active;return(e.isAfter(r)&&t.cursorStartPosition.isAfter(t.cursorStopPosition)||t.cursorStartPosition.isAfter(t.cursorStopPosition)&&e.isBeforeOrEqual(r))&&(e=e.getLeft()),{start:e,stop:r}}}async execActionForOperator(e,t){const r=this.multicursorIndex??0;return 0===r&&await f.commands.executeCommand("cursorMove",{to:this.movementType,select:!0,by:this.by,value:this.value}),t.editor.selections[r]?{start:t.editor.selections[r].start,stop:t.editor.selections[r].end}:{start:t.cursorStartPosition,stop:t.cursorStopPosition,removed:!0}}}class U extends W{constructor(){super(...arguments),this.keys=[],this.movementType="up",this.by="wrappedLine",this.value=1}}class q extends W{constructor(){super(...arguments),this.keys=[],this.movementType="down",this.by="wrappedLine",this.value=1}}class K extends W{constructor(){super(...arguments),this.preservesDesiredColumn=!0}async execAction(e,t){const r=t.desiredColumn,n=t.editor.selection.active.line;if(t.currentMode!==g.Mode.Normal){const r=t.editor.selection.start;("down"===this.movementType&&e.line>r.line||"up"===this.movementType&&e.line<n)&&await f.commands.executeCommand("cursorMove",{to:"left",select:!0,by:"character",value:1})}if(await f.commands.executeCommand("cursorMove",{to:this.movementType,select:t.currentMode!==g.Mode.Normal,by:this.by,value:this.value}),t.currentMode===g.Mode.Normal){let e=t.editor.selection.active;return n!==e.line&&(e=e.withColumn(r)),e}{let i=t.editor.selection.start,o=t.editor.selection.end;const s=t.editor.selection.active;return i.isEqual(s)&&!i.isEqual(o)&&([i,o]=[o,i],n!==i.line&&(i=i.getLeft())),e.line!==o.line&&(o=o.withColumn(r)),{start:i,stop:o}}}}class H extends K{constructor(){super(...arguments),this.keys=[],this.movementType="down",this.by="line",this.value=1}async execAction(e,t){if(e.line>=t.document.lineCount-1)return e;let r=e,n=e.line,i=e.character;const o=new q;do{r=await o.execAction(r,t),r=r instanceof B.Position?r:r.stop;const e=n!==r.line,s=i!==r.character;if(e||!s)break;i=r.character,n=r.line}while(r.line===e.line);return r.with({character:t.desiredColumn})}}let z=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["j"],["<down>"],["<C-j>"],["<C-n>"]],this.preservesDesiredColumn=!0}async execAction(e,t){return t.currentMode===g.Mode.Insert&&"<down>"===this.keysPressed[0]&&"vscode-interactive-input"===t.editor.document.uri.scheme&&e.line===t.document.lineCount-1&&t.editor.selection.isEmpty?(await f.commands.executeCommand("interactive.history.next"),t.editor.selection.active):S.configuration.foldfix&&t.currentMode!==g.Mode.VisualBlock?(new H).execAction(e,t):e.line<t.document.lineCount-1?e.with({character:t.desiredColumn}).getDown():e}async execActionForOperator(e,t){return t.currentRegisterMode=w.RegisterMode.LineWise,e.getDown()}};z=d([b.RegisterAction],z);let G=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["k"],["<up>"],["<C-p>"]],this.preservesDesiredColumn=!0}async execAction(e,t){return t.currentMode===g.Mode.Insert&&"<up>"===this.keysPressed[0]&&"vscode-interactive-input"===t.editor.document.uri.scheme&&0===e.line&&t.editor.selection.isEmpty?(await f.commands.executeCommand("interactive.history.previous"),t.editor.selection.active):S.configuration.foldfix&&t.currentMode!==g.Mode.VisualBlock?(new Q).execAction(e,t):e.line>0?e.with({character:t.desiredColumn}).getUp():e}async execActionForOperator(e,t){return t.currentRegisterMode=w.RegisterMode.LineWise,e.getUp()}};G=d([b.RegisterAction],G);let Q=class extends K{constructor(){super(...arguments),this.keys=[],this.movementType="up",this.by="line",this.value=1}async execAction(e,t){if(0===e.line)return e;let r;const n=new U;do{r=await n.execAction(e,t),r=r instanceof B.Position?r:r.stop}while(r.line===e.line);return r.with({character:t.desiredColumn})}};Q=d([b.RegisterAction],Q);let J=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[g.Mode.Insert],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}async execAction(e,t){let r;switch(t.recordedState.actionsRun=[new j.CommandInsertAtCursor],t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep(),this.keysPressed[0]){case"<up>":r=await new G(this.keysPressed).execAction(e,t);break;case"<down>":r=await new z(this.keysPressed).execAction(e,t);break;case"<left>":r=await new ae(this.keysPressed).execAction(e,t);break;case"<right>":r=await new ce(this.keysPressed).execAction(e,t);break;default:throw new Error(`Unexpected 'arrow' key: ${this.keys[0]}`)}return r}};t.ArrowsInInsertMode=J,t.ArrowsInInsertMode=J=d([b.RegisterAction],J);let Y=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[g.Mode.Replace],this.keys=[["<up>"],["<down>"],["<left>"],["<right>"]]}async execAction(e,t){t.historyTracker.addChange(!0),t.historyTracker.finishCurrentStep();let r=e;switch(this.keysPressed[0]){case"<up>":r=await new G(this.keysPressed).execAction(e,t);break;case"<down>":r=await new z(this.keysPressed).execAction(e,t);break;case"<left>":r=await new ae(this.keysPressed).execAction(e,t);break;case"<right>":r=await new ce(this.keysPressed).execAction(e,t);break;default:throw new Error(`Unexpected 'arrow' key: ${this.keys[0]}`)}return t.modeData.replaceState.resetChanges(this.multicursorIndex??0),r}};Y=d([b.RegisterAction],Y);let Z=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["n"],this.isJump=!0}async execAction(e,t){const r=P.globalState.searchState;if(!r||""===r.searchString)return e;if(P.globalState.hl=!0,0===r.getMatchRanges(t).length)return A.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),(0,_.failedMovement)(t);const n=r.direction===N.SearchDirection.Forward,i=e.getRight().isEqual(e.getLineEnd())&&n?r.getNextSearchMatchPosition(t,e.getRight()):r.getNextSearchMatchPosition(t,e);return i?((0,k.reportSearch)(i.index,r.getMatchRanges(t).length,t),i.pos):(A.StatusBar.displayError(t,C.VimError.fromCode(r.direction===N.SearchDirection.Forward?C.ErrorCode.SearchHitBottom:C.ErrorCode.SearchHitTop,r.searchString)),(0,_.failedMovement)(t))}};Z=d([b.RegisterAction],Z);let X=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["N"],this.isJump=!0}async execAction(e,t){const r=P.globalState.searchState;if(!r||""===r.searchString)return e;if(P.globalState.hl=!0,0===r.getMatchRanges(t).length)return A.StatusBar.displayError(t,C.VimError.fromCode(C.ErrorCode.PatternNotFound,r.searchString)),(0,_.failedMovement)(t);const n=r.direction===N.SearchDirection.Forward,i=e.getRight().isEqual(e.getLineEnd())&&!n?r.getNextSearchMatchPosition(t,e.getRight(),N.SearchDirection.Backward):r.getNextSearchMatchPosition(t,e,N.SearchDirection.Backward);return i?((0,k.reportSearch)(i.index,r.getMatchRanges(t).length,t),i.pos):(A.StatusBar.displayError(t,C.VimError.fromCode(r.direction===N.SearchDirection.Forward?C.ErrorCode.SearchHitTop:C.ErrorCode.SearchHitBottom,r.searchString)),(0,_.failedMovement)(t))}};X=d([b.RegisterAction],X);let ee=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["'","<register>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(void 0===n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);if(t.currentRegisterMode=w.RegisterMode.LineWise,n.isUppercaseMark&&void 0!==n.document){if(t.recordedState.operator&&n.document!==t.document)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);await se(n.document)}return m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.position.line)}};ee=d([b.RegisterAction],ee);let te=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["`","<register>"],this.isJump=!0}async execAction(e,t){const r=this.keysPressed[1],n=t.historyTracker.getMark(r);if(void 0===n)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);if(n.isUppercaseMark&&void 0!==n.document){if(t.recordedState.operator&&n.document!==t.document)throw C.VimError.fromCode(C.ErrorCode.MarkNotSet);await se(n.document)}return n.position}};te=d([b.RegisterAction],te);let re=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["]","`"],this.isJump=!0}async execAction(e,t){const r=t.historyTracker.getLocalMarks().filter((t=>t.position.isAfter(e))).map((e=>e.position)).sort(((e,t)=>e.compareTo(t)));return 0===r.length?e:r[0]}};re=d([b.RegisterAction],re);let ne=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["[","`"],this.isJump=!0}async execAction(e,t){const r=t.historyTracker.getLocalMarks().filter((t=>t.position.isBefore(e))).map((e=>e.position)).sort(((e,t)=>t.compareTo(e)));return 0===r.length?e:r[0]}};ne=d([b.RegisterAction],ne);let ie=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["]","'"],this.isJump=!0}async execAction(e,t){t.currentRegisterMode=w.RegisterMode.LineWise;const r=t.historyTracker.getLocalMarks().filter((t=>t.position.line>e.line)).map((e=>e.position.line)),n=0===r.length?e.line:Math.min(...r);return new B.Position(n,0).getLineBeginRespectingIndent(t.document)}};ie=d([b.RegisterAction],ie);let oe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["[","'"],this.isJump=!0}async execAction(e,t){t.currentRegisterMode=w.RegisterMode.LineWise;const r=t.historyTracker.getLocalMarks().filter((t=>t.position.line<e.line)).map((e=>e.position.line)),n=0===r.length?e.line:Math.max(...r);return new B.Position(n,0).getLineBeginRespectingIndent(t.document)}};async function se(e){e!==f.window.activeTextEditor?.document&&await f.window.showTextDocument(e)}oe=d([b.RegisterAction],oe);let ae=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["h"],["<left>"],["<BS>"],["<C-BS>"],["<S-BS>"]]}async execAction(e,t){return(0,M.shouldWrapKey)(t.currentMode,this.keysPressed[0])?e.getLeftThroughLineBreaks([g.Mode.Insert,g.Mode.Replace].includes(t.currentMode)):(e=>{const r=t.document.lineAt(e.line).text;if(0===e.character)return e;(0,O.isLowSurrogate)(r.charCodeAt(e.character))&&(0,O.isHighSurrogate)(r.charCodeAt(e.character-1))&&(e=e.getLeft());const n=e.getLeft();return n.character>0&&(0,O.isLowSurrogate)(r.charCodeAt(n.character))&&(0,O.isHighSurrogate)(r.charCodeAt(n.character-1))?n.getLeft():n})(e)}};ae=d([b.RegisterAction],ae);let ce=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["l"],["<right>"],[" "]]}async execAction(e,t){return(0,M.shouldWrapKey)(t.currentMode,this.keysPressed[0])?e.getRightThroughLineBreaks([g.Mode.Insert,g.Mode.Replace].includes(t.currentMode)):(e=>{const r=t.document.lineAt(e.line).text,n=e.getRight();return n.character>=t.document.lineAt(n.line).text.length?n:(0,O.isLowSurrogate)(r.charCodeAt(n.character))&&(0,O.isHighSurrogate)(r.charCodeAt(e.character))?n.getRight():n})(e)}};ce=d([b.RegisterAction],ce);let ue=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["+"],["\n"],["<C-m>"]]}async execActionWithCount(e,t,r){return t.currentRegisterMode=w.RegisterMode.LineWise,m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.getDown(Math.max(r,1)).line)}};ue=d([b.RegisterAction],ue);let le=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["-"]}async execActionWithCount(e,t,r){return t.currentRegisterMode=w.RegisterMode.LineWise,m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.getUp(Math.max(r,1)).line)}};le=d([b.RegisterAction],le);let de=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["_"]}async execActionWithCount(e,t,r){t.currentRegisterMode=w.RegisterMode.LineWise;const n=e.getDown(Math.max(r-1,0));return t.recordedState.operator?n:m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line)}};de=d([b.RegisterAction],de);let he=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["|"]}async execActionWithCount(e,t,r){return new B.Position(e.line,Math.max(0,r-1))}};function fe(e,t,r,n,i){const o=e.document.lineAt(t);let s=t.character;for(;n>0&&s>=0;)s="forward"===i?o.text.indexOf(r,s+1):o.text.lastIndexOf(r,s-1),n--;if(s>=0)return new B.Position(t.line,s)}he=d([b.RegisterAction],he);let pe=i=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["f","<character>"]}async execActionWithCount(e,t,r){if(S.configuration.sneakReplacesF){const n=await new R.SneakForward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);return t.recordedState.operator&&!(0,_.isIMovement)(n)?n.getRight():n}r||=1;let n=fe(t,e,E.Notation.ToControlCharacter(this.keysPressed[1]),r,"forward");return t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new me(this.keysPressed,!0),n?(t.recordedState.operator&&(n=n.getRight()),n):(0,_.failedMovement)(t)}};pe=i=d([b.RegisterAction],pe);let me=o=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["F","<character>"]}async execActionWithCount(e,t,r){if(S.configuration.sneakReplacesF)return new R.SneakBackward(this.keysPressed.concat("\n"),this.isRepeat).execActionWithCount(e,t,r);r||=1;const n=fe(t,e,E.Notation.ToControlCharacter(this.keysPressed[1]),r,"backward");return t.lastSemicolonRepeatableMovement=new o(this.keysPressed,!0),t.lastCommaRepeatableMovement=new pe(this.keysPressed,!0),n||(0,_.failedMovement)(t)}};function ge(e,t,r,n,i){const o=fe(e,t,r,n,i);return"forward"===i?o?.getLeft():o?.getRight()}me=o=d([b.RegisterAction],me);let ve=s=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["t","<character>"]}async execActionWithCount(e,t,r){r||=1;const n=E.Notation.ToControlCharacter(this.keysPressed[1]);let i=ge(t,e,n,r,"forward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=ge(t,e,n,2,"forward")),t.lastSemicolonRepeatableMovement=new s(this.keysPressed,!0),t.lastCommaRepeatableMovement=new ye(this.keysPressed,!0),i?(t.recordedState.operator&&(i=i.getRight()),i):(0,_.failedMovement)(t)}};ve=s=d([b.RegisterAction],ve);let ye=a=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["T","<character>"]}async execActionWithCount(e,t,r){r||=1;const n=E.Notation.ToControlCharacter(this.keysPressed[1]);let i=ge(t,e,n,r,"backward");return i&&this.isRepeat&&e.isEqual(i)&&1===r&&(i=ge(t,e,n,2,"backward")),t.lastSemicolonRepeatableMovement=new a(this.keysPressed,!0),t.lastCommaRepeatableMovement=new ve(this.keysPressed,!0),i||(0,_.failedMovement)(t)}};ye=a=d([b.RegisterAction],ye);let be=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[";"]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement;return n?n.execActionWithCount(e,t,r):e}};be=d([b.RegisterAction],be);let we=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[","]}async execActionWithCount(e,t,r){const n=t.lastSemicolonRepeatableMovement,i=t.lastCommaRepeatableMovement;if(i){const o=i.execActionWithCount(e,t,r);return t.lastSemicolonRepeatableMovement=n,t.lastCommaRepeatableMovement=i,o}return e}};we=d([b.RegisterAction],we);let xe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["$"],["<End>"],["<D-right>"]],this.setsDesiredColumnToEOL=!0}async execActionWithCount(e,t,r){return e.getDown(Math.max(r-1,0)).getLineEnd()}};xe=d([b.RegisterAction],xe);let Se=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["0"],["<Home>"],["<D-left>"]]}async execAction(e,t){return e.getLineBegin()}doesActionApply(e,t){return super.doesActionApply(e,t)&&0===e.recordedState.count}couldActionApply(e,t){return super.couldActionApply(e,t)&&0===e.recordedState.count}};Se=d([b.RegisterAction],Se);let Me=class extends W{constructor(){super(...arguments),this.keys=["g","0"],this.movementType="wrappedLineStart"}};Me=d([b.RegisterAction],Me);let Ce=class extends W{constructor(){super(...arguments),this.keys=["g","^"],this.movementType="wrappedLineFirstNonWhitespaceCharacter"}};Ce=d([b.RegisterAction],Ce);let _e=class extends W{constructor(){super(...arguments),this.keys=["g","$"],this.movementType="wrappedLineEnd"}};_e=d([b.RegisterAction],_e);let Pe=class extends W{constructor(){super(...arguments),this.keys=["g","_"],this.movementType="wrappedLineLastNonWhitespaceCharacter"}async execActionWithCount(e,t,r){r||=1;const n=await super.execActionWithCount(e,t,r);return n instanceof B.Position?n.getDown(r-1):{start:n.start,stop:n.stop.getDown(r-1).getLeftThroughLineBreaks()}}};Pe=d([b.RegisterAction],Pe);let ke=class extends W{constructor(){super(...arguments),this.keys=["g","m"],this.movementType="wrappedLineColumnCenter"}};ke=d([b.RegisterAction],ke);let Re=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="wrappedLine",this.value=1}};Re=d([b.RegisterAction],Re);let Ee=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="wrappedLine",this.value=1}};Ee=d([b.RegisterAction],Ee);let Ae=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.VisualLine],this.keys=[["g","k"],["g","<up>"]],this.movementType="up",this.by="line",this.value=1}};Ae=d([b.RegisterAction],Ae);let Oe=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.VisualLine],this.keys=[["g","j"],["g","<down>"]],this.movementType="down",this.by="line",this.value=1}};Oe=d([b.RegisterAction],Oe);let Te=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[g.Mode.VisualBlock],this.keys=[["g","k"],["g","<up>"]],this.preservesDesiredColumn=!0}async execAction(e,t){return e.line>0?e.with({character:t.desiredColumn}).getUp():e}async execActionForOperator(e,t){return t.currentRegisterMode=w.RegisterMode.LineWise,e.getUp()}};Te=d([b.RegisterAction],Te);let Le=class extends _.BaseMovement{constructor(){super(...arguments),this.modes=[g.Mode.VisualBlock],this.keys=[["g","j"],["g","<down>"]],this.preservesDesiredColumn=!0}async execAction(e,t){return e.line<t.document.lineCount-1?e.with({character:t.desiredColumn}).getDown():e}async execActionForOperator(e,t){return t.currentRegisterMode=w.RegisterMode.LineWise,e.getDown()}};Le=d([b.RegisterAction],Le);let Be=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.keys=["z","h"],this.movementType="right",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Be=d([b.RegisterAction],Be);let $e=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.keys=["z","l"],this.movementType="left",this.by="character",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};$e=d([b.RegisterAction],$e);let Ie=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.keys=["z","H"],this.movementType="right",this.by="halfLine",this.value=1}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};Ie=d([b.RegisterAction],Ie);let je=class extends W{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.keys=["z","L"],this.movementType="left",this.by="halfLine",this.value=1,this.isJump=!0}doesActionApply(e,t){return super.doesActionApply(e,t)&&void 0===e.recordedState.operator}};je=d([b.RegisterAction],je);let Ne=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["H"],this.isJump=!0}async execActionWithCount(e,t,r){t.currentRegisterMode=w.RegisterMode.LineWise;const n=t.editor.visibleRanges[0].start.line??0;if(0===n)return{start:t.cursorStartPosition,stop:e.with({line:n}).obeyStartOfLine(t.document)};const i=n+S.configuration.getConfiguration("editor").get("cursorSurroundingLines",0);return{start:t.cursorStartPosition,stop:e.with({line:i}).obeyStartOfLine(t.document)}}};Ne=d([b.RegisterAction],Ne);let De=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["L"],this.isJump=!0}async execActionWithCount(e,t,r){t.currentRegisterMode=w.RegisterMode.LineWise;const n=t.editor.visibleRanges[0].end.line??0;if(n===t.editor.document.lineCount-1)return{start:t.cursorStartPosition,stop:e.with({line:n}).obeyStartOfLine(t.document)};const i=n-S.configuration.getConfiguration("editor").get("cursorSurroundingLines",0);return{start:t.cursorStartPosition,stop:e.with({line:i}).obeyStartOfLine(t.document)}}};De=d([b.RegisterAction],De);let Ve=class extends W{constructor(){super(...arguments),this.keys=["M"],this.movementType="viewPortCenter",this.by="line",this.isJump=!0}};Ve=d([b.RegisterAction],Ve);let Fe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["^"]}async execAction(e,t){return m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.line)}};Fe=d([b.RegisterAction],Fe);let We=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["g","g"],["<C-Home>"]],this.isJump=!0}async execActionWithCount(e,t,r){t.currentRegisterMode=w.RegisterMode.LineWise;const n=(0,O.clamp)(r,1,t.document.lineCount)-1;return{start:t.cursorStartPosition,stop:e.with({line:n}).obeyStartOfLine(t.document)}}};We=d([b.RegisterAction],We);let Ue=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["G"],this.isJump=!0}async execActionWithCount(e,t,r){let n;return t.currentRegisterMode=w.RegisterMode.LineWise,n=0===r?new B.Position(t.document.lineCount-1,e.character).obeyStartOfLine(t.document):new B.Position(Math.min(r,t.document.lineCount)-1,e.character).obeyStartOfLine(t.document),{start:t.cursorStartPosition,stop:n}}};Ue=d([b.RegisterAction],Ue);let qe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["<C-End>"]}async execActionWithCount(e,t,r){const n=r?(0,O.clamp)(r-1,0,t.document.lineCount-1):t.document.lineCount-1;return new B.Position(n,0).getLineEnd()}};qe=d([b.RegisterAction],qe);let Ke=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["w"]}async execAction(e,t,r,n){if(n&&!S.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof p.ChangeOperator){const r=t.document.lineAt(e);if(0===r.text.length)return e;const n=r.text[e.character];return" \t".includes(n)?e.nextWordStart(t.document):e.nextWordEnd(t.document,{inclusive:!0}).getRight()}return e.nextWordStart(t.document)}async execActionForOperator(e,t,r,n){const i=await this.execAction(e,t,r,n);return i.line>e.line+1||i.line===e.line+1&&i.isFirstWordOfLine(t.document)?e.getLineEnd():i.isLineEnd()?new B.Position(i.line,i.character+1):i}};t.MoveWordBegin=Ke,t.MoveWordBegin=Ke=d([b.RegisterAction],Ke);let He=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["W"],["<C-right>"]]}async execAction(e,t){return!S.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof p.ChangeOperator?e.nextWordEnd(t.document,{wordType:I.WordType.Big,inclusive:!0}).getRight():e.nextWordStart(t.document,{wordType:I.WordType.Big})}};t.MoveFullWordBegin=He,t.MoveFullWordBegin=He=d([b.RegisterAction],He);let ze=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["e"]}async execAction(e,t){return e.nextWordEnd(t.document)}async execActionForOperator(e,t){const r=e.nextWordEnd(t.document);return new B.Position(r.line,r.character+1)}};ze=d([b.RegisterAction],ze);let Ge=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["E"]}async execAction(e,t){return e.nextWordEnd(t.document,{wordType:I.WordType.Big})}async execActionForOperator(e,t){return e.nextWordEnd(t.document,{wordType:I.WordType.Big}).getRight()}};Ge=d([b.RegisterAction],Ge);let Qe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","e"]}async execAction(e,t){return e.prevWordEnd(t.document)}};Qe=d([b.RegisterAction],Qe);let Je=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","E"]}async execAction(e,t){return e.prevWordEnd(t.document,{wordType:I.WordType.Big})}};Je=d([b.RegisterAction],Je);let Ye=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[["b"],["<C-left>"]]}async execAction(e,t){return e.prevWordStart(t.document)}};Ye=d([b.RegisterAction],Ye);let Ze=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["B"]}async execAction(e,t){return e.prevWordStart(t.document,{wordType:I.WordType.Big})}};Ze=d([b.RegisterAction],Ze);let Xe=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["("],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!1})}};Xe=d([b.RegisterAction],Xe);let et=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["g","o"],this.isJump=!0}async execActionWithCount(e,t,r){return t.currentRegisterMode=w.RegisterMode.LineWise,t.document.positionAt((r||1)-1)}};et=d([b.RegisterAction],et);let tt=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=[")"],this.isJump=!0}async execAction(e,t){return e.getSentenceBegin({forward:!0})}};tt=d([b.RegisterAction],tt);let rt=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["}"],this.isJump=!0,this.iteration=0,this.isFirstLineWise=!1}async execAction(e,t){const r=t.recordedState.operator,n=(0,T.getCurrentParagraphEnd)(e);if(r){this.iteration++;const r=e.isLineBeginning()&&t.currentMode===g.Mode.Normal,i=!t.recordedState.count||t.recordedState.count===this.iteration;return this.isFirstLineWise=1===this.iteration?r:this.isFirstLineWise,t.currentRegisterMode=this.isFirstLineWise?w.RegisterMode.LineWise:void 0,i&&!n.isAtDocumentEnd()?n.getLeftThroughLineBreaks(!0):n}return n}};rt=d([b.RegisterAction],rt);let nt=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["{"],this.isJump=!0}async execAction(e,t){return(0,T.getCurrentParagraphBeginning)(e)}};nt=d([b.RegisterAction],nt);class it extends _.BaseMovement{constructor(){super(...arguments),this.isJump=!0}async execAction(e,t){const r=t.document;if("python"===r.languageId)return L.PythonDocument.moveClassBoundary(r,e,t,this.forward,this.begin);const n=this.begin?"{":"}";let i=e.line;if(this.forward&&i===t.document.lineCount-1||!this.forward&&0===i)return m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i);for(i=this.forward?i+1:i-1;!t.document.lineAt(i).text.startsWith(n);)if(this.forward){if(i===t.document.lineCount-1)break;i++}else{if(0===i)break;i--}return m.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i)}}let ot=class extends it{constructor(){super(...arguments),this.keys=["]","]"],this.begin=!0,this.forward=!0}};ot=d([b.RegisterAction],ot);let st=class extends it{constructor(){super(...arguments),this.keys=["]","["],this.begin=!1,this.forward=!0}};st=d([b.RegisterAction],st);let at=class extends it{constructor(){super(...arguments),this.keys=["[","["],this.begin=!0,this.forward=!1}};at=d([b.RegisterAction],at);let ct=class extends it{constructor(){super(...arguments),this.keys=["[","]"],this.begin=!1,this.forward=!1}};ct=d([b.RegisterAction],ct);let ut=c=class extends _.BaseMovement{constructor(){super(...arguments),this.keys=["%"],this.isJump=!0}async execAction(e,t){e=e.getLeftIfEOL();const r=t.document.lineAt(e).text,n=(0,_.failedMovement)(t);for(let i=e.character;i<r.length;i++){const o=r[i];if(v.PairMatcher.getPercentPairing(o))return v.PairMatcher.nextPairedChar(new B.Position(e.line,i),r[i],t,!1)||n}return n}async execActionForOperator(e,t){const r=await this.execAction(e,t);if((0,_.isIMovement)(r)){if(r.failed)return r;throw new Error("Did not ever handle this case!")}return e.isAfter(r)?{start:r,stop:e.getRight()}:r.getRight()}async execActionWithCount(e,t,r){if(Object.getPrototypeOf(this)===c.prototype){if(0===r)return t.recordedState.operator?this.execActionForOperator(e,t):this.execAction(e,t);if(r<0||r>100)return(0,_.failedMovement)(t);const n=Math.trunc((r*t.document.lineCount+99)/100)-1;return e.with({line:n}).obeyStartOfLine(t.document)}return super.execActionWithCount(e,t,r)}};ut=c=d([b.RegisterAction],ut);class lt extends F{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.includeSurrounding=!1,this.isJump=!0}async execAction(e,t,r,n){const i=v.PairMatcher.pairings[this.charToMatch].match,[o,s]=(0,$.sorted)(t.cursorStartPosition,e);let a=v.PairMatcher.nextPairedChar(o,i,t,!0);if(void 0===a){let e=o.line;for(;!(e>=t.document.lineCount);){const r=t.document.lineAt(e).text.indexOf(this.charToMatch);if(-1!==r){a=new B.Position(e,r);break}++e}if(void 0===a)return(0,_.failedMovement)(t)}let c=v.PairMatcher.nextPairedChar(a,this.charToMatch,t,!0);if(void 0===c)return(0,_.failedMovement)(t);if(!this.includeSurrounding&&((0,g.isVisualMode)(t.currentMode)||!r)&&o.getLeftThroughLineBreaks(!1).isBeforeOrEqual(a)&&s.getRightThroughLineBreaks(!1).isAfterOrEqual(c)){const e=v.PairMatcher.nextPairedChar(a,i,t,!1),r=e?v.PairMatcher.nextPairedChar(e,this.charToMatch,t,!1):void 0;e&&r&&(a=e,c=r)}return this.includeSurrounding?t.currentMode!==g.Mode.Visual&&(c=new B.Position(c.line,c.character+1)):(a=a.getRightThroughLineBreaks(),c.isInLeadingWhitespace(t.document)&&(c=c.getLineBegin()),t.currentMode===g.Mode.Visual&&(c=c.getLeftThroughLineBreaks())),n&&!(0,g.isVisualMode)(t.currentMode)&&o.isBefore(a)&&(t.recordedState.operatorPositionDiff=a.subtract(o)),t.cursorStartPosition=a,{start:a,stop:c}}}t.MoveInsideCharacter=lt;let dt=class extends lt{constructor(){super(...arguments),this.keys=[["i","("],["i",")"],["i","b"]],this.charToMatch="("}};t.MoveInsideParentheses=dt,t.MoveInsideParentheses=dt=d([b.RegisterAction],dt);let ht=class extends lt{constructor(){super(...arguments),this.keys=[["a","("],["a",")"],["a","b"]],this.charToMatch="(",this.includeSurrounding=!0}};t.MoveAroundParentheses=ht,t.MoveAroundParentheses=ht=d([b.RegisterAction],ht);class ft extends lt{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualLine,g.Mode.VisualBlock],this.charToMatch="{"}async execAction(e,t,r,n){const i=t.document.lineAt(e).text,o=i.substring(e.character).indexOf("{"),s=t.cursorStartPosition.isEqual(e);if(-1!==o&&0===i.substring(0,e.character+o).trim().length&&s){const i=e.with(e.line,e.character+o);t.cursorStartPosition=t.cursorStopPosition=i;const s=await super.execAction(i,t,r,n);if(s.failed)return s;const{start:a,stop:c}=s;return!(0,g.isVisualMode)(t.currentMode)&&e.isBefore(a)?t.recordedState.operatorPositionDiff=a.subtract(e):!(0,g.isVisualMode)(t.currentMode)&&e.isAfter(c)&&(e.line===c.line?t.recordedState.operatorPositionDiff=c.subtract(e):t.recordedState.operatorPositionDiff=a.subtract(e)),t.cursorStartPosition=a,t.cursorStopPosition=c,s}return super.execAction(e,t,r,n)}}t.MoveCurlyBrace=ft;let pt=class extends ft{constructor(){super(...arguments),this.keys=[["i","{"],["i","}"],["i","B"]]}};t.MoveInsideCurlyBrace=pt,t.MoveInsideCurlyBrace=pt=d([b.RegisterAction],pt);let mt=class extends ft{constructor(){super(...arguments),this.keys=[["a","{"],["a","}"],["a","B"]],this.includeSurrounding=!0}};t.MoveAroundCurlyBrace=mt,t.MoveAroundCurlyBrace=mt=d([b.RegisterAction],mt);let gt=class extends lt{constructor(){super(...arguments),this.keys=[["i","<"],["i",">"]],this.charToMatch="<"}};t.MoveInsideCaret=gt,t.MoveInsideCaret=gt=d([b.RegisterAction],gt);let vt=class extends lt{constructor(){super(...arguments),this.keys=[["a","<"],["a",">"]],this.charToMatch="<",this.includeSurrounding=!0}};t.MoveAroundCaret=vt,t.MoveAroundCaret=vt=d([b.RegisterAction],vt);let yt=class extends lt{constructor(){super(...arguments),this.keys=[["i","["],["i","]"]],this.charToMatch="["}};t.MoveInsideSquareBracket=yt,t.MoveInsideSquareBracket=yt=d([b.RegisterAction],yt);let bt=class extends lt{constructor(){super(...arguments),this.keys=[["a","["],["a","]"]],this.charToMatch="[",this.includeSurrounding=!0}};t.MoveAroundSquareBracket=bt,t.MoveAroundSquareBracket=bt=d([b.RegisterAction],bt);class wt extends _.BaseMovement{constructor(e=!0){super(),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualBlock],this.anyQuote=!1,this.includeQuotes=!1,this.isJump=!0,this.which="current",this.adjustForTrailingWhitespace=!0,this.adjustForTrailingWhitespace=e}async execActionWithCount(e,t,r){return await super.execActionWithCount(e,t,1)}async execAction(e,t){if(!this.includeQuotes&&(t.recordedState.count>1||t.recordedState.operatorCount>1)&&(this.includeQuotes=!0,this.adjustForTrailingWhitespace=!1),(0,V.useSmartQuotes)()){const r=new D.SmartQuoteMatcher(this.anyQuote?"any":this.charToMatch,t.document).smartSurroundingQuotes(e,this.which);if(void 0===r)return(0,_.failedMovement)(t);let{start:n,stop:i,lineText:o}=r;if(this.includeQuotes){if(this.adjustForTrailingWhitespace&&S.configuration.targets.smartQuotes.aIncludesSurroundingSpaces){const e=o.substring(i.character+1).search(/\S|$/);e>0?i=i.translate({characterDelta:e}):n=n.with({character:o.substring(0,n.character).search(/\s*$/)})}}else n=n.translate({characterDelta:1}),i=i.translate({characterDelta:-1});return!(0,g.isVisualMode)(t.currentMode)&&e.isBefore(n)?t.recordedState.operatorPositionDiff=n.subtract(e):!(0,g.isVisualMode)(t.currentMode)&&e.isAfter(i)&&(e.line===i.line?t.recordedState.operatorPositionDiff=i.getRight().subtract(e):t.recordedState.operatorPositionDiff=n.subtract(e)),t.cursorStartPosition=n,{start:n,stop:i}}{const r=t.document.lineAt(e).text,n=new y.QuoteMatcher(this.charToMatch,r).surroundingQuotes(e.character);if(void 0===n)return(0,_.failedMovement)(t);let[i,o]=n;if(this.includeQuotes){if(this.adjustForTrailingWhitespace){const e=r.substring(o+1).search(/\S|$/);e>0?o+=e:i=r.substring(0,i).search(/\s*$/)}}else i++,o--;const s=new B.Position(e.line,i),a=new B.Position(e.line,o);return!(0,g.isVisualMode)(t.currentMode)&&e.isBefore(s)&&(t.recordedState.operatorPositionDiff=s.subtract(e)),{start:s,stop:a}}}async execActionForOperator(e,t){const r=await this.execAction(e,t);return(0,_.isIMovement)(r)&&(r.failed?(t.recordedState.hasRunOperator=!1,t.recordedState.actionsRun=[]):r.stop=r.stop.getRight()),r}}t.MoveQuoteMatch=wt;let xt=class extends wt{constructor(){super(...arguments),this.keys=["i","'"],this.charToMatch="'",this.includeQuotes=!1}};xt=d([b.RegisterAction],xt);let St=class extends wt{constructor(){super(...arguments),this.keys=["a","'"],this.charToMatch="'",this.includeQuotes=!0}};t.MoveAroundSingleQuotes=St,t.MoveAroundSingleQuotes=St=d([b.RegisterAction],St);let Mt=class extends wt{constructor(){super(...arguments),this.keys=["i",'"'],this.charToMatch='"',this.includeQuotes=!1}};Mt=d([b.RegisterAction],Mt);let Ct=class extends wt{constructor(){super(...arguments),this.keys=["a",'"'],this.charToMatch='"',this.includeQuotes=!0}};t.MoveAroundDoubleQuotes=Ct,t.MoveAroundDoubleQuotes=Ct=d([b.RegisterAction],Ct);let _t=class extends wt{constructor(){super(...arguments),this.keys=["i","`"],this.charToMatch="`",this.includeQuotes=!1}};_t=d([b.RegisterAction],_t);let Pt=class extends wt{constructor(){super(...arguments),this.keys=["a","`"],this.charToMatch="`",this.includeQuotes=!0}};t.MoveAroundBacktick=Pt,t.MoveAroundBacktick=Pt=d([b.RegisterAction],Pt);let kt=class extends ut{constructor(){super(...arguments),this.keys=["[","("]}async execAction(e,t){return v.PairMatcher.nextPairedChar(e,")",t,!1)||(0,_.failedMovement)(t)}};kt=d([b.RegisterAction],kt);let Rt=class extends ut{constructor(){super(...arguments),this.keys=["]",")"]}async execAction(e,t){const r=v.PairMatcher.nextPairedChar(e,"(",t,!1);return r?t.recordedState.operator instanceof p.ChangeOperator||t.recordedState.operator instanceof p.DeleteOperator||t.recordedState.operator instanceof p.YankOperator?r.getLeftThroughLineBreaks():r:(0,_.failedMovement)(t)}};Rt=d([b.RegisterAction],Rt);let Et=class extends ut{constructor(){super(...arguments),this.keys=["[","{"]}async execAction(e,t){return v.PairMatcher.nextPairedChar(e,"}",t,!1)||(0,_.failedMovement)(t)}};Et=d([b.RegisterAction],Et);let At=class extends ut{constructor(){super(...arguments),this.keys=["]","}"]}async execAction(e,t){const r=v.PairMatcher.nextPairedChar(e,"{",t,!1);return r?t.recordedState.operator instanceof p.ChangeOperator||t.recordedState.operator instanceof p.DeleteOperator||t.recordedState.operator instanceof p.YankOperator?r.getLeftThroughLineBreaks():r:(0,_.failedMovement)(t)}};At=d([b.RegisterAction],At);class Ot extends F{constructor(){super(...arguments),this.modes=[g.Mode.Normal,g.Mode.Visual,g.Mode.VisualBlock],this.includeTag=!1,this.isJump=!0}async execAction(e,t){const r=t.document.getText(),n=t.document.offsetAt(e),i=new x.TagMatcher(r,n,t),o=i.findOpening(this.includeTag),s=i.findClosing(this.includeTag);if(void 0===o||void 0===s)return(0,_.failedMovement)(t);const a=o>=0?t.document.positionAt(o):t.cursorStartPosition;let c=s>=0?t.document.positionAt(s):e;return t.currentMode!==g.Mode.Visual&&t.currentMode!==g.Mode.SurroundInputMode||(c=c.getLeftThroughLineBreaks()),e.isAfter(c)?t.recordedState.transformer.moveCursor(c.subtract(e)):e.isBefore(a)&&t.recordedState.transformer.moveCursor(a.subtract(e)),t.cursorStartPosition=a,{start:a,stop:c}}}let Tt=class extends Ot{constructor(){super(...arguments),this.keys=["i","t"],this.includeTag=!1}};t.MoveInsideTag=Tt,t.MoveInsideTag=Tt=d([b.RegisterAction],Tt);let Lt=class extends Ot{constructor(){super(...arguments),this.keys=["a","t"],this.includeTag=!0}};t.MoveAroundTag=Lt,t.MoveAroundTag=Lt=d([b.RegisterAction],Lt)},5682:function(e,t,r){"use strict";var n,i,o,s=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},u=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),i=0;i<r.length;i++)"default"!==r[i]&&s(t,e,r[i]);return a(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ROT13Operator=t.ChangeOperator=t.YankOperator=t.DeleteOperator=t.BaseOperator=void 0;const l=u(r(1398)),d=r(1398),h=r(384),f=r(8469),p=r(2249),m=r(9253),g=r(8104),v=r(7183),y=r(9359),b=r(6007),w=r(7892),x=r(4575);class S extends x.BaseAction{constructor(e){super(),this.actionType="operator",this.createsUndoPoint=!0,this.multicursorIndex=e}doesActionApply(e,t){return!(!this.doesRepeatedOperatorApply(e,t)&&(!this.modes.includes(e.currentMode)||!x.BaseAction.CompareKeypressSequence(this.keys,t)||this instanceof S&&e.recordedState.operator))}couldActionApply(e,t){return!(!this.modes.includes(e.currentMode)||!x.BaseAction.CompareKeypressSequence(this.keys.slice(0,t.length),t)||this instanceof S&&e.recordedState.operator)}doesRepeatedOperatorApply(e,t){const r=e.recordedState.actionsRun.filter((e=>"cmd_num"!==e.name)),n=r[r.length-1];return 1===t.length&&n&&this.modes.includes(e.currentMode)&&n.constructor===this.constructor&&x.BaseAction.CompareKeypressSequence(n.keysPressed.slice(-1),t)}async runRepeat(e,t,r){e.currentRegisterMode=b.RegisterMode.LineWise,await this.run(e,t.getLineBegin(),t.getDown(Math.max(0,r-1)).getLineEnd())}highlightYankedRanges(e,t){if(!v.configuration.highlightedyank.enable)return;const r=l.window.createTextEditorDecorationType({backgroundColor:v.configuration.highlightedyank.color,color:v.configuration.highlightedyank.textColor});e.editor.setDecorations(r,t),setTimeout((()=>r.dispose()),v.configuration.highlightedyank.duration)}}t.BaseOperator=S;let M=class extends S{constructor(){super(...arguments),this.name="delete_op",this.keys=["d"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine]}async run(e,t,r){const n=Math.abs(t.line-r.line)+1;e.currentRegisterMode===b.RegisterMode.LineWise&&(t=t.getLineBegin(),r=r.getLineEnd());const i=(r=new d.Position(r.line,r.character+1)).line===e.document.lineCount-1;e.currentMode===y.Mode.VisualBlock||i||r.character!==e.document.lineAt(r).text.length+1||(r=new d.Position(r.line+1,0));const o=e.document.lineAt(t.line).text,s=e.document.lineAt(r.line).text;0!==t.character&&(0,f.isLowSurrogate)(o.charCodeAt(t.character))&&(0,f.isHighSurrogate)(o.charCodeAt(t.character-1))&&(t=t.getLeft()),0!==r.character&&(0,f.isLowSurrogate)(s.charCodeAt(r.character))&&(0,f.isHighSurrogate)(s.charCodeAt(r.character-1))&&(r=r.getRight());let a,c=e.document.getText(new l.Range(t,r));e.currentRegisterMode===b.RegisterMode.LineWise&&(c=c.endsWith("\r\n")?c.slice(0,-2):c.endsWith("\n")?c.slice(0,-1):c),b.Register.put(e,c,this.multicursorIndex,!0),i&&0!==t.line&&e.currentRegisterMode===b.RegisterMode.LineWise&&(t=t.getUp().getLineEnd()),e.currentRegisterMode===b.RegisterMode.LineWise?a=g.PositionDiff.startOfLine():t.character>e.document.lineAt(t).text.length&&(a=g.PositionDiff.offset({character:-1})),e.recordedState.transformer.addTransformation({type:"deleteRange",range:new l.Range(t,r),diff:a}),await e.setCurrentMode(y.Mode.Normal),(0,h.reportLinesChanged)(-n,e)}};t.DeleteOperator=M,t.DeleteOperator=M=c([x.RegisterAction],M);let C=class extends S{constructor(){super(...arguments),this.keys=["D"],this.modes=[y.Mode.Visual,y.Mode.VisualLine]}async run(e,t,r){e.currentRegisterMode=b.RegisterMode.LineWise,await new M(this.multicursorIndex).run(e,t,r)}};C=c([x.RegisterAction],C);let _=class extends S{constructor(){super(...arguments),this.keys=["y"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.name="yank_op",this.createsUndoPoint=!1}async run(e,t,r){[t,r]=(0,g.sorted)(t,r);let n=new d.Position(r.line,r.character+1);e.currentRegisterMode===b.RegisterMode.LineWise&&(t=t.getLineBegin(),n=n.getLineEnd());const i=e.document.lineAt(t.line).text,o=e.document.lineAt(n.line).text;0!==t.character&&(0,f.isLowSurrogate)(i.charCodeAt(t.character))&&(0,f.isHighSurrogate)(i.charCodeAt(t.character-1))&&(t=t.getLeft()),0!==n.character&&(0,f.isLowSurrogate)(o.charCodeAt(n.character))&&(0,f.isHighSurrogate)(o.charCodeAt(n.character-1))&&(n=n.getRight());const s=new l.Range(t,n);let a=e.document.getText(s);e.currentMode===y.Mode.Visual&&n.character===e.document.lineAt(n).text.length+1&&(a+="\n"),this.highlightYankedRanges(e,[s]),b.Register.put(e,a,this.multicursorIndex,!0),e.cursorStopPosition=e.currentMode===y.Mode.Normal&&e.currentRegisterMode===b.RegisterMode.LineWise?t.with({character:e.cursorStopPosition.character}):t,await e.setCurrentMode(y.Mode.Normal);const c=a.split("\n").length;(0,h.reportLinesYanked)(c,e)}};t.YankOperator=_,t.YankOperator=_=c([x.RegisterAction],_);let P=class extends S{constructor(){super(...arguments),this.keys=["!"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){let n;[t,r]=(0,g.sorted)(t,r),n=e.currentMode===y.Mode.Normal&&t.line===r.line?".!":e.currentMode===y.Mode.Normal&&t.line!==r.line?`.,.+${r.line-t.line}!`:"'<,'>!",e.cursorStartPosition=t,e.currentMode===y.Mode.Normal?e.cursorStopPosition=t:e.cursors=[...e.cursorsInitialState];const i=e.currentMode;await e.setCurrentMode(y.Mode.CommandlineInProgress),e.modeData.mode===y.Mode.CommandlineInProgress&&(e.modeData.commandLine=new p.ExCommandLine(n,i))}};P=c([x.RegisterAction],P);let k=class extends S{constructor(){super(...arguments),this.keys=["Y"],this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){e.currentRegisterMode=b.RegisterMode.LineWise,await new _(this.multicursorIndex).run(e,t,r)}};k=c([x.RegisterAction],k);let R=class extends S{constructor(){super(...arguments),this.keys=[["x"],["<Del>"]],this.modes=[y.Mode.Visual,y.Mode.VisualLine]}async run(e,t,r){await new M(this.multicursorIndex).run(e,t,r)}};R=c([x.RegisterAction],R);let E=class extends S{constructor(){super(...arguments),this.keys=["s"],this.modes=[y.Mode.Visual,y.Mode.VisualLine]}doesActionApply(e,t){return super.doesActionApply(e,t)&&!v.configuration.sneak}async run(e,t,r){await new q(this.multicursorIndex).run(e,t,r)}};E=c([x.RegisterAction],E);let A=class extends S{constructor(){super(...arguments),this.keys=["="],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){e.editor.selection=new l.Selection(t.getLineBegin(),r.getLineEnd()),await l.commands.executeCommand("editor.action.formatSelection");let n=e.cursorStartPosition.line;e.cursorStartPosition.isAfter(e.cursorStopPosition)&&(n=e.cursorStopPosition.line);const i=w.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,n);e.cursorStopPosition=i,e.cursorStartPosition=i,await e.setCurrentMode(y.Mode.Normal)}};A=c([x.RegisterAction],A);class O extends S{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){if(e.currentMode===y.Mode.VisualBlock){for(const{start:t,end:r}of w.TextEditor.iterateLinesInBlock(e)){const n=new l.Range(t,r);e.recordedState.transformer.replace(n,this.transformText(e.document.getText(n)))}for(let n=0;n<e.editor.selections.length;n++)e.recordedState.transformer.moveCursor(g.PositionDiff.exactPosition((0,g.earlierOf)(t,r)),n)}else{e.currentRegisterMode===b.RegisterMode.LineWise&&(t=t.getLineBegin(),r=r.getLineEnd());const n=new l.Range(t,new d.Position(r.line,r.character+1));e.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:this.transformText(e.document.getText(n)),diff:g.PositionDiff.exactPosition(t)})}await e.setCurrentMode(y.Mode.Normal)}}let T=class extends O{constructor(){super(...arguments),this.keys=[["g","U"],["U"]]}transformText(e){return e.toUpperCase()}};T=c([x.RegisterAction],T);let L=class extends T{constructor(){super(...arguments),this.keys=[["g","U"]],this.modes=[y.Mode.Normal]}};L=c([x.RegisterAction],L);let B=class extends O{constructor(){super(...arguments),this.keys=[["g","u"],["u"]]}transformText(e){return e.toLowerCase()}};B=c([x.RegisterAction],B);let $=class extends B{constructor(){super(...arguments),this.keys=[["g","u"]],this.modes=[y.Mode.Normal]}};$=c([x.RegisterAction],$);let I=class extends O{constructor(){super(...arguments),this.keys=[["g","~"],["~"]]}transformText(e){let t="";for(const r of e){let e=r.toLocaleLowerCase();e===r&&(e=r.toLocaleUpperCase()),t+=e}return t}};I=c([x.RegisterAction],I);let j=class extends I{constructor(){super(...arguments),this.keys=[["g","~"]],this.modes=[y.Mode.Normal]}};j=c([x.RegisterAction],j);let N=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=[">"]}async run(e,t,r){e.editor.selection=new l.Selection(t.getLineBegin(),r.getLineEnd()),await l.commands.executeCommand("editor.action.indentLines"),await e.setCurrentMode(y.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(e.document)}};N=c([x.RegisterAction],N);let D=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=[">"]}async run(e,t,r){if(e.dotCommandStatus===y.DotCommandStatus.Executing&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new l.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await l.commands.executeCommand("editor.action.indentLines");await e.setCurrentMode(y.Mode.Normal),e.cursorStopPosition=t.obeyStartOfLine(e.document)}};D=c([x.RegisterAction],D);let V=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=[">"]}async run(e,t,r){if(e.dotCommandStatus===y.DotCommandStatus.Executing&&e.dotCommandPreviousVisualSelection){const n=Math.abs(e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line);t=e.cursorStartPosition,r=e.cursorStartPosition.getDown(n),e.editor.selection=new l.Selection(t,r)}for(let n=0;n<r.line-t.line+1;n++){const r=Number(e.editor.options.tabSize);e.document.lineAt(t.line+n).range.end.character>t.character&&e.recordedState.transformer.addTransformation({type:"insertText",text:" ".repeat(r).repeat(e.recordedState.count||1),position:t.getDown(n),manuallySetCursorPositions:!0})}await e.setCurrentMode(y.Mode.Normal),e.cursors=[new m.Cursor(t,t)]}};V=c([x.RegisterAction],V);let F=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.Normal],this.keys=["<"]}async run(e,t,r){e.editor.selection=new l.Selection(t,r.getLineEnd()),await l.commands.executeCommand("editor.action.outdentLines"),await e.setCurrentMode(y.Mode.Normal),e.cursorStopPosition=w.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,t.line)}};F=c([x.RegisterAction],F);let W=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.Visual,y.Mode.VisualLine],this.keys=["<"]}async run(e,t,r){if(e.dotCommandStatus===y.DotCommandStatus.Executing&&e.dotCommandPreviousVisualSelection&&e.cursorStartPosition.isAfter(e.cursorStopPosition)){const r=e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line;t=e.cursorStartPosition;const n=e.cursorStartPosition.getDown(r);e.editor.selection=new l.Selection(t,n)}for(let t=0;t<(e.recordedState.count||1);t++)await l.commands.executeCommand("editor.action.outdentLines");await e.setCurrentMode(y.Mode.Normal),e.cursorStopPosition=w.TextEditor.getFirstNonWhitespaceCharOnLine(e.document,t.line)}};W=c([x.RegisterAction],W);let U=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.VisualBlock],this.keys=["<"]}async run(e,t,r){if(e.dotCommandStatus===y.DotCommandStatus.Executing&&e.dotCommandPreviousVisualSelection){const n=Math.abs(e.dotCommandPreviousVisualSelection.end.line-e.dotCommandPreviousVisualSelection.start.line);t=e.cursorStartPosition,r=e.cursorStartPosition.getDown(n),e.editor.selection=new l.Selection(t,r)}for(let n=0;n<r.line-t.line+1;n++){const r=Number(e.editor.options.tabSize),i=e.document.lineAt(t.line+n);if(i.range.end.character>t.character){const o=i.text.slice(t.character);if(/\s/.test(o.charAt(0))){const i=t.getDown(n),s=o.match(/\S/)?.index??0,a=Math.min(s,r*(e.recordedState.count||1));e.recordedState.transformer.addTransformation({type:"deleteRange",range:new l.Range(i,i.getRight(a)),manuallySetCursorPositions:!0})}}}await e.setCurrentMode(y.Mode.Normal),e.cursors=[new m.Cursor(t,t)]}};U=c([x.RegisterAction],U);let q=class extends S{constructor(){super(...arguments),this.keys=["c"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine]}async run(e,t,r){e.currentRegisterMode===b.RegisterMode.LineWise?(t=t.getLineBegin(),r=r.getLineEnd()):r=e.currentMode===y.Mode.Visual&&r.isLineEnd()?r.getRightThroughLineBreaks():r.getRight();const n=new l.Range(t,r);if(b.Register.put(e,e.document.getText(n),this.multicursorIndex,!0),e.currentRegisterMode===b.RegisterMode.LineWise&&v.configuration.autoindent){const t=e.document.getText(new l.Range(n.start.getLineBegin(),n.start.getLineBeginRespectingIndent(e.document)));e.recordedState.transformer.replace(n,t,g.PositionDiff.exactPosition(new d.Position(n.start.line,t.length))),"plaintext"!==e.document.languageId&&(e.recordedState.transformer.vscodeCommand("editor.action.reindentselectedlines"),e.recordedState.transformer.moveCursor(g.PositionDiff.endOfLine(),this.multicursorIndex))}else e.recordedState.transformer.delete(n);await e.setCurrentMode(y.Mode.Insert)}};t.ChangeOperator=q,t.ChangeOperator=q=c([x.RegisterAction],q);let K=class extends S{constructor(){super(...arguments),this.keys=["y"],this.modes=[y.Mode.VisualBlock],this.createsUndoPoint=!1}runsOnceForEveryCursor(){return!1}async run(e,t,r){const n=[],i=[];for(const{line:t,start:r,end:o}of w.TextEditor.iterateLinesInBlock(e))i.push(t),n.push(new l.Range(r,o));e.currentRegisterMode=b.RegisterMode.BlockWise,this.highlightYankedRanges(e,n),b.Register.put(e,i.join("\n"),this.multicursorIndex,!0),e.historyTracker.addMark(e.document,t,"<"),e.historyTracker.addMark(e.document,r,">");const o=i.length;(0,h.reportLinesYanked)(o,e),await e.setCurrentMode(y.Mode.Normal),e.cursorStopPosition=t}};K=c([x.RegisterAction],K);let H=class extends S{constructor(){super(...arguments),this.keys=["g","c"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){e.editor.selection=new l.Selection(t.getLineBegin(),r.getLineEnd()),await l.commands.executeCommand("editor.action.commentLine"),e.cursorStopPosition=new d.Position(t.line,0),await e.setCurrentMode(y.Mode.Normal)}};H=c([x.RegisterAction],H);let z=i=class extends S{constructor(){super(...arguments),this.keys=["g","?"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine,y.Mode.VisualBlock]}async run(e,t,r){let n;n=(0,y.isVisualMode)(e.currentMode)?e.editor.selections:e.currentRegisterMode===b.RegisterMode.LineWise?[new l.Selection(t.getLineBegin(),r.getLineEnd())]:[new l.Selection(t,r.getRight())];for(const t of n){const r=e.document.getText(t);e.recordedState.transformer.replace(t,i.rot13(r))}}static rot13(e){return e.split("").map((e=>{let t=e.charCodeAt(0);if(e>="a"&&e<="z"){const e="a".charCodeAt(0);t=(t-e+13)%26+e}if(e>="A"&&e<="Z"){const e="A".charCodeAt(0);t=(t-e+13)%26+e}return String.fromCharCode(t)})).join("")}};t.ROT13Operator=z,t.ROT13Operator=z=i=c([x.RegisterAction],z);let G=class extends S{constructor(){super(...arguments),this.keys=["g","C"],this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine]}async run(e,t,r){if(e.currentMode===y.Mode.Normal){const n=r.getRight();e.editor.selection=new l.Selection(t,n)}await l.commands.executeCommand("editor.action.blockComment"),e.cursorStopPosition=t,await e.setCurrentMode(y.Mode.Normal)}};G=c([x.RegisterAction],G);let Q=o=class extends S{constructor(){super(...arguments),this.modes=[y.Mode.Normal,y.Mode.Visual,y.Mode.VisualLine],this.keys=["g","q"]}getIndentation(e){for(const t of e.split("\n")){const e=t.match(/^\s+/g),r=e?e[0]:"";if(r!==t)return r}return""}reflowParagraph(e){const t=this.getIndentation(e);let r=0;for(const e of t)r+="\t"===e?v.configuration.tabstop:1;const n=v.configuration.textwidth-r,i=[];for(const t of e.split("\n")){let e=i[i.length-1];const r=t.trimStart();let n;for(const t of o.CommentTypes){if(r.startsWith(t.start)){n=t;break}if(e&&!e.final&&t.start===e.commentType.start&&!t.singleLine){if(r.startsWith(t.inner)){n=t;break}if(r.endsWith(t.final)){n=t;break}}}if(!n)break;if(e&&!e.final&&n.start===e.commentType.start){if(e=i[i.length-1],e.commentType.singleLine)e.content+=`\n${r.substr(e.commentType.start.length).trimStart()}`;else if(!e.final)if(r.endsWith(e.commentType.final)){e.final=!0;const t=r.startsWith(e.commentType.inner)?e.commentType.inner.length:0;e.content+=`\n${r.substr(t,r.length-e.commentType.final.length-t).trim()}`}else r.startsWith(e.commentType.inner)?e.content+=`\n${r.substr(e.commentType.inner.length).trimStart()}`:r.startsWith(e.commentType.start)&&(e.content+=`\n${r.substr(e.commentType.start.length).trimStart()}`)}else{const e={commentType:n,content:`${r.substr(n.start.length).trimStart()}`,indentLevelAfterComment:0,final:!1};n.singleLine?e.indentLevelAfterComment=r.substr(n.start.length).length-e.content.length:e.content.endsWith(n.final)&&(e.content=e.content.substr(0,e.content.length-n.final.length).trim(),e.final=!0),i.push(e)}}const s=[];for(const{commentType:e,content:r,indentLevelAfterComment:o}of i){const i=Array(o+1).join(" "),a=e.start.length+i.length,c=[""];for(let e of r.split("\n"))if(""!==e.trim())for(;e;){const t=c[c.length-1];let r;r=t?v.configuration.joinspaces&&(t.endsWith(".")||t.endsWith("?")||t.endsWith("!"))?"  ":t.endsWith(" ")?v.configuration.joinspaces&&(t.endsWith(". ")||t.endsWith("? ")||t.endsWith("! "))?" ":"":" ":"";const i=n-r.length-t.length-a,o=e.trimStart();if(o.length<=i){c[c.length-1]+=`${r}${o}`;break}{let n=Math.max(o.lastIndexOf(" ",i),o.lastIndexOf("\t",i));if(n<0){if(t){c.push("");continue}n=o.search(/[ \t]/),n<0&&(n=e.length)}c[c.length-1]+=`${r}${o.slice(0,n).trimEnd()}`,e=e.slice(n+1),c.push("")}}else""===c[c.length-1]&&c.pop(),c.push(e),c.push("");""===c[c.length-1]&&c.pop();for(let r=0;r<c.length;r++)e.singleLine?c[r]=`${t}${e.start}${i}${c[r]}`:0===r?(""===c[r]?c[r]=`${t}${e.start}`:c[r]=`${t}${e.start} ${c[r]}`,r===c.length-1&&(c[r]+=` ${e.final}`)):r===c.length-1?""===c[r]?c[r]=`${t} ${e.final}`:c[r]=`${t} ${e.inner} ${c[r]} ${e.final}`:""===c[r]?c[r]=`${t} ${e.inner}`:c[r]=`${t} ${e.inner} ${c[r]}`;s.push(...c)}return s.join("\n")}async run(e,t,r){[t,r]=(0,g.sorted)(t,r),t=t.getLineBegin(),r=r.getLineEnd();let n=e.document.getText(new l.Range(t,r));n=this.reflowParagraph(n),e.recordedState.transformer.addTransformation({type:"replaceText",text:n,range:new l.Range(t,r),diff:g.PositionDiff.exactCharacter({character:0})}),await e.setCurrentMode(y.Mode.Normal)}};Q.CommentTypes=[{singleLine:!1,start:"/**",inner:"*",final:"*/"},{singleLine:!1,start:"/*",inner:"*",final:"*/"},{singleLine:!1,start:"{-",inner:"-",final:"-}"},{singleLine:!0,start:"///"},{singleLine:!0,start:"//!"},{singleLine:!0,start:"//"},{singleLine:!0,start:"--"},{singleLine:!0,start:"#"},{singleLine:!0,start:";"},{singleLine:!0,start:"*"},{singleLine:!0,start:"%"},{singleLine:!0,start:""}],Q=o=c([x.RegisterAction],Q)},9903:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(2425),o=r(4575),s=r(9359),a=r(9861),c=r(7183),u=r(5682),l=r(7245),d=r(1398);class h extends a.BaseMovement{doesActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}class f extends i.TextObject{doesActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.doesActionApply(e,t)}couldActionApply(e,t){return c.configuration.camelCaseMotion.enable&&super.couldActionApply(e,t)}}let p=class extends h{constructor(){super(...arguments),this.keys=["<leader>","w"]}async execAction(e,t){return!c.configuration.changeWordIncludesWhitespace&&t.recordedState.operator instanceof u.ChangeOperator?e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight():e.nextWordStart(t.document,{wordType:l.WordType.CamelCase})}};p=n([o.RegisterAction],p);let m=class extends h{constructor(){super(...arguments),this.keys=["<leader>","e"]}async execAction(e,t){return e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase})}async execActionForOperator(e,t){const r=e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase});return new d.Position(r.line,r.character+1)}};m=n([o.RegisterAction],m);let g=class extends h{constructor(){super(...arguments),this.keys=["<leader>","b"]}async execAction(e,t){return e.prevWordStart(t.document,{wordType:l.WordType.CamelCase})}};g=n([o.RegisterAction],g);let v=class extends f{constructor(){super(...arguments),this.modes=[s.Mode.Normal,s.Mode.Visual],this.keys=["i","<leader>","w"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return/\s/.test(i)?(r=e.prevWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight(),n=e.nextWordStart(t.document,{wordType:l.WordType.CamelCase}).getLeftThroughLineBreaks()):(r=e.prevWordStart(t.document,{wordType:l.WordType.CamelCase,inclusive:!0}),n=e.nextWordEnd(t.document,{wordType:l.WordType.CamelCase,inclusive:!0})),t.currentMode!==s.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document,{wordType:l.WordType.CamelCase}).getRight():e.prevWordStart(t.document,{wordType:l.WordType.CamelCase,inclusive:!0}))),{start:r,stop:n}}};v=n([o.RegisterAction],v)},7952:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotionLineMoveCommandBase=t.EasyMotionWordMoveCommandBase=t.EasyMotionCharMoveCommandBase=t.SearchByNCharCommand=t.SearchByCharCommand=void 0,t.buildTriggerKeys=function(e){return[...Array.from({length:e.leaderCount||2},(()=>"<leader>")),...e.key.split("")]};const i=r(7183),o=r(9359),s=r(4575),a=r(3094),c=r(5414),u=r(7892),l=r(8679),d=r(1398);class h extends s.BaseCommand{constructor(e){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._baseOptions=e}processMarkers(e,t,r){r.easyMotion.clearMarkers();let n=0;const i=new l.MarkerGenerator(e.length);for(const o of e){const e=this.resolveMatchPosition(o);if(!e.isEqual(t)){const t=i.generateMarker(n++,e);t&&r.easyMotion.addMarker(t)}}}searchOptions(e){switch(this._baseOptions.searchOptions){case"min":return{min:e};case"max":return{max:e};default:return{}}}async exec(e,t){if(i.configuration.easymotion){const r=this.getMatches(e,t);if(r.length>0)if(t.easyMotion=new a.EasyMotion,this.processMarkers(r,e,t),1===r.length){const e=t.easyMotion.markers[0];t.cursorStopPosition=e.position,t.easyMotion.clearDecorations(t.editor)}else t.easyMotion.previousMode=t.currentMode,await t.setCurrentMode(o.Mode.EasyMotionMode)}}}function f(e,t,r,n){switch(r){case"":return[];case" ":return t.easyMotion.sortedSearch(t.document,e,new RegExp(" {1,}","g"),n);default:if(!/[a-zA-Z]/.test(r))return t.easyMotion.sortedSearch(t.document,e,r,n);const o=!i.configuration.ignorecase||i.configuration.smartcase&&/[A-Z]/.test(r)?"g":"gi";return t.easyMotion.sortedSearch(t.document,e,new RegExp(r,o),n)}}t.SearchByCharCommand=class extends h{get searchCharCount(){return this._options.charCount}constructor(e){super(e),this.keys=[],this.searchString="",this._options=e}getMatches(e,t){return f(e,t,this.searchString,this.searchOptions(e))}shouldFire(){const e=this._options.charCount;return!e||this.searchString.length>=e}async fire(e,t){await this.exec(e,t)}resolveMatchPosition(e){const{line:t,character:r}=e.position;switch(this._options.labelPosition){case"after":return new d.Position(t,r+this._options.charCount);case"before":return new d.Position(t,Math.max(0,r-1));default:return e.position}}},t.SearchByNCharCommand=class extends h{get searchCharCount(){return-1}constructor(){super({}),this.keys=[],this.searchString=""}resolveMatchPosition(e){return e.position}getMatches(e,t){return f(e,t,this.removeTrailingLineBreak(this.searchString),{})}removeTrailingLineBreak(e){return e.replace(new RegExp("\n+$","g"),"")}shouldFire(){return this.searchString.endsWith("\n")}async fire(e,t){""!==this.removeTrailingLineBreak(this.searchString)&&await this.exec(e,t)}};class p extends s.BaseCommand{constructor(e){super(),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this._action=e}async exec(e,t){i.configuration.easymotion&&(t.easyMotion=new a.EasyMotion,t.easyMotion.previousMode=t.currentMode,t.easyMotion.searchAction=this._action,c.globalState.hl=!0,await t.setCurrentMode(o.Mode.EasyMotionInputMode))}}t.EasyMotionCharMoveCommandBase=p,t.EasyMotionWordMoveCommandBase=class extends h{constructor(e={}){super(e),this._options=e}getMatches(e,t){return this.getMatchesForWord(e,t,this.searchOptions(e))}resolveMatchPosition(e){const{line:t,character:r}=e.position;return"after"===this._options.labelPosition?new d.Position(t,r+e.text.length-1):e.position}getMatchesForWord(e,t,r){const n=this._options.jumpToAnywhere?new RegExp(i.configuration.easymotionJumpToAnywhereRegex,"g"):new RegExp("\\w{1,}","g");return t.easyMotion.sortedSearch(t.document,e,n,r)}},t.EasyMotionLineMoveCommandBase=class extends h{constructor(e={}){super(e),this._options=e}resolveMatchPosition(e){return e.position}getMatches(e,t){return this.getMatchesForLineStart(e,t,this.searchOptions(e))}getMatchesForLineStart(e,t,r){const n=t.easyMotion.sortedSearch(t.document,e,new RegExp("^.","gm"),r);for(const e of n)e.position=u.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,e.position.line);return n}};let m=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<character>"]}async exec(e,t){const r=this.keysPressed[0],n=t.easyMotion.searchAction;n.searchString="<BS>"===r||"<S-BS>"===r?n.searchString.slice(0,-1):n.searchString+r,n.shouldFire()&&(await t.setCurrentMode(t.easyMotion.previousMode),await n.fire(t.cursorStopPosition,t))}};m=n([s.RegisterAction],m);let g=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionInputMode],this.keys=["<Esc>"]}async exec(e,t){await t.setCurrentMode(o.Mode.Normal)}};g=n([s.RegisterAction],g);let v=class extends s.BaseCommand{constructor(){super(...arguments),this.modes=[o.Mode.EasyMotionMode],this.keys=["<character>"],this.isJump=!0}async exec(e,t){const r=this.keysPressed[0];if(r){const e=t.easyMotion.accumulation+r;t.easyMotion.accumulation=e;const n=t.easyMotion.findMarkers(e,!0);if(1===n.length){const e=n[0];t.easyMotion.clearDecorations(t.editor),await t.setCurrentMode(t.easyMotion.previousMode),t.cursorStopPosition=e.position}else 0===n.length&&(t.easyMotion.clearDecorations(t.editor),await t.setCurrentMode(t.easyMotion.previousMode))}}};v=n([s.RegisterAction],v)},3094:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.EasyMotion=void 0;const a=s(r(1398)),c=r(1398),u=r(7183),l=r(7892),d=r(4385);class h{static getFadeDecorationType(){return null===this.fade&&(this.fade=a.window.createTextEditorDecorationType({color:u.configuration.easymotionDimColor})),this.fade}constructor(){this.accumulation="",this.markers=[],this.visibleMarkers=[],this.decorations=[]}static getDecorationType(e,t){const r=this.decorationTypeCache[e];if(r)return r;{const r=a.window.createTextEditorDecorationType(t||{});return this.decorationTypeCache[e]=r,r}}clearDecorations(e){for(let t=1;t<=this.decorations.length;t++)e.setDecorations(h.getDecorationType(t),[]);e.setDecorations(h.getFadeDecorationType(),[]),e.setDecorations(h.hide,[])}clearMarkers(){for(;this.markers.length;)this.markers.pop();this.visibleMarkers=[]}addMarker(e){this.markers.push(e)}findMarkers(e,t){return(t?this.visibleMarkers:this.markers).filter((t=>t.name.startsWith(e)))}sortedSearch(e,t,r="",n={}){const i="string"==typeof r?new RegExp(r.replace(h.specialCharactersRegex,"\\$&"),"g"):r,o=[];let s,a=t.character;const u=e.lineCount,l=n.min?Math.max(n.min.line,0):0,f=n.max?Math.min(n.max.line+1,u):u;e:for(let r=l;r<f;r++){const u=e.lineAt(r).text;let l=i.exec(u);for(;l;){if(o.length>=1e3)break e;{const e=new c.Position(r,l.index);n.min&&e.isBefore(n.min)||n.max&&e.isAfter(n.max)||Math.abs(e.line-t.line)>100||(s&&!s.position.isBefore(t)||(a=o.length),e.isEqual(t)||(s=new d.Match(e,l[0],o.length),o.push(s))),l=i.exec(u)}}}return o.sort(((e,t)=>{const r=e=>{const t=Math.abs(a-e);return e<a?t-.5:t};return r(e.index)-r(t.index)})),o}getMarkerColor(e,t){return e||(t.startsWith("#")?t:new a.ThemeColor(t))}getEasymotionMarkerBackgroundColor(){return this.getMarkerColor(u.configuration.easymotionMarkerBackgroundColor,"#0000")}getEasymotionMarkerForegroundColorOneChar(){return this.getMarkerColor(u.configuration.easymotionMarkerForegroundColorOneChar,"#ff0000")}getEasymotionMarkerForegroundColorTwoCharFirst(){return this.getMarkerColor(u.configuration.easymotionMarkerForegroundColorTwoCharFirst,"#ffb400")}getEasymotionMarkerForegroundColorTwoCharSecond(){return this.getMarkerColor(u.configuration.easymotionMarkerForegroundColorTwoCharSecond,"#b98300")}getEasymotionDimColor(){return this.getMarkerColor(u.configuration.easymotionDimColor,"#777777")}updateDecorations(e){this.clearDecorations(e),this.visibleMarkers=[],this.decorations=[];const t=[],r={color:this.getEasymotionDimColor()},n=[],i=this.markers.filter((e=>e.name.startsWith(this.accumulation))).sort(((e,t)=>e.position.isBefore(t.position)?-1:1));for(const e of i){const o=e.position,s=e.name.substr(this.accumulation.length);this.decorations[s.length]||(this.decorations[s.length]=[]);let c=0;const l=i[i.indexOf(e)+1];if(l&&l.position.character-o.character==1&&l.position.line===o.line){const e=l.name.substr(this.accumulation.length);s.length>1&&e.length>1&&(c=-1)}const d=s.length>1?this.getEasymotionMarkerForegroundColorTwoCharFirst():this.getEasymotionMarkerForegroundColorOneChar(),h=this.getEasymotionMarkerBackgroundColor(),f=new a.Range(o.line,o.character,o.line,o.character),p={before:{contentText:s.substring(0,1),backgroundColor:h,color:d,margin:`0 -1ch 0 0;\n          position: absolute;\n          font-weight: ${u.configuration.easymotionMarkerFontWeight};`,height:"100%"}};if(this.decorations[s.length].push({range:f,renderOptions:{dark:p,light:p}}),s.length+c>1){const e=this.getEasymotionMarkerForegroundColorTwoCharSecond(),t=new a.Range(o.line,o.character+1,o.line,o.character+1),r={before:{contentText:s.slice(1),backgroundColor:h,color:e,margin:`0 -1ch 0 0;\n            position: absolute;\n            font-weight: ${u.configuration.easymotionMarkerFontWeight};`,height:"100%"}};this.decorations[s.length].push({range:t,renderOptions:{dark:r,light:r}})}if(n.push(new a.Range(o.line,o.character,o.line,o.character+s.length+c)),u.configuration.easymotionDimBackground)if(0===t.length)t.push({range:new a.Range(0,0,o.line,o.character),renderOptions:r});else{const n=i[i.indexOf(e)-1],s=n.name.substring(this.accumulation.length),c=n.position,u=c.withColumn(c.character+s.length);u.isAfterOrEqual(o)||t.push({range:new a.Range(u.line,u.character,o.line,o.character),renderOptions:r})}this.visibleMarkers.push(e)}if(u.configuration.easymotionDimBackground&&i.length>0){const n=i[i.length-1].name.substring(this.accumulation.length),o=t[t.length-1].range.end,s=o.withColumn(o.character+n.length);s.isEqual(l.TextEditor.getDocumentEnd(e.document))||t.push({range:new a.Range(s,new c.Position(e.document.lineCount,Number.MAX_VALUE)),renderOptions:r})}for(let t=1;t<this.decorations.length;t++)this.decorations[t]&&e.setDecorations(h.getDecorationType(t),this.decorations[t]);e.setDecorations(h.hide,n),u.configuration.easymotionDimBackground&&e.setDecorations(h.getFadeDecorationType(),t)}}t.EasyMotion=h,h.fade=null,h.hide=a.window.createTextEditorDecorationType({color:"transparent"}),h.specialCharactersRegex=/[\-\[\]{}()*+?.,\\\^$|#\s]/g,h.decorationTypeCache=[]},8679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerGenerator=void 0;const n=r(7183);t.MarkerGenerator=class{constructor(e){this.matchesCount=e,this.keyTable=this.getKeyTable(),this.prefixKeyTable=this.createPrefixKeyTable()}generateMarker(e,t){const{keyTable:r,prefixKeyTable:n}=this;if(e>=r.length-n.length){const i=e-(r.length-n.length),o=Math.floor(i/r.length)+1;return o>n.length?null:{name:n[o-1]+r[i%r.length],position:t}}return{name:r[e],position:t}}createPrefixKeyTable(){const e=Math.max(this.matchesCount-this.keyTable.length,0),t=Math.ceil(e/this.keyTable.length),r=this.keyTable.slice().reverse(),n=Math.min(t,r.length);return r.slice(0,n)}getKeyTable(){return n.configuration.easymotionKeys?n.configuration.easymotionKeys.split(""):"hklyuiopnm,qwertzxcvbasdgjf;".split("")}}},1671:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4575),o=r(7952);let s=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByNCharCommand),this.keys=(0,o.buildTriggerKeys)({key:"/"})}};s=n([i.RegisterAction],s);let a=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2})),this.keys=(0,o.buildTriggerKeys)({key:"2s"})}};a=n([i.RegisterAction],a);let c=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"min"})),this.keys=(0,o.buildTriggerKeys)({key:"2f"})}};c=n([i.RegisterAction],c);let u=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"max"})),this.keys=(0,o.buildTriggerKeys)({key:"2F"})}};u=n([i.RegisterAction],u);let l=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"min",labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"2t"})}};l=n([i.RegisterAction],l);let d=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"bd2t",leaderCount:3})}};d=n([i.RegisterAction],d);let h=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:2,searchOptions:"max",labelPosition:"after"})),this.keys=(0,o.buildTriggerKeys)({key:"2T"})}};h=n([i.RegisterAction],h);let f=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1})),this.keys=(0,o.buildTriggerKeys)({key:"s"})}};f=n([i.RegisterAction],f);let p=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"min"})),this.keys=(0,o.buildTriggerKeys)({key:"f"})}};p=n([i.RegisterAction],p);let m=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"max"})),this.keys=(0,o.buildTriggerKeys)({key:"F"})}};m=n([i.RegisterAction],m);let g=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"min",labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"t"})}};g=n([i.RegisterAction],g);let v=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,labelPosition:"before"})),this.keys=(0,o.buildTriggerKeys)({key:"bdt",leaderCount:3})}};v=n([i.RegisterAction],v);let y=class extends o.EasyMotionCharMoveCommandBase{constructor(){super(new o.SearchByCharCommand({charCount:1,searchOptions:"max",labelPosition:"after"})),this.keys=(0,o.buildTriggerKeys)({key:"T"})}};y=n([i.RegisterAction],y);let b=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"min"}),this.keys=(0,o.buildTriggerKeys)({key:"w"})}};b=n([i.RegisterAction],b);let w=class extends o.EasyMotionWordMoveCommandBase{constructor(){super(...arguments),this.keys=(0,o.buildTriggerKeys)({key:"bdw",leaderCount:3})}};w=n([i.RegisterAction],w);let x=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,searchOptions:"min",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"l"})}};x=n([i.RegisterAction],x);let S=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,searchOptions:"max",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"h"})}};S=n([i.RegisterAction],S);let M=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({jumpToAnywhere:!0,labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"j",leaderCount:3})}};M=n([i.RegisterAction],M);let C=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"min",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"e"})}};C=n([i.RegisterAction],C);let _=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"bde",leaderCount:3})}};_=n([i.RegisterAction],_);let P=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"max"}),this.keys=(0,o.buildTriggerKeys)({key:"b"})}};P=n([i.RegisterAction],P);let k=class extends o.EasyMotionWordMoveCommandBase{constructor(){super({searchOptions:"max",labelPosition:"after"}),this.keys=(0,o.buildTriggerKeys)({key:"ge"})}};k=n([i.RegisterAction],k);let R=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({searchOptions:"min"}),this.keys=(0,o.buildTriggerKeys)({key:"j"})}};R=n([i.RegisterAction],R);let E=class extends o.EasyMotionLineMoveCommandBase{constructor(){super({searchOptions:"max"}),this.keys=(0,o.buildTriggerKeys)({key:"k"})}};E=n([i.RegisterAction],E);let A=class extends o.EasyMotionLineMoveCommandBase{constructor(){super(...arguments),this.keys=(0,o.buildTriggerKeys)({key:"bdjk",leaderCount:3})}};A=n([i.RegisterAction],A)},4385:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Match=void 0;const a=s(r(1398));t.Match=class{constructor(e,t,r){this.position=e,this.text=t,this.index=r}toRange(){return new a.Range(this.position,this.position.translate(0,this.text.length))}}},2382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcher=void 0;const n=r(3501),i=r(9359),o=r(7183),s=r(5317);function a(e){return new Promise(((t,r)=>{try{(0,s.exec)(e,((e,n,i)=>{e?r(e):t(n)}))}catch(e){r(e)}}))}t.InputMethodSwitcher=class{constructor(e=a){this.savedIMKey="",this.execute=e}async switchInputMethod(e,t){if(!0!==o.configuration.autoSwitchInputMethod.enable)return;const r=this.isInsertLikeMode(e),n=this.isInsertLikeMode(t);r!==n&&(n?await this.resumeIM():await this.switchToDefaultIM())}async switchToDefaultIM(){const e=o.configuration.autoSwitchInputMethod.obtainIMCmd;try{const t=await this.execute(e);void 0!==t&&(this.savedIMKey=t.trim())}catch(e){n.Logger.error(`Error switching to default IM. err=${e}`)}const t=o.configuration.autoSwitchInputMethod.defaultIM;t!==this.savedIMKey&&await this.switchToIM(t)}async resumeIM(){this.savedIMKey!==o.configuration.autoSwitchInputMethod.defaultIM&&await this.switchToIM(this.savedIMKey)}async switchToIM(e){let t=o.configuration.autoSwitchInputMethod.switchIMCmd;if(""!==e&&void 0!==e){t=t.replace("{im}",e);try{await this.execute(t)}catch(e){n.Logger.error(`Error switching to IM. err=${e}`)}}}isInsertLikeMode(e){return[i.Mode.Insert,i.Mode.Replace,i.Mode.SurroundInputMode].includes(e)}}},9544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDefaultMappings=void 0;class r{static getPluginDefaultMappings(e,t){return this.defaultMappings.filter((r=>r.mode===e&&t[r.configSwitch])).map((e=>e.mapping))}}t.PluginDefaultMappings=r,r.defaultMappings=[{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["y","s"],after:["<plugys>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["y","s","s"],after:["<plugys>","<plugys>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["c","s"],after:["<plugcs>"]}},{mode:"normalModeKeyBindingsNonRecursive",configSwitch:"surround",mapping:{before:["d","s"],after:["<plugds>"]}}]},8570:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(7183),o=r(9359),s=r(6007),a=r(5682),c=r(4575),u=r(6275),l=r(4546),d=r(1398),h=r(8104);let f=class extends a.BaseOperator{constructor(){super(...arguments),this.keys=["g","r"],this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine]}doesActionApply(e,t){return i.configuration.replaceWithRegister&&super.doesActionApply(e,t)}couldActionApply(e,t){return i.configuration.replaceWithRegister&&super.doesActionApply(e,t)}async run(e,t,r){const n=e.currentRegisterMode===s.RegisterMode.LineWise?new d.Range(t.getLineBegin(),r.getLineEndIncludingEOL()):new d.Range(t,r.getRight()),i=await s.Register.get(e.recordedState.registerName,this.multicursorIndex);if(void 0===i)return void u.StatusBar.displayError(e,l.VimError.fromCode(l.ErrorCode.NothingInRegister,e.recordedState.registerName));const a=i.text;e.recordedState.transformer.addTransformation({type:"replaceText",range:n,text:a,diff:h.PositionDiff.exactPosition(p(e,n,a))}),await e.setCurrentMode(o.Mode.Normal)}};f=n([c.RegisterAction],f);const p=(e,t,r)=>{const{recordedState:{actionKeys:n}}=e,i=r.split("\n"),o=0===n.indexOf("r")&&1===n.length;return 1===i.length&&t.isSingleLine&&!o?m(t,r):g(t.start.line,i[0])},m=(e,t)=>new d.Position(e.start.line,Math.max(0,e.start.character+t.length-1)),g=(e,t)=>new d.Position(e,t.match(/\S/)?.index??0)},7491:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SneakBackward=t.SneakForward=void 0;const s=r(7183),a=r(4575),c=r(9861),u=r(1398);let l=n=class extends c.BaseMovement{constructor(){super(...arguments),this.keys=[["s","<character>","<character>"],["z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"s":"z";return s.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new n(this.keysPressed,!0),t.lastCommaRepeatableMovement=new d(this.keysPressed,!0)),"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const r=this.keysPressed[1]+this.keysPressed[2],i=t.document,o=i.lineCount;for(let t=e.line;t<o;++t){const n=i.lineAt(t).text,o=t===e.line?e.character+1:0;let a=-1;if(a=!s.configuration.sneakUseIgnorecaseAndSmartcase||!s.configuration.ignorecase||s.configuration.smartcase&&/[A-Z]/.test(r)?n.indexOf(r,o):n.toLocaleLowerCase().indexOf(r.toLocaleLowerCase(),o),a>=0)return new u.Position(t,a)}return e}};t.SneakForward=l,t.SneakForward=l=n=o([a.RegisterAction],l);let d=i=class extends c.BaseMovement{constructor(){super(...arguments),this.keys=[["S","<character>","<character>"],["Z","<character>","<character>"]],this.isJump=!0}couldActionApply(e,t){const r=void 0===e.recordedState.operator?"S":"Z";return s.configuration.sneak&&super.couldActionApply(e,t)&&t[0]===r}async execAction(e,t){this.isRepeat||(t.lastSemicolonRepeatableMovement=new i(this.keysPressed,!0),t.lastCommaRepeatableMovement=new l(this.keysPressed,!0)),"\n"===this.keysPressed[2]&&(this.keysPressed[2]="");const r=this.keysPressed[1]+this.keysPressed[2],n=t.document;for(let t=e.line;t>=0;--t){const i=n.lineAt(t).text,o=t===e.line?e.character-1:1/0;let a=-1;if(a=!s.configuration.sneakUseIgnorecaseAndSmartcase||!s.configuration.ignorecase||s.configuration.smartcase&&/[A-Z]/.test(r)?i.lastIndexOf(r,o):i.toLocaleLowerCase().lastIndexOf(r.toLocaleLowerCase(),o),a>=0)return new u.Position(t,a)}return e}};t.SneakBackward=d,t.SneakBackward=d=i=o([a.RegisterAction],d)},8617:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandSurroundAddSurroundingFunction=t.CommandSurroundAddSurroundingTag=void 0;const i=r(1398),o=r(2425),s=r(9861),a=r(8800),c=r(8104),u=r(7183),l=r(9359),d=r(4575),h=r(5682);class f extends h.BaseOperator{doesActionApply(e,t){return u.configuration.surround&&super.doesActionApply(e,t)}}let p=class extends f{constructor(){super(...arguments),this.keys=["<plugys>"],this.modes=[l.Mode.Normal]}async run(e,t,r){this.multicursorIndex||(e.surround={operator:"yank",target:void 0,replacement:"",edges:[],previousMode:e.currentMode});const n=this.multicursorIndex??0;e.surround.edges.push((()=>{const s=new i.Range(r.getRight(),r.getRight()),c=r.getRight().prevWordEnd(e.document),u=new i.Range(c.getRight(),c.getRight()),l=e.recordedState.actionsRun[e.recordedState.actionsRun.length-1],d=l instanceof a.MoveWordBegin||l instanceof a.MoveFullWordBegin||l instanceof o.SelectABigWord||l instanceof o.SelectWord?u:s;return{leftEdge:new i.Range(t,t),rightEdge:d,cursorIndex:n}})()),e.cursorStartPosition=t,e.cursorStopPosition=e.currentMode===l.Mode.Visual?r:t,await e.setCurrentMode(l.Mode.SurroundInputMode)}async runRepeat(e,t,r){await this.run(e,t.getLineBeginRespectingIndent(e.document),t.getDown(Math.max(0,r-1)).getLineEnd().prevWordEnd(e.document))}};p=n([d.RegisterAction],p);let m=class extends f{constructor(){super(...arguments),this.modes=[l.Mode.Visual],this.keys=["S"]}async run(e,t,r){[t,r]=(0,c.sorted)(t,r),await new p(this.multicursorIndex).run(e,t,r)}};m=n([d.RegisterAction],m);let g=class extends f{constructor(){super(...arguments),this.modes=[l.Mode.VisualLine],this.keys=["S"]}async run(e,t,r){[t,r]=(0,c.sorted)(t.getLineBegin(),r.getLineEnd()),this.multicursorIndex||(e.surround={target:void 0,operator:"yank",replacement:"",addNewline:!0,edges:[],previousMode:e.currentMode}),e.surround?.edges.push({leftEdge:new i.Range(t,t),rightEdge:new i.Range(r,r),cursorIndex:this.multicursorIndex??0}),e.cursorStartPosition=t,e.cursorStopPosition=r,await e.setCurrentMode(l.Mode.SurroundInputMode)}};g=n([d.RegisterAction],g);class v extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.Normal],this.createsUndoPoint=!0}runsOnceForEveryCursor(){return!0}doesActionApply(e,t){const r=t[t.length-1];return u.configuration.surround&&super.doesActionApply(e,t)&&void 0!==_.edgePairings[r]}}let y=class extends v{constructor(){super(...arguments),this.keys=["<plugds>","<any>"],this.keysHasCnt=!1}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];if(this.keysHasCnt){const e=this.keysPressed[this.keysPressed.length-2];t.recordedState.count=parseInt(e,void 0)}t.surround={operator:"delete",target:r,replacement:"",edges:[],previousMode:l.Mode.Normal};const n=await _.getReplaceRanges(t,e,this.multicursorIndex??0);n&&(t.surround.edges=[n],await _.ExecuteSurround(t))}};y=n([d.RegisterAction],y);let b=class extends y{constructor(){super(...arguments),this.keys=["<plugds>","<number>","<any>"],this.keysHasCnt=!0}};b=n([d.RegisterAction],b);let w=class extends v{constructor(){super(...arguments),this.keys=["<plugcs>","<any>"],this.isCompleteAction=!1,this.keysHasCnt=!1}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];if(this.keysHasCnt){const e=this.keysPressed[this.keysPressed.length-2];t.recordedState.count=parseInt(e,void 0)}this.multicursorIndex||(t.surround={operator:"change",target:r,replacement:"",edges:[],previousMode:l.Mode.Normal});const n=await _.getReplaceRanges(t,e,this.multicursorIndex??0);n&&t.surround.edges.push(n),await t.setCurrentMode(l.Mode.SurroundInputMode)}};w=n([d.RegisterAction],w);let x=class extends w{constructor(){super(...arguments),this.keys=["<plugcs>","<number>","<any>"],this.keysHasCnt=!0}};x=n([d.RegisterAction],x);let S=class extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.SurroundInputMode],this.keys=["<any>"],this.isCompleteAction=!0}runsOnceForEveryCursor(){return!1}doesActionApply(e,t){const r=t[t.length-1];return u.configuration.surround&&super.doesActionApply(e,t)&&"t"!==r&&"<"!==r&&"f"!==r&&"F"!==r&&"<C-f>"!==r}async exec(e,t){const r=this.keysPressed[this.keysPressed.length-1];if(!t.surround||!_.edgePairings[r])return t.surround=void 0,void await t.setCurrentMode(l.Mode.Normal);t.surround.replacement=r,await _.ExecuteSurround(t)}};S=n([d.RegisterAction],S);let M=class extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.SurroundInputMode],this.keys=[["<"],["t"]],this.isCompleteAction=!0,this.recordedTag=""}runsOnceForEveryCursor(){return!1}async exec(e,t){if(!t.surround)return;t.surround.replacement="t";const r=t.dotCommandStatus===l.DotCommandStatus.Executing||t.isReplayingMacro?this.recordedTag:await this.readTag();if(!r)return t.surround=void 0,void await t.setCurrentMode(l.Mode.Normal);var n;this.recordedTag=r,t.surround.tag=">"===(n=r).substring(n.length-1)?{tag:n.substring(0,n.length-1),keepAttributes:!1}:{tag:n,keepAttributes:!0},await _.ExecuteSurround(t)}async readTag(){return i.window.showInputBox({prompt:"Enter tag",ignoreFocusOut:!0})}};t.CommandSurroundAddSurroundingTag=M,t.CommandSurroundAddSurroundingTag=M=n([d.RegisterAction],M);let C=class extends d.BaseCommand{constructor(){super(...arguments),this.modes=[l.Mode.SurroundInputMode],this.keys=[["f"],["F"],["<C-f>"]],this.isCompleteAction=!0,this.recordedFunction=""}runsOnceForEveryCursor(){return!1}async exec(e,t){if(!t.surround)return;t.surround.replacement="F"===this.keysPressed[this.keysPressed.length-1]?"(":")";const r=t.dotCommandStatus===l.DotCommandStatus.Executing||t.isReplayingMacro?this.recordedFunction:await this.readFunction();if(!r)return t.surround=void 0,void await t.setCurrentMode(l.Mode.Normal);this.recordedFunction=r,t.surround.function=this.formatFunction(r),await _.ExecuteSurround(t)}async readFunction(){return i.window.showInputBox({prompt:"Enter function",ignoreFocusOut:!0})}formatFunction(e){switch(this.keysPressed[this.keysPressed.length-1]){case"f":return e+"(";case"F":return e+"( ";default:return"("+e+" "}}};t.CommandSurroundAddSurroundingFunction=C,t.CommandSurroundAddSurroundingFunction=C=n([d.RegisterAction],C);class _{static async getReplaceRanges(e,t,r){if(!e.surround||!e.surround.target)return;const n=this.edgePairings[e.surround.target];if(!n)return;const{removeSpace:o,movement:c}=n;e.cursorStartPosition=t;const u=e.recordedState.count||1,l=await c().execActionWithCount(t,e,u);if(!(0,s.isIMovement)(l)||l.failed)return;let d=l.start,h=l.stop;return"t"===e.surround.target?(async()=>{const n=d.getRight(),o=n.nextWordEnd(e.document,{inclusive:!0}).getRight(),c=h.getLeft(2).prevWordStart(e.document,{inclusive:!0}),l=h.getLeft();e.cursorStartPosition=t,e.cursorStopPosition=t;const f=1===u?await(new a.MoveInsideTag).execActionWithCount(t,e,1):await(new a.MoveAroundTag).execActionWithCount(t,e,u-1);return!(0,s.isIMovement)(f)||f.failed?void 0:{leftEdge:new i.Range(d,f.start),rightEdge:new i.Range(f.stop,h),leftTagName:new i.Range(n,o),rightTagName:new i.Range(c,l),cursorIndex:r}})():(()=>{c()instanceof a.MoveInsideCharacter&&(h=h.getLeft()),n.extraChars&&(d=d.getLeft(n.extraChars),h=h.getRight(n.extraChars));const t=(()=>{const t=e.editor.document.getText(new i.Range(d.getRight(),d.getRight(2))),r=e.editor.document.getText(new i.Range(h.getLeft(),h));return o&&" "===t&&" "===r?1:0})();return{leftEdge:new i.Range(d,d.getRight(1+t)),rightEdge:new i.Range(h.getLeft(t),h.getRight()),cursorIndex:r}})()}static async ExecuteSurround(e){const t=e.surround;if(!t||!t.edges)return;const r=this.edgePairings[t.replacement];if(!r&&"delete"!==t.operator)throw new Error("replacement missing in pairs");if("t"===t.target&&t.tag&&t.tag.keepAttributes)for(const{leftTagName:r,rightTagName:n}of t.edges)t.tag&&r&&n&&(e.recordedState.transformer.replace(r,t.tag.tag),e.recordedState.transformer.replace(n,t.tag.tag));else{const n=t.addNewline?"\n":"",i="delete"===t.operator?"":t.tag?"<"+t.tag.tag+">"+n:t.function?t.function+n:r.left+n,o="delete"===t.operator?"":t.tag?n+"</"+_.trimAttributes(t.tag.tag)+">":n+r.right;for(const{leftEdge:r,rightEdge:n,cursorIndex:s}of t.edges)e.recordedState.transformer.addTransformation({type:"replaceText",text:i,range:r,cursorIndex:s,diff:"yank"===t.operator?c.PositionDiff.offset({character:-i.length}):void 0}),e.recordedState.transformer.addTransformation({type:"replaceText",text:o,range:n})}await e.setCurrentMode(l.Mode.Normal)}static trimAttributes(e){const t=e.indexOf(" ");return-1!==t?e.substring(0,t):e}}_.edgePairings={"(":{left:"( ",right:" )",removeSpace:!0,movement:()=>new a.MoveAroundParentheses},")":{left:"(",right:")",removeSpace:!1,movement:()=>new a.MoveAroundParentheses},"[":{left:"[ ",right:" ]",removeSpace:!0,movement:()=>new a.MoveAroundSquareBracket},"]":{left:"[",right:"]",removeSpace:!1,movement:()=>new a.MoveAroundSquareBracket},"{":{left:"{ ",right:" }",removeSpace:!0,movement:()=>new a.MoveAroundCurlyBrace},"}":{left:"{",right:"}",removeSpace:!1,movement:()=>new a.MoveAroundCurlyBrace},">":{left:"<",right:">",removeSpace:!1,movement:()=>new a.MoveAroundCaret},'"':{left:'"',right:'"',removeSpace:!1,movement:()=>new a.MoveAroundDoubleQuotes(!1)},"'":{left:"'",right:"'",removeSpace:!1,movement:()=>new a.MoveAroundSingleQuotes(!1)},"`":{left:"`",right:"`",removeSpace:!1,movement:()=>new a.MoveAroundBacktick(!1)},"<":{left:"",right:"",removeSpace:!1,movement:()=>new a.MoveAroundTag},"*":{left:"*",right:"*",removeSpace:!1,movement:()=>new o.SelectInnerWord,extraChars:1},b:{left:"(",right:")",removeSpace:!1,movement:()=>new a.MoveAroundParentheses},r:{left:"[",right:"]",removeSpace:!1,movement:()=>new a.MoveAroundSquareBracket},B:{left:"{",right:"}",removeSpace:!1,movement:()=>new a.MoveAroundCurlyBrace},a:{left:"<",right:">",removeSpace:!1,movement:()=>new a.MoveAroundCaret},t:{left:"",right:"",removeSpace:!1,movement:()=>new a.MoveAroundTag},_:{left:"_",right:"_",removeSpace:!1,movement:()=>new o.SelectInnerWord}}},7910:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LastObject=function(e){return c(e,"l")},t.NextObject=function(e){return c(e,"n")};const n=r(9359),i=r(3501),o=r(9861),s=r(5171),a=r(3666);function c(e,t){class r extends o.BaseMovement{doesActionApply(e,t){return this.valid&&(0,a.bracketObjectsEnabled)()&&super.doesActionApply(e,t)}constructor(){super(),this.isJump=!0,this.secondKey=t,this.actual=new e;const r=this.secondKey,n=e=>2===e.length?[e[0],r,e[1]]:void 0,o=`failed to register ${"l"===t?"last":"next"} for ${e.name}`;if(this.actual.keys.length<1)return this.valid=!1,this.keys=[],void i.Logger.error(o);if("string"==typeof this.actual.keys[0]){const e=n(this.actual.keys);if(void 0===e)return this.valid=!1,this.keys=[],void i.Logger.error(o);this.keys=e}else{const e=this.actual.keys.map((e=>n(e)));if(!e.every((e=>void 0!==e)))return this.valid=!1,this.keys=[],void i.Logger.error(o);this.keys=e}this.valid=!0}async execAction(e,r,i,a){const c=(0,s.searchPosition)(this.charToFind,r.document,e,{direction:"l"===t?"<":">",includeCursor:!1,throughLineBreaks:!0});if(void 0===c)return(0,o.failedMovement)(r);r.cursorStartPosition=c,r.cursorStopPosition=c;const u=await this.actual.execAction(c,r,i,a);if(u.failed)return u;const{start:l,stop:d}=u;return!(0,n.isVisualMode)(r.currentMode)&&e.isBefore(l)?r.recordedState.operatorPositionDiff=l.subtract(e):!(0,n.isVisualMode)(r.currentMode)&&e.isAfter(d)&&(e.line===d.line?r.recordedState.operatorPositionDiff=d.subtract(e):r.recordedState.operatorPositionDiff=l.subtract(e)),r.cursorStartPosition=l,r.cursorStopPosition=d,u}}return r}},8553:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0});const i=r(4575),o=r(8800),s=r(7910);let a=class extends((0,s.NextObject)(o.MoveInsideParentheses)){constructor(){super(...arguments),this.charToFind="("}};a=n([i.RegisterAction],a);let c=class extends((0,s.LastObject)(o.MoveInsideParentheses)){constructor(){super(...arguments),this.charToFind=")"}};c=n([i.RegisterAction],c);let u=class extends((0,s.NextObject)(o.MoveAroundParentheses)){constructor(){super(...arguments),this.charToFind="("}};u=n([i.RegisterAction],u);let l=class extends((0,s.LastObject)(o.MoveAroundParentheses)){constructor(){super(...arguments),this.charToFind=")"}};l=n([i.RegisterAction],l);let d=class extends((0,s.NextObject)(o.MoveInsideCurlyBrace)){constructor(){super(...arguments),this.charToFind="{"}};d=n([i.RegisterAction],d);let h=class extends((0,s.LastObject)(o.MoveInsideCurlyBrace)){constructor(){super(...arguments),this.charToFind="}"}};h=n([i.RegisterAction],h);let f=class extends((0,s.NextObject)(o.MoveAroundCurlyBrace)){constructor(){super(...arguments),this.charToFind="{"}};f=n([i.RegisterAction],f);let p=class extends((0,s.LastObject)(o.MoveAroundCurlyBrace)){constructor(){super(...arguments),this.charToFind="}"}};p=n([i.RegisterAction],p);let m=class extends((0,s.NextObject)(o.MoveInsideSquareBracket)){constructor(){super(...arguments),this.charToFind="["}};m=n([i.RegisterAction],m);let g=class extends((0,s.LastObject)(o.MoveInsideSquareBracket)){constructor(){super(...arguments),this.charToFind="]"}};g=n([i.RegisterAction],g);let v=class extends((0,s.NextObject)(o.MoveAroundSquareBracket)){constructor(){super(...arguments),this.charToFind="["}};v=n([i.RegisterAction],v);let y=class extends((0,s.LastObject)(o.MoveAroundSquareBracket)){constructor(){super(...arguments),this.charToFind="]"}};y=n([i.RegisterAction],y);let b=class extends((0,s.NextObject)(o.MoveInsideCaret)){constructor(){super(...arguments),this.charToFind="<"}};b=n([i.RegisterAction],b);let w=class extends((0,s.LastObject)(o.MoveInsideCaret)){constructor(){super(...arguments),this.charToFind=">"}};w=n([i.RegisterAction],w);let x=class extends((0,s.NextObject)(o.MoveAroundCaret)){constructor(){super(...arguments),this.charToFind="<"}};x=n([i.RegisterAction],x);let S=class extends((0,s.LastObject)(o.MoveAroundCaret)){constructor(){super(...arguments),this.charToFind=">"}};S=n([i.RegisterAction],S)},5171:(e,t)=>{"use strict";function r(e,{count:t=1,throughLineBreaks:r,dontMove:n}){return n?e:r?e.getOffsetThroughLineBreaks(-t):e.getLeft(t)}function n(e,{count:t=1,throughLineBreaks:r,dontMove:n}){return n?e:r?e.getOffsetThroughLineBreaks(t):e.getRight(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.maybeGetLeft=r,t.maybeGetRight=n,t.searchPosition=function(e,t,i,o={direction:">",includeCursor:!0,throughLineBreaks:!1}){return"<"===o.direction?function(e,t,r,n={throughLineBreaks:!1}){let i=r;for(let o=i.line;o>=0&&(n.throughLineBreaks||o===r.line);o--){i=t.validatePosition(i.with({line:o}));const r=t.lineAt(i).text.lastIndexOf(e,i.character);if(r>=0)return i.with({character:r});i=i.with({character:1/0})}}(e,t,i=r(i,{dontMove:o.includeCursor,throughLineBreaks:o.throughLineBreaks}),o):function(e,t,r,n={throughLineBreaks:!1}){let i=r;for(let o=i.line;o<t.lineCount&&(n.throughLineBreaks||o===r.line);o++){i=t.validatePosition(i.with({line:o}));const r=t.lineAt(i).text.indexOf(e,i.character);if(r>=0)return i.with({character:r});i=i.with({character:0})}}(e,t,i=n(i,{dontMove:o.includeCursor,throughLineBreaks:o.throughLineBreaks}),o)}},550:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MoveInsideLastQuote=t.MoveAroundLastQuote=t.MoveInsideNextQuote=t.MoveAroundNextQuote=t.MoveInsideQuote=t.MoveAroundQuote=t.MoveInsideLastBacktick=t.MoveAroundLastBacktick=t.MoveInsideNextBacktick=t.MoveAroundNextBacktick=t.MoveInsideLastDoubleQuotes=t.MoveAroundLastDoubleQuotes=t.MoveInsideNextDoubleQuotes=t.MoveAroundNextDoubleQuotes=t.MoveInsideLastSingleQuotes=t.MoveAroundLastSingleQuotes=t.MoveInsideNextSingleQuotes=t.MoveAroundNextSingleQuotes=void 0;const i=r(4575),o=r(9359),s=r(8800);class a extends s.MoveQuoteMatch{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualBlock]}}let c=class extends a{constructor(){super(...arguments),this.keys=["a","n","'"],this.charToMatch="'",this.which="next",this.includeQuotes=!0}};t.MoveAroundNextSingleQuotes=c,t.MoveAroundNextSingleQuotes=c=n([i.RegisterAction],c);let u=class extends a{constructor(){super(...arguments),this.keys=["i","n","'"],this.charToMatch="'",this.which="next",this.includeQuotes=!1}};t.MoveInsideNextSingleQuotes=u,t.MoveInsideNextSingleQuotes=u=n([i.RegisterAction],u);let l=class extends a{constructor(){super(...arguments),this.keys=["a","l","'"],this.charToMatch="'",this.which="last",this.includeQuotes=!0}};t.MoveAroundLastSingleQuotes=l,t.MoveAroundLastSingleQuotes=l=n([i.RegisterAction],l);let d=class extends a{constructor(){super(...arguments),this.keys=["i","l","'"],this.charToMatch="'",this.which="last",this.includeQuotes=!1}};t.MoveInsideLastSingleQuotes=d,t.MoveInsideLastSingleQuotes=d=n([i.RegisterAction],d);let h=class extends a{constructor(){super(...arguments),this.keys=["a","n",'"'],this.charToMatch='"',this.which="next",this.includeQuotes=!0}};t.MoveAroundNextDoubleQuotes=h,t.MoveAroundNextDoubleQuotes=h=n([i.RegisterAction],h);let f=class extends a{constructor(){super(...arguments),this.keys=["i","n",'"'],this.charToMatch='"',this.which="next",this.includeQuotes=!1}};t.MoveInsideNextDoubleQuotes=f,t.MoveInsideNextDoubleQuotes=f=n([i.RegisterAction],f);let p=class extends a{constructor(){super(...arguments),this.keys=["a","l",'"'],this.charToMatch='"',this.which="last",this.includeQuotes=!0}};t.MoveAroundLastDoubleQuotes=p,t.MoveAroundLastDoubleQuotes=p=n([i.RegisterAction],p);let m=class extends a{constructor(){super(...arguments),this.keys=["i","l",'"'],this.charToMatch='"',this.which="last",this.includeQuotes=!1}};t.MoveInsideLastDoubleQuotes=m,t.MoveInsideLastDoubleQuotes=m=n([i.RegisterAction],m);let g=class extends a{constructor(){super(...arguments),this.keys=["a","n","`"],this.charToMatch="`",this.which="next",this.includeQuotes=!0}};t.MoveAroundNextBacktick=g,t.MoveAroundNextBacktick=g=n([i.RegisterAction],g);let v=class extends a{constructor(){super(...arguments),this.keys=["i","n","`"],this.charToMatch="`",this.which="next",this.includeQuotes=!1}};t.MoveInsideNextBacktick=v,t.MoveInsideNextBacktick=v=n([i.RegisterAction],v);let y=class extends a{constructor(){super(...arguments),this.keys=["a","l","`"],this.charToMatch="`",this.which="last",this.includeQuotes=!0}};t.MoveAroundLastBacktick=y,t.MoveAroundLastBacktick=y=n([i.RegisterAction],y);let b=class extends a{constructor(){super(...arguments),this.keys=["i","l","`"],this.charToMatch="`",this.which="last",this.includeQuotes=!1}};t.MoveInsideLastBacktick=b,t.MoveInsideLastBacktick=b=n([i.RegisterAction],b);let w=class extends a{constructor(){super(...arguments),this.keys=["a","q"],this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!0}};t.MoveAroundQuote=w,t.MoveAroundQuote=w=n([i.RegisterAction],w);let x=class extends a{constructor(){super(...arguments),this.keys=["i","q"],this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!1}};t.MoveInsideQuote=x,t.MoveInsideQuote=x=n([i.RegisterAction],x);let S=class extends a{constructor(){super(...arguments),this.keys=["a","n","q"],this.which="next",this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!0}};t.MoveAroundNextQuote=S,t.MoveAroundNextQuote=S=n([i.RegisterAction],S);let M=class extends a{constructor(){super(...arguments),this.keys=["i","n","q"],this.which="next",this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!1}};t.MoveInsideNextQuote=M,t.MoveInsideNextQuote=M=n([i.RegisterAction],M);let C=class extends a{constructor(){super(...arguments),this.keys=["a","l","q"],this.which="last",this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!0}};t.MoveAroundLastQuote=C,t.MoveAroundLastQuote=C=n([i.RegisterAction],C);let _=class extends a{constructor(){super(...arguments),this.keys=["i","l","q"],this.which="last",this.anyQuote=!0,this.charToMatch='"',this.includeQuotes=!1}};t.MoveInsideLastQuote=_,t.MoveInsideLastQuote=_=n([i.RegisterAction],_)},7958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartQuoteMatcher=void 0;const n=r(7183);var i;!function(e){e[e.Opening=0]="Opening",e[e.Closing=1]="Closing"}(i||(i={}));const o={"002":{search:{first:">",second:">",includeCurrent:!1},skipToLeft:0,skipToRight:1},"012":{search:{first:">",second:">",includeCurrent:!0},skipToLeft:0,skipToRight:2},102:{search:{first:"<",second:">",includeCurrent:!1},skipToLeft:2,skipToRight:2},112:{search:{first:"<",second:"<",includeCurrent:!0},skipToLeft:2,skipToRight:1},202:{search:{first:">",second:">",includeCurrent:!1},skipToLeft:1,skipToRight:1},211:{search:{first:">",second:">",includeCurrent:!0},skipToLeft:1,skipToRight:2},101:{search:{first:"<",second:">",includeCurrent:!1},skipToLeft:2,skipToRight:2},"011":{search:{first:">",second:">",includeCurrent:!0},skipToLeft:0,skipToRight:2},110:{search:{first:"<",second:"<",includeCurrent:!0},skipToLeft:2,skipToRight:0},212:{search:{first:">",second:">",includeCurrent:!0},skipToLeft:1,skipToRight:2},111:{search:{first:"<",second:"<",includeCurrent:!0},skipToLeft:2,skipToRight:1},200:{search:{first:"<",second:"<",includeCurrent:!1},skipToLeft:1,skipToRight:0},201:{search:{first:">",second:">",includeCurrent:!1},skipToLeft:1,skipToRight:1},210:{search:void 0,skipToLeft:1,skipToRight:0},"001":{search:void 0,skipToLeft:0,skipToRight:1},"010":{search:void 0,skipToLeft:0,skipToRight:0},100:{search:void 0,skipToLeft:2,skipToRight:0},"000":{search:void 0,skipToLeft:0,skipToRight:0}};class s{constructor(e,t){this.quote=e,this.document=t}buildQuoteMap(e){const t=[];let r=!0;for(let n=0;n<e.length;n++)e[n]!==s.escapeChar?("any"!==this.quote||'"'!==e[n]&&"'"!==e[n]&&"`"!==e[n])&&e[n]!==this.quote||(t[n]=r?i.Opening:i.Closing,r=!r):n+=1;return t}static lineSearchAction(e,t){const r=Array.from(t.entries()).slice(void 0,e),n=t[e],i=Array.from(t.entries()).slice(e+1,void 0),s=r.filter((([e,t])=>void 0!==t)).length,a=void 0!==n?1:0,c=i.filter((([e,t])=>void 0!==t)).length;return o[`${0===s?0:s%2==0?2:1}${a}${0===c?0:c>=2?2:1}`]}smartSurroundingQuotes(e,t){const r=(e=this.document.validatePosition(e)).character,i=this.document.lineAt(e).text,o=this.buildQuoteMap(i),a=s.lineSearchAction(r,o);if("current"!==t){if("next"===t){const t=Array.from(o.entries()).slice(r+1,void 0),[i,s]=t.filter((([e,t])=>void 0!==t))[a.skipToRight]??[1/0,void 0];let c;return e=e.with({character:i}),c=void 0===s&&n.configuration.targets.smartQuotes.breakThroughLines?this.getNextQuoteThroughLineBreaks(e):void 0!==s?e:void 0,c?this.smartSurroundingQuotes(c,"current"):void 0}if("last"===t){const t=Array.from(o.entries()).slice(void 0,r),[i,s]=t.reverse().filter((([e,t])=>void 0!==t))[a.skipToLeft]??[0,void 0];let c;return e=e.with({character:i}),void 0===s&&n.configuration.targets.smartQuotes.breakThroughLines?(e=e.getLeftThroughLineBreaks(),c=this.getLastQuoteThroughLineBreaks(e)):c=void 0!==s?e:void 0,c?this.smartSurroundingQuotes(c,"current"):void 0}}else if(a.search){const t=this.smartSearch(r,a.search,o);return t?{start:e.with({character:t[0]}),stop:e.with({character:t[1]}),lineText:i}:void 0}}smartSearch(e,t,r){const n=t.includeCurrent?1:0;let i,o,s=e;if(s=i=">"===t.first?this.getNextQuote(s-n,r):this.getPrevQuote(s+n,r),void 0!==s&&(o=">"===t.second?this.getNextQuote(s,r):this.getPrevQuote(s,r),void 0!==i&&void 0!==o))return i<o?[i,o]:[o,i]}getNextQuoteThroughLineBreaks(e){for(let t=e.line;t<this.document.lineCount;t++){e=this.document.validatePosition(e.with({line:t}));const r=this.document.lineAt(e).text;if("any"===this.quote){for(let t=e.character;t<r.length;t++)if('"'===r[t]||"'"===r[t]||"`"===r[t])return e.with({character:t})}else{const t=r.indexOf(this.quote,e.character);if(t>=0)return e.with({character:t})}e=e.with({character:0})}}getLastQuoteThroughLineBreaks(e){for(let t=e.line;t>=0;t--){e=this.document.validatePosition(e.with({line:t}));const r=this.document.lineAt(e).text;if("any"===this.quote){for(let t=e.character;t>=0;t--)if('"'===r[t]||"'"===r[t]||"`"===r[t])return e.with({character:t})}else{const t=r.lastIndexOf(this.quote,e.character);if(t>=0)return e.with({character:t})}e=e.with({character:1/0})}}getNextQuote(e,t){for(let r=e+1;r<t.length;r++)if(void 0!==t[r])return r}getPrevQuote(e,t){for(let r=e-1;r>=0;r--)if(void 0!==t[r])return r}}t.SmartQuoteMatcher=s,s.escapeChar="\\"},2672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(550),r(8553)},3666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSmartQuotes=function(){return!0===n.configuration.targets.enable&&!1!==n.configuration.targets.smartQuotes.enable||void 0===n.configuration.targets.enable&&!0===n.configuration.targets.smartQuotes.enable},t.bracketObjectsEnabled=function(){return!0===n.configuration.targets.enable&&!1!==n.configuration.targets.bracketObjects.enable||void 0===n.configuration.targets.enable&&!0===n.configuration.targets.bracketObjects.enable};const n=r(7183)},614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldWrapKey=void 0;const n=r(7183),i=r(9359);t.shouldWrapKey=(e,t)=>{let r;if("<left>"===t)r=[i.Mode.Insert,i.Mode.Replace].includes(e)?"[":"<";else if("<right>"===t)r=[i.Mode.Insert,i.Mode.Replace].includes(e)?"]":">";else if(["<BS>","<C-BS>","<S-BS>"].includes(t))r="b";else if(" "===t)r="s";else{if(!["h","l","~"].includes(t))throw new Error(`shouldWrapKey called with unexpected key='${t}'`);r=t}return n.configuration.whichwrap.split(",").includes(r)}},2249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchCommandLine=t.ExCommandLine=t.CommandLine=void 0;const n=r(1398),i=r(7183),o=r(4546),s=r(5625),a=r(6007),c=r(5414),u=r(7371),l=r(183),d=r(6275),h=r(7245),f=r(1402),p=r(3501),m=r(384),g=r(8469),v=r(2270),y=r(9359),b=r(6252),w=r(953);class x{constructor(e,t){this.cursorIndex=e.length,this.historyIndex=this.getHistory().get().length,this.previousMode=t,this.savedText=e}async historyBack(){if(0===this.historyIndex)return;const e=this.getHistory().get();void 0===this.historyIndex?(this.historyIndex=e.length-1,this.savedText=this.text):this.historyIndex>0&&this.historyIndex--,this.text=e[this.historyIndex],this.cursorIndex=this.text.length}async historyForward(){if(void 0===this.historyIndex)return;const e=this.getHistory().get();this.historyIndex===e.length-1?(this.historyIndex=void 0,this.text=this.savedText):this.historyIndex<e.length-1&&(this.historyIndex++,this.text=e[this.historyIndex]),this.cursorIndex=this.text.length}async backspace(e){0!==this.cursorIndex?(this.text=this.text.slice(0,this.cursorIndex-1)+this.text.slice(this.cursorIndex),this.cursorIndex=Math.max(this.cursorIndex-1,0)):0===this.text.length&&await this.escape(e)}async delete(e){if(this.cursorIndex===this.text.length)return this.backspace(e);this.text=this.text.slice(0,this.cursorIndex)+this.text.slice(this.cursorIndex+1)}async home(){this.cursorIndex=0}async end(){this.cursorIndex=this.text.length}async wordLeft(){this.cursorIndex=(0,h.getWordLeftInText)(this.text,this.cursorIndex,h.WordType.Big)??0}async wordRight(){this.cursorIndex=(0,h.getWordRightInText)(this.text,this.cursorIndex,h.WordType.Big)??this.text.length}async deleteWord(){const e=(0,h.getWordLeftInText)(this.text,this.cursorIndex,h.WordType.Normal);void 0!==e&&(this.text=this.text.substring(0,e).concat(this.text.slice(this.cursorIndex)),this.cursorIndex=this.cursorIndex-(this.cursorIndex-e))}async deleteToBeginning(){this.text=this.text.slice(this.cursorIndex),this.cursorIndex=0}async typeCharacter(e){const t=this.text.split("");t.splice(this.cursorIndex,0,e),this.text=t.join(""),this.cursorIndex+=e.length}}t.CommandLine=x;class S extends x{static async loadHistory(e){S.history=new s.CommandLineHistory(e),await S.history.load()}constructor(e,t){super(e,t),this.autoCompleteIndex=0,this.autoCompleteItems=[],this.preCompleteCharacterPos=0,this.preCompleteCommand="",this.commandText=e,this.text=e,this.previousMode=t}display(e){return(0,m.escapeCSSIcons)(`:${this.text.substring(0,this.cursorIndex)}${e}${this.text.substring(this.cursorIndex)}`)}get text(){return this.commandText}set text(e){this.commandText=e;try{const{lineRange:e,command:t}=S.parser.tryParse(this.commandText);this.lineRange=e,this.command=t}catch(e){this.lineRange=void 0,this.command=void 0}}getSearchState(){}getDecorations(e){return this.command instanceof w.SubstituteCommand&&e.currentMode===y.Mode.CommandlineInProgress?this.command.getSubstitutionDecorations(e,this.lineRange):void 0}getHistory(){return S.history}async run(e){if(p.Logger.info(`Executing :${this.text}`),S.history.add(this.text),this.historyIndex=S.history.get().length,!(this.command instanceof b.RegisterCommand)){const e=new u.RecordedState;e.registerName=":",e.commandList=this.text.split(""),a.Register.setReadonlyRegister(":",e)}try{if(void 0===this.command)throw S.parser.tryParse(this.text),new Error(`Expected parsing ExCommand '${this.text}' to fail`);if(i.configuration.enableNeovim&&this.command.neovimCapable()&&e.nvim){const{statusBarText:t,error:r}=await e.nvim.run(e,this.text);d.StatusBar.setText(e,t,r)}else this.lineRange?await this.command.executeWithRange(e,this.lineRange):await this.command.execute(e)}catch(t){if(t instanceof o.VimError)if(t.code===o.ErrorCode.NotAnEditorCommand&&i.configuration.enableNeovim&&e.nvim){const{statusBarText:t}=await e.nvim.run(e,this.text);d.StatusBar.setText(e,t,!0)}else d.StatusBar.setText(e,t.toString(),!0);else p.Logger.error(`Error executing cmd=${this.text}. err=${t}.`)}e.lastCommandDotRepeatable=this.command?.isRepeatableWithDot??!1}async escape(e){await e.setCurrentMode(y.Mode.Normal),this.text.length>0&&S.history.add(this.text)}async ctrlF(e){S.onSearch(e)}}t.ExCommandLine=S;class M extends x{static async showSearchHistory(){const e=M.previousSearchStates.slice().reverse().map((e=>({label:e.searchString,searchState:e}))),t=await n.window.showQuickPick(e,{placeHolder:"Vim search history",ignoreFocusOut:!1});return t?.searchState}static async loadHistory(e){M.history=new s.SearchHistory(e),M.history.get().forEach((e=>M.previousSearchStates.push(new l.SearchState(v.SearchDirection.Forward,new n.Position(0,0),e,void 0))))}static async addSearchStateToHistory(e){const t=0===M.previousSearchStates.length?void 0:M.previousSearchStates[M.previousSearchStates.length-1].searchString;e.searchString!==t&&(M.previousSearchStates.push(e),void 0!==M.history&&await M.history.add(e.searchString)),M.previousSearchStates.length>i.configuration.history&&M.previousSearchStates.splice(0,1)}constructor(e,t,r){super(t,e.currentMode),this.currentMatchDisplacement=0,this.searchState=new l.SearchState(r,e.cursorStopPosition,t)}display(e){return(0,m.escapeCSSIcons)(`${this.searchState.direction===v.SearchDirection.Forward?"/":"?"}${this.text.substring(0,this.cursorIndex)}${e}${this.text.substring(this.cursorIndex)}`)}get text(){return this.searchState.searchString}set text(e){this.searchState.searchString=e,""===e&&(this.currentMatchDisplacement=0)}getSearchState(){return this.searchState}getHistory(){return M.history}getCurrentMatchRelativeIndex(e){const t=e.recordedState.count||1;return t-1+this.currentMatchDisplacement*t}getCurrentMatchPosition(e){return this.searchState.getNextSearchMatchPosition(e,e.cursorStopPosition,v.SearchDirection.Forward,this.getCurrentMatchRelativeIndex(e))}getCurrentMatchRange(e){return this.searchState.getNextSearchMatchRange(e,e.cursorStopPosition,v.SearchDirection.Forward,this.getCurrentMatchRelativeIndex(e))}getDecorations(e){return(0,f.getDecorationsForSearchMatchRanges)(this.searchState.getMatchRanges(e),i.configuration.incsearch&&e.currentMode===y.Mode.SearchInProgressMode?this.getCurrentMatchRange(e)?.index:void 0)}async run(e){if(""===this.text&&M.previousSearchStates.length>0&&(this.text=M.previousSearchStates[M.previousSearchStates.length-1].searchString),p.Logger.info(`Searching for ${this.text}`),this.cursorIndex=0,a.Register.setReadonlyRegister("/",this.text),M.addSearchStateToHistory(this.searchState),c.globalState.hl=!0,0===this.searchState.getMatchRanges(e).length)return void d.StatusBar.displayError(e,o.VimError.fromCode(o.ErrorCode.PatternNotFound,this.text));const t=this.getCurrentMatchPosition(e);void 0!==t?(e.cursorStopPosition=t.pos,(0,m.reportSearch)(t.index,this.searchState.getMatchRanges(e).length,e)):d.StatusBar.displayError(e,o.VimError.fromCode(this.searchState.direction===v.SearchDirection.Backward?o.ErrorCode.SearchHitTop:o.ErrorCode.SearchHitBottom,this.text))}async escape(e){e.cursorStopPosition=this.searchState.cursorStartPosition;const t=M.previousSearchStates;if(c.globalState.searchState=t?t[t.length-1]:void 0,e.modeData.mode===y.Mode.SearchInProgressMode){const t=e.editor.visibleRanges[0].start.line-e.modeData.firstVisibleLineBeforeSearch;(0,g.scrollView)(e,t)}await e.setCurrentMode(this.previousMode),this.text.length>0&&M.addSearchStateToHistory(this.searchState)}async ctrlF(e){await M.onSearch(e,this.searchState.direction)}async advanceCurrentMatch(e,t){this.currentMatchDisplacement+=this.searchState.direction*t,i.configuration.wrapscan||this.getCurrentMatchRange(e)||(this.currentMatchDisplacement-=this.searchState.direction*t)}}t.SearchCommandLine=M,M.previousSearchStates=[]},9750:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsciiCommand=void 0;const n=r(5928),i=r(2882);class o extends i.ExCommand{async execute(e){await(new n.CommandUnicodeName).exec(e.cursorStopPosition,e)}}t.AsciiCommand=o},135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BangCommand=void 0;const n=r(8104),i=r(6685),o=r(2882),s=r(9218);class a extends o.ExCommand{constructor(e){super(),this._arguments=e}neovimCapable(){return!0}getReplaceDiff(e){const t=e.split("\n"),r=t.length-1,i=t[0].match(/^\s*/),o=i?i[0].length:0;return n.PositionDiff.exactCharacter({lineOffset:-r,character:o})}async execute(e){await i.externalCommand.run(this._arguments.command)}async executeWithRange(e,t){const r=t.resolveToRange(e),n=e.document.getText(r),o=await i.externalCommand.run(this._arguments.command,n),s=this.getReplaceDiff(o);e.recordedState.transformer.addTransformation({type:"replaceText",text:o,range:r,diff:s})}}t.BangCommand=a,a.argParser=s.all.map((e=>new a({command:e})))},161:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Breakpoints=void 0;const a=r(9218),c=s(r(6928)),u=s(r(1398)),l=r(2882),d=r(2140);function h(e){return void 0!==e.location}function f(e){return void 0!==e.functionName}class p extends l.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.addBreakpoint=e}async execute(e){if("here"===this.addBreakpoint.type){const t=new u.Location(e.document.uri,e.cursorStartPosition);return u.debug.addBreakpoints([new u.SourceBreakpoint(t)])}if("file"===this.addBreakpoint.type){let t;if(""===this.addBreakpoint.file)t=e.document.uri;else{const r=u.workspace.getWorkspaceFolder(e.document.uri)?.uri??u.Uri.file("./");t=u.Uri.joinPath(r,this.addBreakpoint.file)}const r=new u.Location(t,new u.Position(this.addBreakpoint.line-1,0));return u.debug.addBreakpoints([new u.SourceBreakpoint(r)])}if("func"===this.addBreakpoint.type)return u.debug.addBreakpoints([new u.FunctionBreakpoint(this.addBreakpoint.function)]);if("expr"===this.addBreakpoint.type){const t=new u.Location(e.document.uri,e.cursorStartPosition);return u.debug.addBreakpoints([new u.SourceBreakpoint(t,void 0,this.addBreakpoint.expr)])}}}class m extends l.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.delBreakpoint=e}async execute(e){if("byId"===this.delBreakpoint.type)return u.debug.removeBreakpoints(u.debug.breakpoints.slice(this.delBreakpoint.id-1,1));if("all"===this.delBreakpoint.type)return u.debug.removeBreakpoints(u.debug.breakpoints);if("file"===this.delBreakpoint.type){let t;if(""===this.delBreakpoint.file)t=e.document.uri;else{const r=u.workspace.getWorkspaceFolder(e.document.uri)?.uri??u.Uri.file("./");t=u.Uri.joinPath(r,this.delBreakpoint.file)}const r=this.delBreakpoint.line-1,n=u.debug.breakpoints.filter(h).find((e=>e.location.uri.toString()===t.toString()&&e.location.range.start.line===r));if(n)return u.debug.removeBreakpoints([n])}else if("func"===this.delBreakpoint.type){const e=this.delBreakpoint.function,t=u.debug.breakpoints.filter(f).filter((t=>t.functionName===e));if(t)return u.debug.removeBreakpoints(t)}else if("here"===this.delBreakpoint.type){const t=new u.Location(e.document.uri,e.cursorStartPosition),r=e=>Math.abs(e.location.range.start.character-t.range.start.character),n=u.debug.breakpoints.filter(h).filter((e=>e.location.uri.toString()===t.uri.toString()&&e.location.range.start.line===t.range.start.line)).sort(((e,t)=>r(e)-r(t)))[0];if(n)return u.debug.removeBreakpoints([n])}}}class g extends l.ExCommand{constructor(){super(...arguments),this.isRepeatableWithDot=!1}async execute(e){const t=u.debug.breakpoints,r=t.map(((e,t)=>{const{id:r,enabled:n,condition:i}=e;let o="";return o+=`#${t+1}\t`,o+=n?"$(circle-filled)\t":"$(circle-outline)\t",o+=i?"$(debug-breakpoint-conditional)\t":"\t",h(e)&&(o+=`${c.basename(e.location.uri.fsPath)}:${e.location.range.start.line+1}`),f(e)&&(o+=`$(debug-breakpoint-function)${e.functionName}`),{label:o,breakpointId:r}}));await u.window.showQuickPick(r).then((async r=>{if(r){const n=r.breakpointId,i=t.find((e=>e.id===n));i&&h(i)&&await u.window.showTextDocument(i.location.uri).then((()=>{e.cursorStopPosition=i.location.range.start}))}}))}}class v{}t.Breakpoints=v,v.argParsers={add:a.whitespace.then((0,a.alt)((0,a.seqObj)(["type",(0,a.string)("here")],a.optWhitespace),(0,a.seqObj)(["type",(0,a.string)("file")],["line",a.optWhitespace.then(d.numberParser).fallback(1)],["file",a.optWhitespace.then(d.fileNameParser).fallback("")]),(0,a.seqObj)(["type",(0,a.string)("func")],a.optWhitespace.then(d.numberParser).fallback(1),["function",a.optWhitespace.then((0,a.regexp)(/\S+/))]),(0,a.seqObj)(["type",(0,a.string)("expr")],["expr",a.optWhitespace.then(a.all)]))).or(a.eof.result({type:"here"})).map((e=>new p(e))),del:a.whitespace.then((0,a.alt)((0,a.seqObj)(["type",(0,a.string)("here")],a.optWhitespace),(0,a.seqObj)(["type",(0,a.string)("file")],["line",a.optWhitespace.then(d.numberParser).fallback(1)],["file",a.optWhitespace.then(d.fileNameParser).fallback("")]),(0,a.seqObj)(["type",(0,a.string)("func")],a.optWhitespace.then(d.numberParser).fallback(1),["function",a.optWhitespace.then((0,a.regexp)(/\S+/))]),(0,a.string)("*").then(a.optWhitespace).result({type:"all"}),d.numberParser.map((e=>({type:"byId",id:e}))))).or(a.eof.result({type:"here"})).map((e=>new m(e))),list:(0,a.succeed)(new g)}},7992:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDeleteCommand=void 0;const a=r(9218),c=s(r(1398)),u=s(r(4546)),l=r(6275),d=r(2882),h=r(2140);class f extends d.ExCommand{constructor(e){super(),this.arguments=e}async execute(e){if(e.document.isDirty&&!this.arguments.bang)throw u.VimError.fromCode(u.ErrorCode.NoWriteSinceLastChange);if(0===this.arguments.buffers.length)await c.commands.executeCommand("workbench.action.closeActiveEditor");else for(const t of this.arguments.buffers)if("string"!=typeof t){try{await c.commands.executeCommand(`workbench.action.openEditorAtIndex${t}`)}catch(e){throw u.VimError.fromCode(u.ErrorCode.NoBuffersDeleted)}await c.commands.executeCommand("workbench.action.closeActiveEditor")}else l.StatusBar.setText(e,":bd[elete][!] {bufname} is not yet implemented (PRs are welcome!)",!0)}}t.BufferDeleteCommand=f,f.argParser=(0,a.seq)(h.bangParser.skip(a.optWhitespace),(0,a.alt)(h.numberParser,h.fileNameParser).sepBy(a.whitespace)).map((([e,t])=>new f({bang:e,buffers:t})))},6593:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.CloseCommand=void 0;const a=s(r(1398)),c=s(r(4546)),u=r(2882),l=r(2140);class d extends u.ExCommand{constructor(e){super(),this.bang=e}async execute(e){if(e.document.isDirty&&!this.bang)throw c.VimError.fromCode(c.ErrorCode.NoWriteSinceLastChange);if(1===a.window.visibleTextEditors.length)throw c.VimError.fromCode(c.ErrorCode.CannotCloseLastWindow);const t=e.editor.viewColumn;await a.commands.executeCommand("workbench.action.closeActiveEditor"),void 0!==a.window.activeTextEditor&&a.window.activeTextEditor.viewColumn===t&&await a.commands.executeCommand("workbench.action.previousEditor")}}t.CloseCommand=d,d.argParser=l.bangParser.map((e=>new d(e)))},3816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyCommand=void 0;const n=r(9218),i=r(1398),o=r(8104),s=r(4546),a=r(6275),c=r(2882),u=r(9787);class l extends c.ExCommand{constructor(e){super(),this.address=e}neovimCapable(){return!0}copyLines(e,t,r){const n=this.address?.resolve(e,"left",!1);if(void 0===n||n<-1||n>e.document.lineCount)return void a.StatusBar.displayError(e,s.VimError.fromCode(s.ErrorCode.InvalidAddress));r<t&&([t,r]=[r,t]);const c=e.document.getText(new i.Range(new i.Position(t,0),new i.Position(r,0).getLineEnd()));let u,l;-1===n?(u=c+"\n",l=new i.Position(0,0)):(u="\n"+c,l=new i.Position(n,0).getLineEnd());const d=c.split("\n"),h=new i.Position(Math.max(n+d.length,0),d[d.length-1].match(/\S/)?.index??0);e.recordedState.transformer.insert(l,u,o.PositionDiff.exactPosition(h))}async execute(e){const t=e.cursors[0].stop.line;this.copyLines(e,t,t)}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);this.copyLines(e,r,n)}}t.CopyCommand=l,l.argParser=n.optWhitespace.then(u.Address.parser.fallback(void 0)).map((e=>new l(e)))},750:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteCommand=void 0;const a=s(r(1398)),c=r(9218),u=r(1398),l=r(6007),d=r(2882),h=r(2140);class f extends d.ExCommand{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}deleteRange(e,t,r){let n=new u.Position(e,0),i=new u.Position(t,0).getLineEndIncludingEOL();t<r.document.lineCount-1?i=i.getRightThroughLineBreaks():e>0&&(n=n.getLeftThroughLineBreaks());const o=new a.Range(n,i),s=r.document.getText(o).replace(/^\r?\n/,"").replace(/\r?\n$/,"");r.recordedState.transformer.addTransformation({type:"deleteRange",range:new a.Range(n,i),manuallySetCursorPositions:!0}),r.cursorStopPosition=n.getLineBegin(),this.arguments.register&&(r.recordedState.registerName=this.arguments.register),r.currentRegisterMode=l.RegisterMode.LineWise,l.Register.put(r,s,0,!0)}async execute(e){const t=this.arguments.count??1,r=e.cursorStartPosition.line,n=r+(t-1);this.deleteRange(r,n,e)}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);if(this.arguments.count)return e.cursorStartPosition=new u.Position(n,0),void await this.execute(e);this.deleteRange(r,n,e)}}t.DeleteCommand=f,f.argParser=c.optWhitespace.then((0,c.alt)(h.numberParser.map((e=>({register:void 0,count:e}))),(0,c.seq)(c.any.fallback(void 0),c.whitespace.then(h.numberParser).fallback(void 0)).map((([e,t])=>({register:e,count:t})))).map((({register:e,count:t})=>new f({register:e,count:t}))))},1512:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.DigraphsCommand=void 0;const a=s(r(1398)),c=r(9218),u=r(4905),l=r(7892),d=r(2882),h=r(2140),f=r(7183);class p extends d.ExCommand{constructor(e){super(),this.arguments=e}makeQuickPicks(e){return e.map((([e,[t,r]])=>(Array.isArray(r)||(r=[r]),{label:e,description:`${t} (user)`,charCodes:r})))}async execute(e){if(this.arguments.newDigraph){const e=this.arguments.newDigraph[0]+this.arguments.newDigraph[1],t=this.arguments.newDigraph[2];u.DefaultDigraphs.set(e,[String.fromCharCode(...t),t])}else{const t=this.makeQuickPicks(Object.entries(f.configuration.digraphs)).concat(this.makeQuickPicks([...u.DefaultDigraphs.entries()]));a.window.showQuickPick(t).then((async t=>{if(t){const r=String.fromCharCode(...t.charCodes);await l.TextEditor.insert(e.editor,r)}}))}}}t.DigraphsCommand=p,p.argParser=(0,c.seq)(h.bangParser,c.whitespace.then((0,c.seq)(c.any,c.any,c.whitespace.then(h.numberParser).atLeast(1))).fallback(void 0)).map((([e,t])=>new p({bang:e,newDigraph:t})))},1316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EchoCommand=void 0;const n=r(9218),i=r(6275),o=r(2882),s=r(3032),a=r(6348),c=r(4048);class u extends o.ExCommand{static argParser(e){return n.optWhitespace.then(a.expressionParser.sepBy(n.whitespace)).map((t=>new u(e,t)))}constructor(e,t){super(),this.sep=e.sep,this.error=e.error,this.expressions=t}neovimCapable(){return!0}async execute(e){const t=new s.EvaluationContext,r=this.expressions.map((e=>t.evaluate(e))).map((e=>(0,c.displayValue)(e))).join(this.sep);i.StatusBar.setText(e,r,this.error)}}t.EchoCommand=u},1043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCommand=t.EvalCommand=void 0;const n=r(9218),i=r(2882),o=r(6348),s=r(3032);class a extends i.ExCommand{constructor(e){super(),this.expression=e}async execute(e){(new s.EvaluationContext).evaluate(this.expression)}}t.EvalCommand=a,a.argParser=n.optWhitespace.then(o.expressionParser).map((e=>new a(e)));class c extends i.ExCommand{constructor(e){super(),this.expression=e}async execute(e){(new s.EvaluationContext).evaluate(this.expression)}}t.CallCommand=c,c.argParser=n.optWhitespace.then(o.functionCallParser).map((e=>new c(e)))},474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExploreCommand=void 0;const n=r(1398),i=r(2882);class o extends i.ExCommand{async execute(e){await n.commands.executeCommand("workbench.view.explorer")}}t.ExploreCommand=o},7475:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.FileCommand=t.FilePosition=void 0;const a=s(r(1398)),c=r(3501),u=r(6710),l=r(2268),d=r(7697),h=r(2882),f=r(2140),p=r(9218);var m;!function(e){e[e.NewWindowVerticalSplit=0]="NewWindowVerticalSplit",e[e.NewWindowHorizontalSplit=1]="NewWindowHorizontalSplit"}(m||(t.FilePosition=m={}));class g extends h.ExCommand{constructor(e){super(),this.arguments=e}async execute(e){const t=function(e){if("edit"===e.name)return{file:e.file,bang:e.bang,cmd:e.cmd,createFileIfNotExists:!0};if("enew"===e.name)return{bang:e.bang,createFileIfNotExists:!0};if("new"===e.name)return{file:e.file,position:m.NewWindowHorizontalSplit,createFileIfNotExists:!0};if("vnew"===e.name)return{file:e.file,position:m.NewWindowVerticalSplit,createFileIfNotExists:!0};if("split"===e.name)return{file:e.file,position:m.NewWindowHorizontalSplit,createFileIfNotExists:void 0!==e.file};if("vsplit"===e.name)return{file:e.file,position:m.NewWindowVerticalSplit,createFileIfNotExists:void 0!==e.file};throw new Error(`Unexpected FileCommand.arguments.name: ${e.name}`)}(this.arguments);if(t.bang)return void await a.commands.executeCommand("workbench.action.files.revert");const r=a.window.activeTextEditor.document.uri,n=r.fsPath;let i=!1;t.position===m.NewWindowVerticalSplit&&(await a.commands.executeCommand("workbench.action.splitEditorRight"),i=!0),t.position===m.NewWindowHorizontalSplit&&(await a.commands.executeCommand("workbench.action.splitEditorDown"),i=!0);const o=async()=>{!0===i&&(await a.commands.executeCommand("workbench.action.previousEditor"),await a.commands.executeCommand("workbench.action.closeActiveEditor"))};if(void 0===t.file)return void(!0===t.createFileIfNotExists&&(await a.commands.executeCommand("workbench.action.files.newUntitledFile"),await o()));t.file&&"file"===r.scheme&&(t.file=d(t.file));let s=r;if(""===t.file){if(!0===i)return;const e=await a.window.showOpenDialog({});e&&e.length>0&&(s=e[0])}else{t.file=t.file.replace(/^file:\/\//,"");const e=!!a.env.remoteName,{fullPath:i,path:o}=(0,u.getPathDetails)(t.file,r,e);if(i!==n){const a=(0,u.resolveUri)(i,o.sep,r,e);if(null===a)return;let d=await(0,l.doesFileExist)(a);if(d)s=a;else{const t=i+o.extname(n),a=(0,u.resolveUri)(t,o.sep,r,e);null!==a&&(d=await(0,l.doesFileExist)(a),d&&(s=a))}if(!d){if(!t.createFileIfNotExists)return void c.Logger.error(`${t.file} does not exist.`);s=a.with({scheme:"untitled"})}}}const h=await a.workspace.openTextDocument(s),f=await a.window.showTextDocument(h),p="line_number"===t.cmd?.type?t.cmd.line:"last_line"===t.cmd?.type?a.window.activeTextEditor.document.lineCount-1:void 0;if(void 0!==p&&p>=0){const e=new a.Position(p,0);f.selection=new a.Selection(e,e);const t=new a.Range(e,e);f.revealRange(t)}await o()}}t.FileCommand=g,g.argParsers={edit:(0,p.seq)(f.bangParser,p.optWhitespace.then(f.fileOptParser).fallback([]),p.optWhitespace.then(f.fileCmdParser).fallback(void 0),p.optWhitespace.then(f.fileNameParser).fallback(void 0)).map((([e,t,r,n])=>new g({name:"edit",bang:e,opt:t,cmd:r,file:n}))),enew:f.bangParser.map((e=>new g({name:"enew",bang:e}))),new:(0,p.seq)(p.optWhitespace.then(f.fileOptParser).fallback([]),p.optWhitespace.then(f.fileCmdParser).fallback(void 0),p.optWhitespace.then(f.fileNameParser).fallback(void 0)).map((([e,t,r])=>new g({name:"new",opt:e,cmd:t,file:r}))),split:(0,p.seq)(p.optWhitespace.then(f.fileOptParser).fallback([]),p.optWhitespace.then(f.fileCmdParser).fallback(void 0),p.optWhitespace.then(f.fileNameParser).fallback(void 0)).map((([e,t,r])=>new g({name:"split",opt:e,cmd:t,file:r}))),vnew:(0,p.seq)(p.optWhitespace.then(f.fileOptParser).fallback([]),p.optWhitespace.then(f.fileCmdParser).fallback(void 0),p.optWhitespace.then(f.fileNameParser).fallback(void 0)).map((([e,t,r])=>new g({name:"vnew",opt:e,cmd:t,file:r}))),vsplit:(0,p.seq)(p.optWhitespace.then(f.fileOptParser).fallback([]),p.optWhitespace.then(f.fileCmdParser).fallback(void 0),p.optWhitespace.then(f.fileNameParser).fallback(void 0)).map((([e,t,r])=>new g({name:"vsplit",opt:e,cmd:t,file:r})))}},1883:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileInfoCommand=void 0;const n=r(9218),i=r(384),o=r(2882),s=r(2140);class a extends o.ExCommand{constructor(e){super(),this.args=e}async execute(e){(0,i.reportFileInfo)(e.cursors[0].start,e)}}t.FileInfoCommand=a,a.argParser=(0,n.seq)(s.bangParser,n.optWhitespace.then(n.all)).map((([e,t])=>new a({bang:e,fileName:t})))},7254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GotoCommand=void 0;const n=r(9218),i=r(2882),o=r(2140);class s extends i.ExCommand{constructor(e){super(),this.offset=e}gotoOffset(e,t){e.cursorStopPosition=e.document.positionAt(t)}async execute(e){this.gotoOffset(e,this.offset??0)}async executeWithRange(e,t){void 0===this.offset&&(this.offset=t.resolve(e)?.end??0),this.gotoOffset(e,this.offset)}}t.GotoCommand=s,s.argParser=n.optWhitespace.then(o.numberParser.fallback(void 0)).map((e=>new s(e)))},4644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GotoLineCommand=void 0;const n=r(2882);class i extends n.ExCommand{async execute(e){}async executeWithRange(e,t){e.cursorStartPosition=e.cursorStopPosition=e.cursorStopPosition.with({line:t.resolve(e).end}).obeyStartOfLine(e.document)}}t.GotoLineCommand=i},3101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryCommand=t.HistoryCommandType=void 0;const n=r(9218),i=r(5928),o=r(2882),s=r(2140),a=r(2270);var c;!function(e){e[e.Cmd=0]="Cmd",e[e.Search=1]="Search",e[e.Expr=2]="Expr",e[e.Input=3]="Input",e[e.Debug=4]="Debug",e[e.All=5]="All"}(c||(t.HistoryCommandType=c={}));const u=(0,n.alt)((0,n.alt)((0,s.nameAbbrevParser)("c","md"),(0,n.string)(":")).result(c.Cmd),(0,n.alt)((0,s.nameAbbrevParser)("s","earch"),(0,n.string)("/")).result(c.Search),(0,n.alt)((0,s.nameAbbrevParser)("e","xpr"),(0,n.string)("=")).result(c.Expr),(0,n.alt)((0,s.nameAbbrevParser)("i","nput"),(0,n.string)("@")).result(c.Input),(0,n.alt)((0,s.nameAbbrevParser)("d","ebug"),(0,n.string)(">")).result(c.Debug),(0,s.nameAbbrevParser)("a","ll").result(c.All));class l extends o.ExCommand{constructor(e){super(),this.arguments=e}async execute(e){switch(this.arguments.type){case c.Cmd:await(new i.CommandShowCommandHistory).exec(e.cursorStopPosition,e);break;case c.Search:await new i.CommandShowSearchHistory(a.SearchDirection.Forward).exec(e.cursorStopPosition,e);break;case c.Expr:case c.Input:case c.Debug:case c.All:throw new Error("Not implemented")}}}t.HistoryCommand=l,l.argParser=n.optWhitespace.then(u.fallback(c.Cmd)).map((e=>new l({type:e})))},5864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClearJumpsCommand=t.JumpsCommand=void 0;const n=r(1398),i=r(9253),o=r(5414),s=r(2882);class a{constructor(e,t){this.jump=e,this.label=e.fileName,this.detail=`jump ${t} line ${e.position.line+1} col ${e.position.character}`;try{this.description=e.document.lineAt(e.position).text}catch(e){this.description=void 0}}}class c extends s.ExCommand{async execute(e){const t=o.globalState.jumpTracker;if(t.hasJumps){const r=t.jumps.map(((e,t)=>new a(e,t))),o=await n.window.showQuickPick(r,{canPickMany:!1});o&&void 0!==o.jump.document&&(n.window.showTextDocument(o.jump.document),e.cursors=[new i.Cursor(o.jump.position,o.jump.position)])}else n.window.showInformationMessage("No jumps available")}}t.JumpsCommand=c;class u extends s.ExCommand{async execute(e){o.globalState.jumpTracker.clearJumps()}}t.ClearJumpsCommand=u},1277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CenterCommand=t.RightCommand=t.LeftCommand=void 0;const n=r(9218),i=r(1398),o=r(7183),s=r(2882),a=r(9787),c=r(2140);class u extends s.ExCommand{constructor(e){super(),this.args=e}async execute(e){this.executeWithRange(e,new a.LineRange(new a.Address({type:"current_line"})))}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e),o=[];for(let t=r;t<=n;t++)o.push(e.document.lineAt(t));e.recordedState.transformer.replace(new i.Range(o[0].range.start,o[o.length-1].range.end),o.map((e=>" ".repeat(this.args.indent)+e.text.slice(e.firstNonWhitespaceCharacterIndex))).join("\n"))}}t.LeftCommand=u,u.argParser=n.optWhitespace.then(c.numberParser.fallback(0)).map((e=>new u({indent:e})));class l extends s.ExCommand{constructor(e){super(),this.args=e}async execute(e){this.executeWithRange(e,new a.LineRange(new a.Address({type:"current_line"})))}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e),o=[];for(let t=r;t<=n;t++)o.push(e.document.lineAt(t));e.recordedState.transformer.replace(new i.Range(o[0].range.start,o[o.length-1].range.end),o.map((e=>" ".repeat(Math.max(0,this.args.width-(e.text.length-e.firstNonWhitespaceCharacterIndex)))+e.text.slice(e.firstNonWhitespaceCharacterIndex))).join("\n"))}}t.RightCommand=l,l.argParser=n.optWhitespace.then(c.numberParser.fallback(void 0)).map((e=>new l({width:e??o.configuration.textwidth})));class d extends s.ExCommand{constructor(e){super(),this.args=e}async execute(e){this.executeWithRange(e,new a.LineRange(new a.Address({type:"current_line"})))}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e),o=[];for(let t=r;t<=n;t++)o.push(e.document.lineAt(t));e.recordedState.transformer.replace(new i.Range(o[0].range.start,o[o.length-1].range.end),o.map((e=>" ".repeat(Math.max(0,this.args.width-(e.text.length-e.firstNonWhitespaceCharacterIndex))/2)+e.text.slice(e.firstNonWhitespaceCharacterIndex))).join("\n"))}}t.CenterCommand=d,d.argParser=n.optWhitespace.then(c.numberParser.fallback(void 0)).map((e=>new d({width:e??o.configuration.textwidth})))},6232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LetCommand=void 0;const n=r(9218),i=r(932),o=r(6275),s=r(2882),a=r(8083),c=r(3032),u=r(6348),l=r(4048),d=r(4546),h=(0,n.alt)((0,n.string)("="),(0,n.string)("+="),(0,n.string)("-="),(0,n.string)("*="),(0,n.string)("/="),(0,n.string)("%="),(0,n.string)(".="),(0,n.string)("..=")),f=(0,n.alt)(u.variableParser,u.optionParser,u.envVariableParser,u.registerParser);class p extends s.ExCommand{constructor(e){super(),this.args=e}async execute(e){const t=new c.EvaluationContext;if("print"===this.args.operation)if(0===this.args.variables.length);else{const r=this.args.variables[this.args.variables.length-1],n=t.evaluate(r),i="number"===n.type?"#":"funcref"===n.type?"*":"";o.StatusBar.setText(e,`${r.name}    ${i}${(0,l.displayValue)(n)}`)}else{const e=this.args.variable;if(this.args.lock){if("="!==this.args.operation)throw d.VimError.fromCode(d.ErrorCode.CannotModifyExistingVariable);if("variable"!==this.args.variable.type)throw d.VimError.fromCode(d.ErrorCode.CannotLockARegister)}let r=t.evaluate(this.args.expression);"variable"===e.type?("+="===this.args.operation?r=t.evaluate((0,a.add)(e,r)):"-="===this.args.operation?r=t.evaluate((0,a.subtract)(e,r)):"*="===this.args.operation?r=t.evaluate((0,a.multiply)(e,r)):"/="===this.args.operation?r=t.evaluate((0,a.divide)(e,r)):"%="===this.args.operation?r=t.evaluate((0,a.modulo)(e,r)):(".="===this.args.operation||"..="===this.args.operation)&&(r=t.evaluate((0,a.concat)(e,r))),t.setVariable(e,r,this.args.lock)):"register"===e.type||"option"===e.type||"env_variable"===e.type&&(r=(0,a.str)(i.env[e.name]??""))}}}t.LetCommand=p,p.argParser=e=>(0,n.alt)(n.whitespace.then((0,n.seq)(f,h.wrap(n.optWhitespace,n.optWhitespace),u.expressionParser).map((([t,r,n])=>new p({operation:r,variable:t,expression:n,lock:e})))),n.optWhitespace.then(f.sepBy(n.whitespace)).map((e=>new p({operation:"print",variables:e}))))},8331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteMarksCommand=t.MarksCommand=void 0;const n=r(1398),i=r(9218),o=r(9253),s=r(4546),a=r(2882);class c{constructor(e,t){this.picked=!1,this.alwaysShow=!1,this.mark=t,this.label=t.name,t.document&&t.document!==e.document?this.description=t.document.fileName:this.description=e.document.lineAt(t.position).text.trim(),this.detail=`line ${t.position.line} col ${t.position.character}`}}class u extends a.ExCommand{constructor(e){super(),this.marksFilter=e}async execute(e){const t=e.historyTracker.getMarks().filter((e=>0===this.marksFilter.length||this.marksFilter.includes(e.name))).map((t=>new c(e,t)));if(t.length>0){const r=await n.window.showQuickPick(t,{canPickMany:!1});r&&(e.cursors=[new o.Cursor(r.mark.position,r.mark.position)])}else n.window.showInformationMessage("No marks set")}}t.MarksCommand=u,u.argParser=i.optWhitespace.then((0,i.noneOf)("|")).many().map((e=>new u(e)));class l extends a.ExCommand{constructor(e){super(),this.args=e}static resolveMarkList(e,t){const r=(e,t)=>{if(e>t)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument474);const[r,n]=[e.charCodeAt(0),t.charCodeAt(0)],i=[];for(let e=r;e<=n;e++)i.push(String.fromCharCode(e));return i};if("!"===t)return r("a","z");const n=[];for(const e of t)if("string"==typeof e)n.push(e);else{const t=r(e.start,e.end);if(void 0===t)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument474);n.push(...t.concat())}return n}async execute(e){const t=l.resolveMarkList(e,this.args);e.historyTracker.removeMarks(t)}}t.DeleteMarksCommand=l,l.argParser=(0,i.alt)((0,i.string)("!"),i.whitespace.then(i.optWhitespace.then((0,i.alt)((0,i.seq)((0,i.regexp)(/[a-z]/).skip((0,i.string)("-")),(0,i.regexp)(/[a-z]/)).map((([e,t])=>({start:e,end:t}))),(0,i.seq)((0,i.regexp)(/[A-Z]/).skip((0,i.string)("-")),(0,i.regexp)(/[A-Z]/)).map((([e,t])=>({start:e,end:t}))),(0,i.seq)((0,i.regexp)(/[0-9]/).skip((0,i.string)("-")),(0,i.regexp)(/[0-9]/)).map((([e,t])=>({start:e,end:t}))),(0,i.noneOf)("-"))).many())).map((e=>new l(e)))},48:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoveCommand=void 0;const n=r(9218),i=r(1398),o=r(8104),s=r(4546),a=r(6275),c=r(2882),u=r(9787);class l extends c.ExCommand{constructor(e){super(),this.address=e}neovimCapable(){return!0}moveLines(e,t,r){const n=this.address?.resolve(e,"left",!1);if(void 0===n||n<-1||n>e.document.lineCount)return void a.StatusBar.displayError(e,s.VimError.fromCode(s.ErrorCode.InvalidAddress));if(r<t&&([t,r]=[r,t]),n>=t&&n<=r)return void a.StatusBar.displayError(e,s.VimError.fromCode(s.ErrorCode.InvalidAddress));const c=e.document.getText(new i.Range(new i.Position(t,0),new i.Position(r,0).getLineEnd()));let u,l;-1===n?(u=c+"\n",l=new i.Position(0,0)):(u="\n"+c,l=new i.Position(n,0).getLineEnd());const d=c.split("\n");let h;h=n>r?new i.Position(Math.max(n,0),d[d.length-1].match(/\S/)?.index??0):new i.Position(Math.max(n+d.length,0),d[d.length-1].match(/\S/)?.index??0);let f=new i.Position(t,0),p=new i.Position(r,0).getLineEndIncludingEOL();r<e.document.lineCount-1?p=p.getRightThroughLineBreaks():t>0&&(f=f.getLeftThroughLineBreaks()),e.recordedState.transformer.addTransformation({type:"deleteRange",range:new i.Range(f,p),manuallySetCursorPositions:!0}),e.recordedState.transformer.insert(l,u,o.PositionDiff.exactPosition(h))}async execute(e){const t=e.cursors[0].stop.line;this.moveLines(e,t,t)}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);this.moveLines(e,r,n)}}t.MoveCommand=l,l.argParser=n.optWhitespace.then(u.Address.parser.fallback(void 0)).map((e=>new l(e)))},9478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NohlCommand=void 0;const n=r(5414),i=r(6275),o=r(2882);class s extends o.ExCommand{async execute(e){n.globalState.hl=!1,i.StatusBar.clear(e)}}t.NohlCommand=s},8246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalCommand=void 0;const n=r(9218),i=r(2882);class o extends i.ExCommand{constructor(e){super(),this.keystrokes=e}async execute(e){e.recordedState.transformer.addTransformation({type:"executeNormal",keystrokes:this.keystrokes})}async executeWithRange(e,t){e.recordedState.transformer.addTransformation({type:"executeNormal",keystrokes:this.keystrokes,range:t})}}t.NormalCommand=o,o.argParser=n.whitespace.then(n.all).map((e=>new o(e)))},7407:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.OnlyCommand=void 0;const a=s(r(1398)),c=r(2882);class u extends c.ExCommand{async execute(e){await Promise.allSettled([a.commands.executeCommand("workbench.action.joinAllGroups"),a.commands.executeCommand("workbench.action.maximizeEditor"),a.commands.executeCommand("workbench.action.closePanel")])}}t.OnlyCommand=u},5698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrintCommand=void 0;const n=r(9218),i=r(6275),o=r(2882),s=r(9787);class a extends o.ExCommand{constructor(e){super(),this.args=e}async execute(e){this.executeWithRange(e,new s.LineRange(new s.Address({type:"current_line"})))}async executeWithRange(e,t){const{end:r}=t.resolve(e),n=e.document.lineAt(r);let o;o=this.args.printNumbers?this.args.printText?`${n.lineNumber+1} ${n.text}`:`${n.lineNumber+1}`:this.args.printText?`${n.text}`:"",i.StatusBar.setText(e,o)}}t.PrintCommand=a,a.argParser=e=>(0,n.succeed)(new a(e))},1708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PutExCommand=void 0;const n=r(7183),i=r(9218),o=r(1398),s=r(1958),a=r(4546),c=r(6007),u=r(6275),l=r(2882),d=r(2140),h=r(6348),f=r(3032);class p extends l.ExCommand{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async doPut(e,t){if("="===this.arguments.register&&void 0===this.arguments.fromExpression){if(void 0===p.lastExpression)return;this.arguments.fromExpression=p.lastExpression}if(this.arguments.fromExpression){p.lastExpression=this.arguments.fromExpression,this.arguments.register="=";const t=(new f.EvaluationContext).evaluate(this.arguments.fromExpression),r="list"===t.type?t.items.map(f.toString).join("\n"):(0,f.toString)(t);c.Register.overwriteRegister(e,this.arguments.register,r,0)}const r=this.arguments.register||(n.configuration.useSystemClipboard?"*":'"');if(!c.Register.isValidRegister(r))return void u.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.TrailingCharacters));e.recordedState.registerName=r;const i=this.arguments.bang?new s.PutBeforeFromCmdLine:new s.PutFromCmdLine;i.setInsertionLine(t.line),await i.exec(t,e)}async execute(e){await this.doPut(e,e.cursorStopPosition)}async executeWithRange(e,t){const{end:r}=t.resolve(e);await this.doPut(e,new o.Position(r,0).getLineEnd())}}t.PutExCommand=p,p.argParser=(0,i.seq)(d.bangParser,i.optWhitespace.then((0,i.alt)((0,i.string)("=").then(i.optWhitespace).then(h.expressionParser).map((e=>({fromExpression:e}))),i.any.map((e=>({register:e}))).fallback({register:void 0})))).map((([e,t])=>new p({bang:e,...t})))},866:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.QuitCommand=void 0;const a=s(r(1398)),c=s(r(4546)),u=r(2882),l=r(2140);class d extends u.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.arguments=e}async execute(e){const t=a.window.visibleTextEditors.filter((t=>t.document===e.document)).length>1;if(e.document.isDirty&&!this.arguments.bang&&(!t||this.arguments.quitAll))throw c.VimError.fromCode(c.ErrorCode.NoWriteSinceLastChange);this.arguments.quitAll?await a.commands.executeCommand("workbench.action.closeAllEditors"):this.arguments.bang?await a.commands.executeCommand("workbench.action.revertAndCloseActiveEditor"):await a.commands.executeCommand("workbench.action.closeActiveEditor")}}t.QuitCommand=d,d.argParser=e=>l.bangParser.map((t=>new d({bang:t,quitAll:e})))},65:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ReadCommand=void 0;const a=r(9218),c=r(5074),u=r(2268),l=r(2882),d=r(2140);class h extends l.ExCommand{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async execute(e){const t=await this.getTextToInsert(e);t&&e.recordedState.transformer.insert(e.cursorStopPosition.getLineEnd(),"\n"+t)}async getTextToInsert(e){if("file"in this.arguments)return(0,u.readFileAsync)(this.arguments.file,"utf8");if("cmd"in this.arguments){if(this.arguments.cmd.length>0){if(c.SUPPORT_READ_COMMAND){const e=this.arguments.cmd;return new Promise((async(t,n)=>{const{exec:i}=await Promise.resolve().then((()=>s(r(5317))));i(e,((e,r,i)=>{e?n(e):t(r)}))}))}return""}return""}return e.document.getText()}}t.ReadCommand=h,h.argParser=(0,a.seq)(a.whitespace.then(d.fileOptParser).fallback([]),a.optWhitespace.then((0,a.alt)((0,a.string)("!").then(a.all).map((e=>({cmd:e}))),d.fileNameParser.map((e=>({file:e}))))).fallback(void 0)).map((([e,t])=>new h({opt:e,...t})))},2029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedoCommand=void 0;const n=r(5928),i=r(1398),o=r(2882),s=r(9218),a=r(2140);class c extends o.ExCommand{constructor(e){super(),this.count=e}async execute(e){await(new n.CommandRedo).exec(new i.Position(0,0),e)}}t.RedoCommand=c,c.argParser=s.optWhitespace.then(a.numberParser).fallback(void 0).map((e=>new c(e)))},6252:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterCommand=void 0;const a=s(r(1398)),c=r(9218),u=r(4546),l=r(6007),d=r(7371),h=r(6275),f=r(2882);class p extends f.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.registers=e}async getRegisterDisplayValue(e){let t=(await l.Register.get(e))?.text;return t instanceof Array?t=t.join("\n").substr(0,100):t instanceof d.RecordedState&&(t=t.actionsRun.map((e=>e.keysPressed.join(""))).join("")),t}async displayRegisterValue(e,t){let r=await this.getRegisterDisplayValue(t);void 0===r?h.StatusBar.displayError(e,u.VimError.fromCode(u.ErrorCode.NothingInRegister,t)):(r=r.replace(/\n/g,"\\n"),a.window.showInformationMessage(`${t} ${r}`))}regSortOrder(e){const t=["-","*","+",".",":","%","#","/","="];if('"'===e)return 0;if(e>="0"&&e<="9")return 10+parseInt(e,10);if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+100;if(t.includes(e))return 1e3+t.indexOf(e);throw new Error(`Unexpected register ${e}`)}async execute(e){if(1===this.registers.length)await this.displayRegisterValue(e,this.registers[0]);else{const e=l.Register.getKeys().filter((e=>"_"!==e&&(0===this.registers.length||this.registers.includes(e)))).sort(((e,t)=>this.regSortOrder(e)-this.regSortOrder(t))),t=new Array;for(const r of e){const e=await this.getRegisterDisplayValue(r);"string"==typeof e&&t.push({label:r,description:e})}a.window.showQuickPick(t).then((async e=>{if(e){const t=e.description;a.window.showInformationMessage(`${e.label} ${t}`)}}))}}}t.RegisterCommand=p,p.argParser=c.optWhitespace.then(c.any.sepBy(c.optWhitespace).map((e=>new p(e))))},2613:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetabCommand=void 0;const n=r(9218),i=r(1398),o=r(7183),s=r(9359),a=r(2882),c=r(2140),u=r(3349);class l extends a.ExCommand{constructor(e){super(),this.arguments=e}async execute(e){if((0,s.isVisualMode)(e.currentMode)){const{start:t,end:r}=e.editor.selection;this.retab(e,t.line,r.line)}else this.retab(e,0,e.document.lineCount-1)}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);this.retab(e,r,n)}concat(e,t){let r="";for(let n=0;n<e;n++)r+=t;return r}hasTabs(e){return e.indexOf("\t")>=0}expandtab(e,t=0,r=o.configuration.tabstop){let n="",i=t;for(const t of e)if("\t"===t){const e=r-i%r||r;n+=this.concat(e," "),i+=e}else n+=t,i++;return n}retabLineSegment(e,t,r=o.configuration.tabstop){if(!this.arguments.replaceSpaces&&!this.hasTabs(e))return{value:e,length:e.length};const n=this.arguments.newTabstop||r,i=this.expandtab(e,t,r),s=Math.min((t+i.length)%n,i.length),a=Math.ceil((i.length-s)/n);let c="";return c+=this.concat(a,"\t"),c+=this.concat(s," "),{value:c,length:i.length}}retabLine(e,t=o.configuration.tabstop){const r=e.split(/(\s+)/);let n=0,i="";for(const e of r)if(e)if([" ","\t"].includes(e[0])){const r=this.retabLineSegment(e,n,t);i+=r.value,n+=r.length}else i+=e,n+=e.length;return i}retab(e,t,r){const n=[],s=Math.min(r,e.document.lineCount-1);for(let r=t;r<=s;r++)n.push(e.document.lineAt(r).text);const a=n.map((e=>o.configuration.expandtab?this.expandtab(e):this.retabLine(e))).join("\n"),c=n[n.length-1].length;e.recordedState.transformer.addTransformation({type:"replaceText",range:new i.Range(t,0,r,c),text:a}),this.arguments.newTabstop&&new u.SetCommand({type:"equal",option:"tabstop",value:this.arguments.newTabstop.toString()}).execute(e)}}t.RetabCommand=l,l.argParser=(0,n.seq)(c.bangParser,n.optWhitespace.then(c.numberParser).fallback(void 0)).map((([e,t])=>new l({replaceSpaces:e,newTabstop:t})))},3349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetCommand=void 0;const n=r(9218),i=r(7183),o=r(4546),s=r(6275),a=r(2882),c=(0,n.regexp)(/[a-z]+/),u=(0,n.regexp)(/\S*/),l=n.whitespace.then((0,n.alt)((0,n.string)("no").then(c).map((e=>({type:"unset",option:e}))),(0,n.string)("inv").then(c).map((e=>({type:"invert",option:e}))),c.skip((0,n.string)("!")).map((e=>({type:"invert",option:e}))),c.skip((0,n.string)("?")).map((e=>({type:"show",option:e}))),(0,n.seq)(c.skip((0,n.string)("&")),(0,n.alt)((0,n.string)("vim"),(0,n.string)("vi"),(0,n.string)(""))).map((([e,t])=>({type:"default",option:e,source:t}))),(0,n.seq)(c.skip((0,n.oneOf)("=:")),u).map((([e,t])=>({type:"equal",option:e,value:t}))),(0,n.seq)(c.skip((0,n.string)("+=")),u).map((([e,t])=>({type:"add",option:e,value:t}))),(0,n.seq)(c.skip((0,n.string)("^=")),u).map((([e,t])=>({type:"multiply",option:e,value:t}))),(0,n.seq)(c.skip((0,n.string)("-=")),u).map((([e,t])=>({type:"subtract",option:e,value:t}))),c.map((e=>({type:"show_or_set",option:e}))))).fallback({type:"show_or_set",option:void 0});class d extends a.ExCommand{constructor(e){super(),this.operation=e}static addListener(e,t){e in d.listeners||(d.listeners[e]=[]),d.listeners[e].push(t)}async execute(e){if(void 0===this.operation.option)return;const t=i.optionAliases.get(this.operation.option)??this.operation.option,r=i.configuration[t];if(void 0===r)throw o.VimError.fromCode(o.ErrorCode.UnknownOption,t);const n="boolean"==typeof r?"boolean":"string"==typeof r?"string":"number";switch(this.operation.type){case"show_or_set":"all"===this.operation.option||("boolean"===n?i.configuration[t]=!0:this.showOption(e,t,r));break;case"show":this.showOption(e,t,r);break;case"unset":if("boolean"!==n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`no${t}`);i.configuration[t]=!1;break;case"invert":if("boolean"!==n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`inv${t}`);i.configuration[t]=!r;break;case"default":this.operation.option;break;case"equal":if("boolean"===n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`${t}=${this.operation.value}`);if("string"===n)i.configuration[t]=this.operation.value;else{const e=Number.parseInt(this.operation.value,10);if(isNaN(e))throw o.VimError.fromCode(o.ErrorCode.NumberRequiredAfterEqual,`${t}=${this.operation.value}`);i.configuration[t]=e}break;case"add":if("boolean"===n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`${t}+=${this.operation.value}`);if("string"===n)i.configuration[t]=r+this.operation.value;else{const e=Number.parseInt(this.operation.value,10);if(isNaN(e))throw o.VimError.fromCode(o.ErrorCode.NumberRequiredAfterEqual,`${t}+=${this.operation.value}`);i.configuration[t]=r+e}break;case"multiply":if("boolean"===n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`${t}^=${this.operation.value}`);if("string"===n)i.configuration[t]=this.operation.value+r;else{const e=Number.parseInt(this.operation.value,10);if(isNaN(e))throw o.VimError.fromCode(o.ErrorCode.NumberRequiredAfterEqual,`${t}^=${this.operation.value}`);i.configuration[t]=r*e}break;case"subtract":if("boolean"===n)throw o.VimError.fromCode(o.ErrorCode.InvalidArgument474,`${t}-=${this.operation.value}`);if("string"===n)i.configuration[t]=r.split(this.operation.value).join("");else{const e=Number.parseInt(this.operation.value,10);if(isNaN(e))throw o.VimError.fromCode(o.ErrorCode.NumberRequiredAfterEqual,`${t}-=${this.operation.value}`);i.configuration[t]=r-e}break;default:throw this.operation,new Error("Got unexpected SetOperation.type")}if(t in d.listeners)for(const e of d.listeners[t])e()}showOption(e,t,r){"boolean"==typeof r?s.StatusBar.setText(e,r?t:`no${t}`):s.StatusBar.setText(e,`${t}=${r}`)}}t.SetCommand=d,d.argParser=l.map((e=>new d(e))),d.listeners={}},7142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShCommand=void 0;const n=r(1398),i=r(2882);class o extends i.ExCommand{async execute(e){n.window.createTerminal().show()}}t.ShCommand=o},7161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShiftCommand=void 0;const n=r(1398),i=r(9218),o=r(8104),s=r(2882),a=r(9787),c=r(2140);class u extends s.ExCommand{constructor(e){super(),this.args=e}async execute(e){this.executeWithRange(e,new a.LineRange(new a.Address({type:"current_line"})))}async executeWithRange(e,t){let{start:r,end:i}=t.resolve(e);void 0!==this.args.numLines&&(r=i,i=r+this.args.numLines),e.editor.selection=new n.Selection(new n.Position(r,0),new n.Position(i,0));for(let t=0;t<this.args.depth;t++)">"===this.args.dir?e.recordedState.transformer.vscodeCommand("editor.action.indentLines"):"<"===this.args.dir&&e.recordedState.transformer.vscodeCommand("editor.action.outdentLines");e.recordedState.transformer.moveCursor(o.PositionDiff.startOfLine())}}t.ShiftCommand=u,u.argParser=e=>i.optWhitespace.then((0,i.seq)((0,i.string)(e).many().map((e=>e.length+1)).skip(i.optWhitespace),c.numberParser.fallback(void 0))).map((([t,r])=>new u({dir:e,depth:t,numLines:r})))},2177:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SmileCommand=void 0;const a=s(r(1398)),c=r(7892),u=r(2882);class l extends u.ExCommand{constructor(){super()}async execute(e){await a.commands.executeCommand("workbench.action.files.newUntitledFile"),await c.TextEditor.insert(a.window.activeTextEditor,l.smileText)}}t.SmileCommand=l,l.smileText='\n                               oooo$$$$$$$$$$$$oooo\n                          oo$$$$$$$$$$$$$$$$$$$$$$$$o\n                       oo$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o         o$   $$ o$\n     o $ oo          o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$o       $$ $$ $$o$\n    oo $ $ "$      o$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$o       $$$o$$o$\n    "$$$$$$o$     o$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$o    $$$$$$$$\n      $$$$$$$    $$$$$$$$$$$      $$$$$$$$$$$      $$$$$$$$$$$$$$$$$$$$$$$\n      $$$$$$$$$$$$$$$$$$$$$$$    $$$$$$$$$$$$$    $$$$$$$$$$$$$$  """$$$\n       "$$$""""$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$\n        $$$   o$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     "$$$o\n       o$$"   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$       $$$o\n       $$$    $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$" "$$$$$$ooooo$$$$o\n      o$$$oooo$$$$$  $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$   o$$$$$$$$$$$$$$$$$\n      $$$$$$$$"$$$$   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     $$$$""""""""\n     """"       $$$$    "$$$$$$$$$$$$$$$$$$$$$$$$$$$$"      o$$$\n                "$$$o     """$$$$$$$$$$$$$$$$$$"$$"         $$$\n                  $$$o          "$$""$$$$$$""""           o$$$\n                   $$$$o                                o$$$"\n                    "$$$$o      o$$$$$$o"$$$$o        o$$$$\n                      "$$$$$oo     ""$$$$o$$$$$o   o$$$$""\n                         ""$$$$$oooo  "$$$o$$$$$$$$$"""\n                            ""$$$$$$$oo $$$$$$$$$$\n                                    """"$$$$$$$$$$$\n                                        $$$$$$$$$$$$\n                                         $$$$$$$$$$"\n                                          "$$$""""'},2393:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.SortCommand=void 0;const a=r(9218),c=r(3038),u=s(r(1398)),l=r(8104),d=r(9359),h=r(2882),f=r(2140);class p extends h.ExCommand{constructor(e){super(),this.arguments=e}neovimCapable(){return!0}async execute(e){if((0,d.isVisualMode)(e.currentMode)){const{start:t,end:r}=e.editor.selection;await this.sortLines(e,t.line,r.line)}else await this.sortLines(e,0,e.document.lineCount-1)}async sortLines(e,t,r){let n=[];for(let i=t;i<=r&&i<e.document.lineCount;i++)n.push(e.document.lineAt(i).text);const i=n[n.length-1].length;if(this.arguments.unique){const e=new Set,t=[];for(const r of n){const n=this.arguments.ignoreCase?r.toLowerCase():r;e.has(n)||(e.add(n),t.push(r))}n=t}let o;o=this.arguments.numeric?n.sort(((e,t)=>(c.NumericString.parse(e,c.NumericStringRadix.Dec)?.num.value??Number.MAX_VALUE)-(c.NumericString.parse(t,c.NumericStringRadix.Dec)?.num.value??Number.MAX_VALUE))):this.arguments.ignoreCase?n.sort(((e,t)=>e.localeCompare(t))):n.sort(),this.arguments.reverse&&o.reverse();const s=o.join("\n");e.recordedState.transformer.addTransformation({type:"replaceText",range:new u.Range(t,0,r,i),text:s,diff:l.PositionDiff.exactPosition(new u.Position(t,o[0].match(/\S/)?.index??0))})}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);await this.sortLines(e,r,n)}}t.SortCommand=p,p.argParser=(0,a.seq)(f.bangParser,a.optWhitespace.then((0,a.oneOf)("bfilnorux").many())).map((([e,t])=>new p({reverse:e,ignoreCase:t.includes("i"),unique:t.includes("u"),numeric:t.includes("n")})))},953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteCommand=t.ReplaceString=void 0;const n=r(9218),i=r(1398),o=r(8104),s=r(7183),a=r(5555),c=r(4546),u=r(4224),l=r(5414),d=r(183),h=r(4727),f=r(6275),p=r(1402),m=r(384),g=r(2882),v=r(9787),y=r(2140),b=r(2270);class w{constructor(e){this.components=e}toString(){return this.components.map((e=>"string"===e.type?e.value:"capture_group"===e.type?"&"===e.group?"&":`\\${e.group}`:"prev_replace_string"===e.type?"~":"change_case"===e.type?"upper"===e.case?"char"===e.duration?"\\u":"\\U":"char"===e.duration?"\\l":"\\L":"change_case_end"===e.type?"\\E":"")).join("")}resolve(e){let t,r,n="";for(const i of this.components){let o,s="";"string"===i.type?s=i.value:"capture_group"===i.type?s=e["&"===i.group?0:i.group]??"":"prev_replace_string"===i.type?s=l.globalState.substituteState?.replaceString.toString()??"":"change_case"===i.type?"until_end"===i.duration?t=i.case:o=i.case:"change_case_end"===i.type&&(t=void 0),s&&(t&&(s="upper"===t?s.toLocaleUpperCase():s.toLocaleLowerCase()),r&&(s=("upper"===r?s[0].toLocaleUpperCase():s[0].toLocaleLowerCase())+s.slice(1)),n+=s),r=o}return n}}t.ReplaceString=w;const x=(0,n.seq)((0,n.string)("&").fallback(void 0),(0,n.oneOf)("cegiInp#lr").many()).map((([e,t])=>{const r={};"&"===e&&(r.keepPreviousFlags=!0);for(const e of t)switch(e){case"c":r.confirmEach=!0;break;case"e":r.suppressError=!0;break;case"g":r.replaceAll=!0;break;case"i":r.ignoreCase=!0;break;case"I":r.noIgnoreCase=!0;break;case"n":r.printCount=!0;break;case"p":r.printLastMatchedLine=!0;break;case"#":r.printLastMatchedLineWithNumber=!0;break;case"l":r.printLastMatchedLineWithList=!0;break;case"r":r.usePreviousPattern=!0}return r})),S=n.optWhitespace.then(y.numberParser).fallback(void 0);class M extends g.ExCommand{constructor(e){super(),this.arguments=e,this.abort=!1}neovimCapable(){return!this.arguments.flags.confirmEach}getSubstitutionDecorations(e,t=new v.LineRange(new v.Address({type:"current_line"}))){const r=[],n=[],i=[],o="replace"===s.configuration.inccommand?n:r,{pattern:a,replace:c}=this.resolvePatterns(!1),u=this.arguments.pattern?.closed&&s.configuration.inccommand&&!this.arguments.flags.printCount;let l=[];a?.patternString&&(l=a.allMatches(e,{lineRange:t}));const d=(s.configuration.gdefault||s.configuration.substituteGlobalFlag)!==(this.arguments.flags.replaceAll??!1),h=new Set;for(const t of l)if(d||!h.has(t.range.start.line))if(h.add(t.range.start.line),u){const r=(0,p.formatDecorationText)(c.resolve(t.groups),e.editor.options.tabSize);o.push({range:t.range,renderOptions:{["append"===s.configuration.inccommand?"after":"before"]:{contentText:r}}})}else i.push((0,p.ensureVisible)(t.range));return{substitutionAppend:r,substitutionReplace:n,searchHighlight:i}}async replaceMatchRange(e,t){if(this.arguments.flags.printCount)return 0;const r=this.arguments.replace.resolve(t.groups);if(this.arguments.flags.confirmEach){if(!await this.confirmReplacement(e,t,r))return;e.recordedState.transformer.replace(t.range,r)}else e.recordedState.transformer.replace(t.range,r);return r.split("\n").length-1-(t.groups[0].split("\n").length-1)}async confirmReplacement(e,t,r){const n=new i.CancellationTokenSource,o=["y","n","a","q","l"];let s="";const c=(0,m.escapeCSSIcons)(`Replace with ${(0,p.formatDecorationText)(r,e.editor.options.tabSize,"\\n")} (${o.join("/")})?`),u=this.cSearchHighlights?.filter((e=>!e.range.isEqual(t.range)))??[];return e.editor.revealRange(new i.Range(t.range.start.line,0,t.range.start.line,0)),e.editor.setDecorations(a.decoration.searchHighlight,u),e.editor.setDecorations(a.decoration.searchMatch,[(0,p.ensureVisible)(t.range)]),e.editor.setDecorations(a.decoration.confirmedSubstitution,this.confirmedSubstitutions??[]),await i.window.showInputBox({ignoreFocusOut:!0,prompt:c,placeHolder:o.join("/"),validateInput:e=>(o.includes(e)&&(s=e,n.cancel()),c)},n.token),"q"!==s&&"l"!==s&&s?"a"===s&&(this.arguments.flags.confirmEach=void 0):this.abort=!0,("y"===s||"a"===s||"l"===s)&&(this.cSearchHighlights&&(this.cSearchHighlights=u),this.confirmedSubstitutions?.push({range:t.range,renderOptions:{before:{contentText:(0,p.formatDecorationText)(r,e.editor.options.tabSize)}}}),!0)}resolvePatterns(e){let{pattern:t,replace:r}=this.arguments;if(void 0===t){const n=l.globalState.substituteState;if(void 0===n?.searchPattern||""===n.searchPattern.patternString){if(e)throw c.VimError.fromCode(c.ErrorCode.NoPreviousSubstituteRegularExpression)}else t=n.searchPattern,r=n.replaceString}else if(""===t.patternString){const r=l.globalState.searchState;if(void 0===r||""===r.searchString){if(e)throw c.VimError.fromCode(c.ErrorCode.NoPreviousRegularExpression)}else t=r.pattern}return{pattern:t,replace:r}}async execute(e){await this.executeWithRange(e,new v.LineRange(new v.Address({type:"current_line"})))}async executeWithRange(e,t){let{start:r,end:n}=t.resolve(e);this.arguments.count&&this.arguments.count>=0&&(r=n,n=n+this.arguments.count-1);const{pattern:c,replace:f}=this.resolvePatterns(!0);this.arguments.replace=f;const m=(s.configuration.gdefault||s.configuration.substituteGlobalFlag)!==(this.arguments.flags.replaceAll??!1),g=c?.allMatches(e,{lineRange:new v.LineRange(new v.Address({type:"number",num:r+1}),",",new v.Address({type:"number",num:n+1}))})??[];let y;if(m)y=g;else{const e=new Set;y=g.filter((t=>!e.has(t.range.start.line)&&(e.add(t.range.start.line),!0)))}this.arguments.flags.confirmEach&&(e.editor.setDecorations(a.decoration.substitutionAppend,[]),e.editor.setDecorations(a.decoration.substitutionReplace,[]),s.configuration.inccommand&&(this.confirmedSubstitutions=[]),s.configuration.incsearch&&(this.cSearchHighlights=y.map((e=>(0,p.ensureVisible)(e.range)))));const w=new Set;let x=0,S=0;for(const t of y){if(this.abort)break;const r=await this.replaceMatchRange(e,t);void 0!==r&&(x++,w.add(t.range.start.line),S+=r)}if(x>0&&!this.arguments.flags.printCount){const t=Math.max(...w.values())+S,r=new i.Position(Math.max(0,t),0);l.globalState.jumpTracker.recordJump(new u.Jump({document:e.document,position:r}),u.Jump.fromStateNow(e)),e.recordedState.transformer.moveCursor(o.PositionDiff.exactPosition(r),0)}this.confirmedSubstitutions=void 0,this.cSearchHighlights=void 0,e.editor.setDecorations(a.decoration.confirmedSubstitution,[]),this.setStatusBarText(e,x,w.size),void 0!==this.arguments.pattern&&(l.globalState.substituteState=new h.SubstituteState(c,f),l.globalState.searchState=new d.SearchState(b.SearchDirection.Forward,e.cursorStopPosition,c?.patternString,{}))}setStatusBarText(e,t,r){0===t?f.StatusBar.displayError(e,c.VimError.fromCode(c.ErrorCode.PatternNotFound,this.arguments.pattern?.patternString)):this.arguments.flags.printCount?f.StatusBar.setText(e,`${t} match${t>1?"es":""} on ${r} line${r>1?"s":""}`):t>s.configuration.report&&f.StatusBar.setText(e,`${t} substitution${t>1?"s":""} on ${r} line${r>1?"s":""}`)}}t.SubstituteCommand=M,M.argParser=n.optWhitespace.then((0,n.alt)((0,n.regexp)(/[^\w\s\\|"]{1}/).chain((e=>(0,n.seq)(b.Pattern.parser({direction:b.SearchDirection.Forward,delimiter:e}),(e=>(0,n.alt)((0,n.string)("\\").then(n.any.fallback(void 0).map((e=>void 0===e||"\\"===e?{type:"string",value:"\\"}:"/"===e?{type:"string",value:"/"}:"b"===e?{type:"string",value:"\b"}:"r"===e?{type:"string",value:"\r"}:"n"===e?{type:"string",value:"\n"}:"t"===e?{type:"string",value:"\t"}:"&"===e?{type:"string",value:"&"}:"~"===e?{type:"string",value:"~"}:/[0-9]/.test(e)?{type:"capture_group",group:Number.parseInt(e,10)}:"u"===e?{type:"change_case",case:"upper",duration:"char"}:"l"===e?{type:"change_case",case:"lower",duration:"char"}:"U"===e?{type:"change_case",case:"upper",duration:"until_end"}:"L"===e?{type:"change_case",case:"lower",duration:"until_end"}:"e"===e||"E"===e?{type:"change_case_end"}:{type:"string",value:`\\${e}`}))),(0,n.string)("&").result({type:"capture_group",group:"&"}),(0,n.string)("~").result({type:"prev_replace_string"}),(0,n.noneOf)(e).map((e=>({type:"string",value:e})))).many().map((e=>new w(e))))(e),(0,n.string)(e).then(x).fallback({}),S).map((([e,t,r,n])=>new M({pattern:e,replace:t,flags:r,count:n}))))),(0,n.seq)(x,S).map((([e,t])=>new M({pattern:void 0,replace:new w([]),flags:e,count:t})))))},9490:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.TabCommand=t.TabCommandType=void 0;const a=r(9218),c=s(r(6928)),u=s(r(1398)),l=r(2882),d=r(2140),h=r(4546);var f;!function(e){e[e.Next=0]="Next",e[e.Previous=1]="Previous",e[e.First=2]="First",e[e.Last=3]="Last",e[e.Edit=4]="Edit",e[e.New=5]="New",e[e.Close=6]="Close",e[e.Only=7]="Only",e[e.Move=8]="Move"}(f||(t.TabCommandType=f={}));class p extends l.ExCommand{constructor(e){super(),this.arguments=e}async executeCommandWithCount(e,t){for(let r=0;r<e;r++)await u.commands.executeCommand(t)}async execute(e){switch(this.arguments.type){case f.Edit:if(void 0!==this.arguments.buf&&"number"==typeof this.arguments.buf&&this.arguments.buf>=0)await u.commands.executeCommand("workbench.action.openEditorAtIndex",this.arguments.buf-1);else if(void 0!==this.arguments.buf&&"string"==typeof this.arguments.buf){const e=u.window.tabGroups.activeTabGroup,t=this.arguments.buf,r=[];for(const n of e.tabs)if(n.label.includes(t)&&r.push(n),r.length>1)break;if(0===r.length)throw h.VimError.fromCode(h.ErrorCode.NoMatchingBuffer,t);if(r.length>1)throw h.VimError.fromCode(h.ErrorCode.MultipleMatches,t);const n=r[0];if(void 0!==n.input.uri){const e=n.input.uri;await u.commands.executeCommand("vscode.open",e)}}break;case f.Next:if(void 0!==this.arguments.count&&this.arguments.count<=0)break;if(this.arguments.count){const e=u.window.tabGroups.activeTabGroup;if(0<this.arguments.count&&this.arguments.count<=e.tabs.length){const t=e.tabs[this.arguments.count-1];if(void 0!==t.input.uri){const e=t.input.uri;await u.commands.executeCommand("vscode.open",e)}}}else await u.commands.executeCommand("workbench.action.nextEditorInGroup");break;case f.Previous:if(void 0!==this.arguments.count&&this.arguments.count<=0)break;await this.executeCommandWithCount(this.arguments.count||1,"workbench.action.previousEditorInGroup");break;case f.First:await u.commands.executeCommand("workbench.action.openEditorAtIndex1");break;case f.Last:await u.commands.executeCommand("workbench.action.lastEditorInGroup");break;case f.New:if(void 0!==this.arguments.file&&""!==this.arguments.file){const e=c.isAbsolute(this.arguments.file),t=u.window.activeTextEditor.document.uri.fsPath,r=void 0!==u.workspace.workspaceFolders&&u.workspace.workspaceFolders.length>0;let n;if(e)n=this.arguments.file;else if(r){const e=u.workspace.workspaceFolders[0].uri.path;n=t.startsWith(e)?c.join(c.dirname(t),this.arguments.file):c.join(e,this.arguments.file)}else n=c.join(c.dirname(t),this.arguments.file);n!==t&&await u.commands.executeCommand("vscode.open",u.Uri.file(n))}else await u.commands.executeCommand("workbench.action.files.newUntitledFile");break;case f.Close:if(void 0===this.arguments.count){await u.commands.executeCommand("workbench.action.closeActiveEditor");break}if(0===this.arguments.count)break;break;case f.Only:await u.commands.executeCommand("workbench.action.closeOtherEditors");break;case f.Move:{const{count:e,direction:t}=this.arguments;let r;r=void 0!==t?{to:t,by:"tab",value:e??1}:0===e?{to:"first"}:void 0===e?{to:"last"}:{to:"position",by:"tab",value:e+1},await u.commands.executeCommand("moveActiveEditor",r);break}}}}t.TabCommand=p,p.argParsers={bfirst:a.whitespace.then(d.fileCmdParser).fallback(void 0).map((e=>new p({type:f.First,cmd:e}))),blast:a.whitespace.then(d.fileCmdParser).fallback(void 0).map((e=>new p({type:f.Last,cmd:e}))),bnext:(0,a.seq)(d.bangParser,a.optWhitespace.then(d.fileCmdParser).fallback(void 0),a.optWhitespace.then(d.numberParser).fallback(void 0)).map((([e,t,r])=>new p({type:f.Next,bang:e,cmd:t,count:r}))),bprev:(0,a.seq)(d.bangParser,a.optWhitespace.then(d.fileCmdParser).fallback(void 0),a.optWhitespace.then(d.numberParser).fallback(void 0)).map((([e,t,r])=>new p({type:f.Previous,bang:e,cmd:t,count:r}))),buffer:(0,a.seq)(a.optWhitespace.then(d.fileCmdParser).fallback(void 0),(0,a.alt)(a.optWhitespace.then(d.numberParser),a.optWhitespace.then(d.fileNameParser)).fallback(void 0)).map((([e,t])=>new p({type:f.Edit,cmd:e,buf:t??0}))),tabclose:(0,a.seq)(d.bangParser,a.optWhitespace.then(d.numberParser).fallback(void 0)).map((([e,t])=>new p({type:f.Close,bang:e,count:t}))),tabonly:(0,a.seq)(d.bangParser,a.optWhitespace.then(d.numberParser).fallback(void 0)).map((([e,t])=>new p({type:f.Only,bang:e,count:t}))),tabnew:(0,a.seq)(a.optWhitespace.then(d.fileOptParser).fallback([]),a.optWhitespace.then(d.fileCmdParser).fallback(void 0),a.optWhitespace.then(d.fileNameParser).fallback(void 0)).map((([e,t,r])=>new p({type:f.New,opt:e,cmd:t,file:r}))),tabmove:a.optWhitespace.then((0,a.seq)((0,a.alt)((0,a.string)("+").result("right"),(0,a.string)("-").result("left")).fallback(void 0),d.numberParser.fallback(void 0))).map((([e,t])=>new p({type:f.Move,direction:e,count:t})))}},2685:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCommand=void 0;const a=r(9218),c=s(r(1398)),u=r(2882);class l extends u.ExCommand{async execute(e){await c.commands.executeCommand("workbench.action.createTerminalEditor")}}t.TerminalCommand=l,l.argParser=(0,a.succeed)(new l)},931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndoCommand=void 0;const n=r(5928),i=r(1398),o=r(2882),s=r(9218),a=r(2140);class c extends o.ExCommand{constructor(e){super(),this.count=e}async execute(e){await(new n.CommandUndo).exec(new i.Position(0,0),e)}}t.UndoCommand=c,c.argParser=s.optWhitespace.then(a.numberParser).fallback(void 0).map((e=>new c(e)))},6959:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VsCodeCommand=void 0;const a=r(4546),c=r(6275),u=s(r(1398)),l=r(2882),d=r(9218);class h extends l.ExCommand{constructor(e){super(),this.command=e}async execute(e){this.command?await u.commands.executeCommand(this.command):c.StatusBar.displayError(e,a.VimError.fromCode(a.ErrorCode.ArgumentRequired))}}t.VsCodeCommand=h,h.argParser=d.whitespace.then(d.all).map((e=>new h(e)))},4265:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WallCommand=void 0;const a=s(r(1398)),c=r(2882),u=r(2140);class l extends c.ExCommand{constructor(e){super(),this.bang=e??!1}async execute(e){await a.workspace.saveAll(!1)}}t.WallCommand=l,l.argParser=u.bangParser.map((e=>new l(e)))},7394:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WriteCommand=void 0;const a=r(9218),c=s(r(6928)),u=s(r(2268)),l=s(r(1398)),d=r(6275),h=r(3501),f=r(2882),p=r(2140);class m extends f.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.arguments=e}async execute(e){if(e.document.isUntitled||"file"!==e.document.uri.scheme)await this.background(l.commands.executeCommand("workbench.action.files.save"));else try{this.arguments.file?await this.saveAs(e,this.arguments.file):(await u.accessAsync(e.document.fileName,u.constants.W_OK),await this.save(e))}catch(t){if(this.arguments.bang)try{const t=await u.getMode(e.document.fileName);await u.chmodAsync(e.document.fileName,438),this.arguments.bgWrite=!1,await this.save(e),await u.chmodAsync(e.document.fileName,t)}catch(t){d.StatusBar.setText(e,t.message)}else d.StatusBar.setText(e,t.message)}}async saveAs(e,t){try{const r=c.resolve(c.dirname(e.document.fileName),t),n=await u.existsAsync(r),i=l.Uri.file(c.resolve(c.dirname(e.document.fileName),r));if(""===c.extname(r))return void d.StatusBar.setText(e,"E357: The file extension must be specified",!0);if(n){if((await l.workspace.fs.stat(i)).type===l.FileType.Directory)return void d.StatusBar.setText(e,`E17: "${r}" is a directory`,!0);if("No"===await l.window.showWarningMessage(`File "${t}" already exists. Do you want to overwrite it?`,{modal:!0},"Yes","No"))return}await l.window.showTextDocument(e.document,{preview:!1}),await l.commands.executeCommand("workbench.action.files.save",i),await l.workspace.fs.copy(e.document.uri,i,{overwrite:!0}),d.StatusBar.setText(e,`"${t}" ${n?"":"[New]"} ${e.document.lineCount}L ${e.document.getText().length}C written`)}catch(t){d.StatusBar.setText(e,t.message)}}async save(e){await this.background(e.document.save().then((t=>{t?d.StatusBar.setText(e,`"${c.basename(e.document.fileName)}" ${e.document.lineCount}L ${e.document.getText().length}C written`):h.Logger.warn(":w failed")})))}async background(e){this.arguments.bgWrite||await e}}t.WriteCommand=m,m.argParser=(0,a.seq)(p.bangParser.skip(a.optWhitespace),p.fileOptParser.skip(a.optWhitespace),(0,a.alt)((0,a.string)("!").then(a.all).map((e=>({cmd:e}))),p.fileNameParser.map((e=>({file:e})))).fallback({})).map((([e,t,r])=>new m({bang:e,opt:t,bgWrite:!0,...r})))},789:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitCommand=void 0;const n=r(9218),i=r(2882),o=r(2140),s=r(866),a=r(7394);class c extends i.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.args=e}async execute(e){await new a.WriteCommand({bgWrite:!1,...this.args}).execute(e),await new s.QuitCommand({bang:!1}).execute(e)}}t.WriteQuitCommand=c,c.argParser=(0,n.seq)(o.bangParser.skip(n.optWhitespace),o.fileOptParser.skip(n.optWhitespace),o.fileNameParser.fallback(void 0)).map((([e,t,r])=>new c(r?{bang:e,opt:t,file:r}:{bang:e,opt:t})))},4329:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WriteQuitAllCommand=void 0;const a=r(9218),c=r(2882),u=r(2140),l=s(r(4265)),d=s(r(866));class h extends c.ExCommand{constructor(e){super(),this.isRepeatableWithDot=!1,this.arguments=e}async execute(e){const t={bang:!1},r=new l.WallCommand(this.arguments.bang);await r.execute(e),t.quitAll=!0;const n=new d.QuitCommand(t);await n.execute(e)}}t.WriteQuitAllCommand=h,h.argParser=(0,a.seq)(u.bangParser,a.whitespace.then(u.fileOptParser).fallback([])).map((([e,t])=>new h({bang:e,fileOpt:t})))},7708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YankCommand=void 0;const n=r(9218),i=r(1398),o=r(5682),s=r(6007),a=r(2882),c=r(2140);class u extends a.ExCommand{constructor(e){super(),this.arguments=e}async yank(e,t,r){e.currentRegisterMode=s.RegisterMode.LineWise,this.arguments.register&&(e.recordedState.registerName=this.arguments.register);const n=e.cursorStopPosition;await(new o.YankOperator).run(e,t.getLineBegin(),r.getLineEnd()),e.cursorStopPosition=n}async execute(e){const t=this.arguments.count??1,r=e.cursorStartPosition,n=t?r.getDown(t-1).getLineEnd():e.cursorStopPosition;await this.yank(e,r,n)}async executeWithRange(e,t){const{start:r,end:n}=t.resolve(e);if(this.arguments.count)return e.cursorStartPosition=new i.Position(n,0),void await this.execute(e);await this.yank(e,new i.Position(r,0),new i.Position(n,0))}}t.YankCommand=u,u.argParser=n.optWhitespace.then((0,n.alt)(c.numberParser.map((e=>({register:void 0,count:e}))),(0,n.seq)(n.any.fallback(void 0),n.whitespace.then(c.numberParser).fallback(void 0)).map((([e,t])=>({register:e,count:t})))).map((({register:e,count:t})=>new u({register:e,count:t}))))},8344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PairMatcher=void 0;const n=r(1398),i=r(7183);class o{static findPairedChar(e,t,r,i,s,a,c){let u=e.line;const l=e.character,d=a.document.lineCount,h=a.document.lineAt(e).text[e.character];if(c&&a.cursorStartPosition.isEqual(a.cursorStopPosition)&&h===t)return e;for(;o.keepSearching(u,d,s);){let o=a.document.lineAt(u).text.split("");const c=o.length;for(u===e.line&&(o=s?o.slice(l+1,c):o.slice(0,l));!(o.length<=0||i<=-1);){let e;if(e=s?o.shift():o.pop(),e===r)i++;else{if(e!==t)continue;i--}}if(i<=-1){let e;return e=s?Math.max(0,c-o.length-1):o.length,new n.Position(u,e)}s?u++:u--}}static keepSearching(e,t,r){return r?e<=t-1:e>=0}static getPercentPairing(e){for(const t of i.configuration.matchpairs.split(",")){const r=t.split(":");if(2===r.length){if(r[0]===e)return{match:r[1],isNextMatchForward:!0};if(r[1]===e)return{match:r[0],isNextMatchForward:!1}}}}static nextPairedChar(e,t,r,n){const i=this.pairings[t];if(void 0===i||i.directionless)return;const s=i.match,a=t;return o.findPairedChar(e,s,a,0,i.isNextMatchForward,r,n)}}t.PairMatcher=o,o.pairings={"(":{match:")",isNextMatchForward:!0},"{":{match:"}",isNextMatchForward:!0},"[":{match:"]",isNextMatchForward:!0},")":{match:"(",isNextMatchForward:!1},"}":{match:"{",isNextMatchForward:!1},"]":{match:"[",isNextMatchForward:!1},"<":{match:">",isNextMatchForward:!0},">":{match:"<",isNextMatchForward:!1},'"':{match:'"',isNextMatchForward:!1,directionless:!0},"'":{match:"'",isNextMatchForward:!1,directionless:!0},"`":{match:"`",isNextMatchForward:!1,directionless:!0}}},4017:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteMatcher=void 0,function(e){e[e.Opening=0]="Opening",e[e.Closing=1]="Closing"}(r||(r={}));class n{constructor(e,t){this.quoteMap=[];let i=!0;for(let o=0;o<t.length;o++)t[o]!==n.escapeChar?t[o]===e&&(this.quoteMap[o]=i?r.Opening:r.Closing,i=!i):o+=1}surroundingQuotes(e){const t=this.quoteMap[e];if(t===r.Opening){const t=this.getNextQuote(e);return void 0!==t?[e,t]:void 0}if(t===r.Closing)return[this.getPrevQuote(e),e];{const t=this.getPrevQuote(e)??this.getNextQuote(e);if(void 0!==t){const e=this.getNextQuote(t);if(void 0!==e)return[t,e]}}}getNextQuote(e){for(let t=e+1;t<this.quoteMap.length;t++)if(void 0!==this.quoteMap[t])return t}getPrevQuote(e){for(let t=e-1;t>=0;t--)if(void 0!==this.quoteMap[t])return t}}t.QuoteMatcher=n,n.escapeChar="\\"},2570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagMatcher=void 0;const n=r(7892);class i{constructor(e,t,r){let o=i.TAG_REGEX.exec(e);const s=[];for(;o;)o[i.CLOSE_FORWARD_SLASH]||s.push({name:o[i.TAG_NAME],type:o[i.OPEN_FORWARD_SLASH]?"close":"open",startPos:o.index,endPos:i.TAG_REGEX.lastIndex}),o=i.TAG_REGEX.exec(e);const a=[],c=[];for(const e of s)if("open"===e.type)a.push(e);else for(let t=a.length-1;t>=0;t--){const r=a[t];if("open"===r.type&&r.name===e.name){c.push({tag:r.name,openingTagStart:r.startPos,openingTagEnd:r.endPos,closingTagStart:e.startPos,closingTagEnd:e.endPos}),a.splice(t);break}}const u=n.TextEditor.getFirstNonWhitespaceCharOnLine(r.document,r.cursorStartPosition.line),l=r.cursorStartPosition.character<u.character?u:r.cursorStartPosition,d=r.document.offsetAt(l),h=t,f=c.filter((e=>d>=e.openingTagStart&&h<e.closingTagEnd));if(!f.length)return;const p=this.determineRelevantTag(f,d,0!==r.cursorStartPosition.compareTo(r.cursorStopPosition));p&&(this.openStart=p.openingTagStart,this.closeEnd=p.closingTagEnd,d===p.openingTagEnd&&h+1===p.closingTagStart?(this.openEnd=this.openStart,this.closeStart=this.closeEnd):(this.openEnd=p.openingTagEnd,this.closeStart=p.closingTagStart))}determineRelevantTag(e,t,r){const n=e[0];return r&&t===n.openingTagStart?e[1]:n}findOpening(e){return e?this.openStart:this.openEnd}findClosing(e){return e?this.closeEnd:this.closeStart}}t.TagMatcher=i,i.TAG_REGEX=/\<(\/)?([^\>\<\s\/]+)(?:[^\>\<]*?)(\/)?\>/g,i.OPEN_FORWARD_SLASH=1,i.TAG_NAME=2,i.CLOSE_FORWARD_SLASH=3},9253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cursor=void 0;class r{constructor(e,t){this.start=e,this.stop=t}isValid(e){return this.start.isValid(e)&&this.stop.isValid(e)}static FromVSCodeSelection(e){return new r(e.start,e.end)}equals(e){return this.start.isEqual(e.start)&&this.stop.isEqual(e.stop)}withNewStop(e){return new r(this.start,e)}withNewStart(e){return new r(e,this.stop)}toString(){return`[${this.start.toString()} | ${this.stop.toString()}]`}}t.Cursor=r},8104:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.PositionDiff=void 0,t.earlierOf=function(e,t){return e.isBefore(t)?e:t},t.laterOf=function(e,t){return e.isBefore(t)?t:e},t.sorted=function(e,t){return e.isBefore(t)?[e,t]:[t,e]};const a=s(r(1398)),c=r(7183),u=r(7892),l=r(8469),d=r(7384),h=r(7245),f=r(1398);var p;!function(e){e[e.ExactPosition=0]="ExactPosition",e[e.Offset=1]="Offset",e[e.ExactCharacter=2]="ExactCharacter",e[e.ObeyStartOfLine=3]="ObeyStartOfLine",e[e.EndOfLine=4]="EndOfLine"}(p||(p={}));class m{constructor(e,t,r){this.type=e,this.line=t,this.character=r}static identity(){return m.offset({line:0,character:0})}static offset({line:e=0,character:t=0}){return new m(p.Offset,e,t)}static exactPosition(e){return new m(p.ExactPosition,e.line,e.character)}static startOfLine(){return new m(p.ObeyStartOfLine,0,0)}static endOfLine(){return new m(p.EndOfLine,0,0)}static exactCharacter({lineOffset:e,character:t}){return new m(p.ExactCharacter,e??0,t)}toString(){switch(this.type){case p.Offset:return`[ Diff: Offset ${this.line} ${this.character} ]`;case p.ExactCharacter:return`[ Diff: ExactCharacter ${this.line} ${this.character} ]`;case p.ExactPosition:return`[ Diff: ExactPosition ${this.line} ${this.character} ]`;case p.ObeyStartOfLine:return`[ Diff: ObeyStartOfLine ${this.line} ]`;case p.EndOfLine:return`[ Diff: EndOfLine ${this.line} ]`;default:throw this.type,new Error(`Unknown PositionDiffType: ${this.type}`)}}}t.PositionDiff=m,f.Position.prototype.toString=function(){return`[${this.line}, ${this.character}]`},f.Position.prototype.add=function(e,t,r=!0){if(t.type===p.ExactPosition)return new f.Position(t.line,t.character);const n=(0,l.clamp)(this.line+t.line,0,e.lineCount-1);let i;if(t.type===p.Offset)i=this.character+t.character;else if(t.type===p.ExactCharacter)i=t.character;else if(t.type===p.ObeyStartOfLine)i=this.obeyStartOfLine(e).character;else{if(t.type!==p.EndOfLine)throw new Error(`Unknown PositionDiffType: ${t.type}`);i=this.getLineEnd().character}const o=new f.Position(n,Math.max(i,0));return r?e.validatePosition(o):o},f.Position.prototype.subtract=function(e){return m.offset({line:this.line-e.line,character:this.character-e.character})},f.Position.prototype.withColumn=function(e){return e=(0,l.clamp)(e,0,u.TextEditor.getLineLength(this.line)),new f.Position(this.line,e)},f.Position.prototype.getLeft=function(e=1){return new f.Position(this.line,Math.max(this.character-e,0))},f.Position.prototype.getRight=function(e=1){return new f.Position(this.line,Math.min(this.character+e,u.TextEditor.getLineLength(this.line)))},f.Position.prototype.getDown=function(e=1){if(a.window.activeTextEditor){const t=Math.min(this.line+e,u.TextEditor.getLineCount()-1);return new f.Position(t,Math.min(this.character,u.TextEditor.getLineLength(t)))}return this.translate({lineDelta:e})},f.Position.prototype.getUp=function(e=1){const t=Math.max(this.line-e,0);return new f.Position(t,Math.min(this.character,u.TextEditor.getLineLength(t)))},f.Position.prototype.getLeftThroughLineBreaks=function(e=!0){return this.isLineBeginning()?0===this.line?this:e?this.getUp().getLineEnd():this.getUp().getLineEnd().getLeft():this.getLeft()},f.Position.prototype.getRightThroughLineBreaks=function(e=!1){if(this.isAtDocumentEnd())return this;if(this.line<u.TextEditor.getLineCount()-1){if((e?this:this.getRight()).isLineEnd())return this.with({character:0}).getDown()}else if(!e&&this.character===u.TextEditor.getLineLength(this.line)-1)return this;return this.getRight()},f.Position.prototype.getOffsetThroughLineBreaks=function(e){let t=new f.Position(this.line,this.character);if(e<0)for(let r=0;r<-e;r++)t=t.getLeftThroughLineBreaks();else for(let r=0;r<e;r++)t=t.getRightThroughLineBreaks();return t},f.Position.prototype.prevWordStart=function(e,t){return(0,h.prevWordStart)(e,this,t?.wordType??h.WordType.Normal,t?.inclusive??!1)},f.Position.prototype.nextWordStart=function(e,t){return(0,h.nextWordStart)(e,this,t?.wordType??h.WordType.Normal,t?.inclusive??!1)},f.Position.prototype.prevWordEnd=function(e,t){return(0,h.prevWordEnd)(e,this,t?.wordType??h.WordType.Normal)},f.Position.prototype.nextWordEnd=function(e,t){return(0,h.nextWordEnd)(e,this,t?.wordType??h.WordType.Normal,t?.inclusive??!1)},f.Position.prototype.getSentenceBegin=function(e){return(0,d.getSentenceBegin)(this,e)},f.Position.prototype.getSentenceEnd=function(){return(0,d.getSentenceEnd)(this)},f.Position.prototype.getLineBegin=function(){return new f.Position(this.line,0)},f.Position.prototype.getLineBeginRespectingIndent=function(e){return c.configuration.autoindent?u.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line):this.getLineBegin()},f.Position.prototype.getLineEnd=function(){return new f.Position(this.line,u.TextEditor.getLineLength(this.line))},f.Position.prototype.getLineEndIncludingEOL=function(){return new f.Position(this.line,u.TextEditor.getLineLength(this.line)+1)},f.Position.prototype.getLeftIfEOL=function(){return this.character===u.TextEditor.getLineLength(this.line)?this.getLeft():this},f.Position.prototype.advancePositionByText=function(e){const t=[];let r=e.indexOf("\n",0);for(;r>=0;)t.push(r),r=e.indexOf("\n",r+1);return 0===t.length?new f.Position(this.line,this.character+e.length):new f.Position(this.line+t.length,e.length-(t[t.length-1]+1))},f.Position.prototype.isLineBeginning=function(){return 0===this.character},f.Position.prototype.isLineEnd=function(){return this.character>=u.TextEditor.getLineLength(this.line)},f.Position.prototype.isFirstWordOfLine=function(e){return u.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line).character===this.character},f.Position.prototype.isAtDocumentBegin=function(){return 0===this.line&&this.isLineBeginning()},f.Position.prototype.isAtDocumentEnd=function(){return this.line===u.TextEditor.getLineCount()-1&&this.isLineEnd()},f.Position.prototype.isInLeadingWhitespace=function(e){return/^\s+$/.test(e.getText(new a.Range(this.getLineBegin(),this)))},f.Position.prototype.obeyStartOfLine=function(e){return c.configuration.startofline?u.TextEditor.getFirstNonWhitespaceCharOnLine(e,this.line):this},f.Position.prototype.isValid=function(e){try{const t=u.TextEditor.getLineCount(e)||1;if(this.line>=t)return!1;const r=u.TextEditor.getLineLength(this.line);if(this.character>r+1)return!1}catch(e){return!1}return!0}},3038:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NumericString=t.NumericStringRadix=void 0,function(e){e[e.Oct=8]="Oct",e[e.Dec=10]="Dec",e[e.Hex=16]="Hex"}(r||(t.NumericStringRadix=r={}));class n{static parse(e,t){const r=void 0!==t?n.matchings.filter((e=>e.radix===t)):n.matchings;let i=-1,o=-1,s=-1,a=!1;for(const{regex:t,radix:n}of r){const r=t.exec(e);null!=r&&(s<0||r.index<i||r.index===i&&r[0].length>o)&&(i=r.index,o=r[0].length,s=n,a="-"===r[1])}if(s<0)return;const c=i+o,u=e.slice(0,i),l=e.slice(i,c),d=e.slice(c,e.length);let h=parseInt(l,s);const f=o-n.numPrefix[s].length-(a?1:0);let p=!1;10!==s&&a&&(h=-h,p=!0);let m=!1;if(16===s)for(const t of Array.from(e).reverse()){if("A"<=t&&t<="F"){m=!0;break}if("a"<=t&&t<="f"){m=!1;break}}return{num:new n(h,s,f,u,d,p,m),suffixOffset:c}}constructor(e,t,r,n,i,o,s){this.value=e,this.radix=t,this.numLength=r,this.prefix=n,this.suffix=i,this.negative=o,this.isCapital=s}toString(){if(10!==this.radix){const e=4294967295;for(;this.value<0;)this.value=e+this.value+1}let e=Math.abs(this.value).toString(this.radix);if(this.isCapital&&(e=e.toUpperCase()),10!==this.radix){const t=this.numLength-e.length;t>0&&(e="0".repeat(t)+e)}const t=(this.negative||this.value<0?"-":"")+n.numPrefix[this.radix]+e;return this.prefix+t+this.suffix}}t.NumericString=n,n.numPrefix={[r.Oct]:"0",[r.Dec]:"",[r.Hex]:"0x"},n.matchings=[{regex:/(-)?0[0-7]+/,radix:r.Oct},{regex:/(-)?\d+/,radix:r.Dec},{regex:/(-)?0x[\da-fA-F]+/,radix:r.Hex}]},5014:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.lineCompletionProvider=t.getCompletionsForCurrentLine=void 0;const a=s(r(1398)),c=r(7892),u=(e,t,r)=>{const n=e=>{let n=r?t-e:e-t;return n<0&&(n=t+Math.abs(n)),n};return e.getText().split("\n").map(((e,t)=>({sortPriority:n(t),text:e.replace(/^[ \t]*/,"")}))).sort(((e,t)=>e.sortPriority>t.sortPriority?1:-1))};t.getCompletionsForCurrentLine=(e,t)=>((e,t,r)=>{const n=[];for(const i of(e=>[...a.workspace.textDocuments].sort(((t,r)=>t.fileName===e?-1:r.fileName===e?1:0)))(t)){let o=0,s=!1;i.fileName===t&&(o=r.line,s=!0);for(const t of u(i,o,s))!n.includes(t.text)&&t.text&&t.text.startsWith(e)&&t.text!==e&&n.push(t.text)}return n})(t.getText(new a.Range(c.TextEditor.getFirstNonWhitespaceCharOnLine(t,e.line),e)),t.fileName,e),t.lineCompletionProvider={showLineCompletionsQuickPick:async(e,r)=>{const n=(0,t.getCompletionsForCurrentLine)(e,r.document);if(!n)return;const i=await a.window.showQuickPick(n);i&&(r.recordedState.transformer.delete(new a.Range(c.TextEditor.getFirstNonWhitespaceCharOnLine(r.document,e.line),e.getLineEnd())),r.recordedState.transformer.addTransformation({type:"insertTextVSCode",text:i}))}}},7183:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.configuration=t.optionAliases=t.extensionVersion=void 0;const c=a(r(932)),u=a(r(1398)),l=r(8424),d=r(9364),h=r(13),f=r(5555),p=r(1647),m=r(5074),g=a(r(8330)),v=r(9359);t.extensionVersion=g.version,t.optionAliases=new Map([["ai","autoindent"],["et","expandtab"],["gd","gdefault"],["hi","history"],["hls","hlsearch"],["ic","ignorecase"],["icm","inccommand"],["is","incsearch"],["isk","iskeyword"],["js","joinspaces"],["mmd","maxmapdepth"],["mps","matchpairs"],["nu","number"],["rnu","relativenumber"],["sc","showcmd"],["scr","scroll"],["so","scrolloff"],["scs","smartcase"],["smd","showmode"],["sol","startofline"],["to","timeout"],["ts","tabstop"],["tw","textwidth"],["ws","wrapscan"],["ww","whichwrap"]]);class y{constructor(){this.leaderDefault="\\",this.cursorTypeMap={line:u.TextEditorCursorStyle.Line,block:u.TextEditorCursorStyle.Block,underline:u.TextEditorCursorStyle.Underline,"line-thin":u.TextEditorCursorStyle.LineThin,"block-outline":u.TextEditorCursorStyle.BlockOutline,"underline-thin":u.TextEditorCursorStyle.UnderlineThin},this.loadListeners=[],this.handleKeys={},this.useSystemClipboard=!1,this.shell="",this.useCtrlKeys=!1,this.overrideCopy=!0,this.hlsearch=!1,this.ignorecase=!0,this.smartcase=!0,this.autoindent=!0,this.matchpairs="(:),{:},[:]",this.joinspaces=!0,this.camelCaseMotion={enable:!0},this.replaceWithRegister=!1,this.smartRelativeLine=!1,this.sneak=!1,this.sneakUseIgnorecaseAndSmartcase=!1,this.sneakReplacesF=!1,this.surround=!0,this.argumentObjectSeparators=[","],this.argumentObjectOpeningDelimiters=["(","["],this.argumentObjectClosingDelimiters=[")","]"],this.easymotion=!1,this.easymotionMarkerBackgroundColor="#0000",this.easymotionMarkerForegroundColorOneChar="#ff0000",this.easymotionMarkerForegroundColorTwoCharFirst="#ffb400",this.easymotionMarkerForegroundColorTwoCharSecond="#b98300",this.easymotionIncSearchForegroundColor="#7fbf00",this.easymotionDimColor="#777777",this.easymotionDimBackground=!0,this.easymotionMarkerFontWeight="bold",this.easymotionKeys="hklyuiopnm,qwertzxcvbasdgjf;",this.easymotionJumpToAnywhereRegex="\\b[A-Za-z0-9]|[A-Za-z0-9]\\b|_.|#.|[a-z][A-Z]",this.targets={enable:!1,bracketObjects:{enable:!0},smartQuotes:{enable:!1,breakThroughLines:!1,aIncludesSurroundingSpaces:!0}},this.autoSwitchInputMethod={enable:!1,defaultIM:"",obtainIMCmd:"",switchIMCmd:""},this.timeout=1e3,this.maxmapdepth=1e3,this.showcmd=!0,this.showmodename=!0,this.leader=this.leaderDefault,this.history=50,this.inccommand="",this.incsearch=!0,this.startInInsertMode=!1,this.statusBarColorControl=!1,this.statusBarColors={normal:["#005f5f","#ffffff"],insert:["#5f0000","#ffffff"],visual:["#5f00af","#ffffff"],visualline:["#005f87","#ffffff"],visualblock:["#86592d","#ffffff"],replace:["#000000","#ffffff"]},this.searchHighlightColor="",this.searchHighlightTextColor="",this.searchMatchColor="",this.searchMatchTextColor="",this.substitutionColor="#50f01080",this.substitutionTextColor="",this.highlightedyank={enable:!1,color:"rgba(250, 240, 170, 0.5)",textColor:"",duration:200},this.boundKeyCombinations=[],this.visualstar=!1,this.mouseSelectionGoesIntoVisualMode=!0,this.changeWordIncludesWhitespace=!1,this.foldfix=!1,this.disableExtension=!1,this.enableNeovim=!1,this.neovimPath="",this.neovimUseConfigFile=!1,this.neovimConfigPath="",this.vimrc={enable:!1,path:""},this.digraphs={},this.gdefault=!1,this.substituteGlobalFlag=!1,this.whichwrap="b,s",this.startofline=!0,this.showMarksInGutter=!1,this.report=2,this.wrapscan=!0,this.scroll=0,this.cursorStylePerMode={normal:void 0,insert:void 0,visual:void 0,visualline:void 0,visualblock:void 0,replace:void 0},this.insertModeKeyBindings=[],this.insertModeKeyBindingsNonRecursive=[],this.normalModeKeyBindings=[],this.normalModeKeyBindingsNonRecursive=[],this.operatorPendingModeKeyBindings=[],this.operatorPendingModeKeyBindingsNonRecursive=[],this.visualModeKeyBindings=[],this.visualModeKeyBindingsNonRecursive=[],this.commandLineModeKeyBindings=[],this.commandLineModeKeyBindingsNonRecursive=[],this.insertModeKeyBindingsMap=new Map,this.normalModeKeyBindingsMap=new Map,this.operatorPendingModeKeyBindingsMap=new Map,this.visualModeKeyBindingsMap=new Map,this.commandLineModeKeyBindingsMap=new Map,this.langmapBindingsMap=new Map,this.langmapReverseBindingsMap=new Map,this.langmap=""}addLoadListener(e){this.loadListeners.push(e)}async load(){const e=l.Globals.isTesting?l.Globals.mockConfiguration:this.getConfiguration("vim");for(const t in this){let r=e[t];null!=r&&(r.constructor.name===Object.name&&(r=y.unproxify(r)),this[t]=r)}m.SUPPORT_VIMRC&&this.vimrc.enable&&await Promise.resolve().then((()=>a(r(6398)))).then((e=>e.vimrc.load(this))),this.leader=p.Notation.NormalizeKey(this.leader,this.leaderDefault),this.clearKeyBindingsMaps();const n=await h.configurationValidator.validate(t.configuration);this.boundKeyCombinations=[];for(const e of g.contributes.keybindings){if(e.when.includes("listFocus"))continue;if(e.command.startsWith("notebook"))continue;let t=e.key;"darwin"===c.platform?t=e.mac||t:"linux"===c.platform&&(t=e.linux||t),this.boundKeyCombinations.push({key:p.Notation.NormalizeKey(t,this.leader),command:e.command})}f.decoration.load(this);for(const e of this.boundKeyCombinations){let t=!0;const r=this.handleKeys[e.key];void 0!==r?t=r:this.useCtrlKeys||"C-"!==e.key.slice(1,3)||(t=!("<C-c>"!==e.key||!this.overrideCopy)),d.VSCodeContext.set(`vim.use${e.key}`,t)}return d.VSCodeContext.set("vim.overrideCopy",this.overrideCopy),d.VSCodeContext.set("vim.overrideCtrlC",this.overrideCopy||this.useCtrlKeys),this.loadListeners.forEach((e=>e())),n}getConfiguration(e=""){const t=u.window.activeTextEditor?.document,r=t?{uri:t.uri,languageId:t.languageId}:void 0;return u.workspace.getConfiguration(e,r)}cursorStyleFromString(e){return this.cursorTypeMap[e]}clearKeyBindingsMaps(){this.normalModeKeyBindingsMap=new Map,this.insertModeKeyBindingsMap=new Map,this.visualModeKeyBindingsMap=new Map,this.commandLineModeKeyBindingsMap=new Map,this.operatorPendingModeKeyBindingsMap=new Map}get editorCursorStyle(){return this.cursorStyleFromString(this.editorCursorStyleRaw)}set editorCursorStyle(e){}getScrollLines(e){return 0===this.scroll?Math.ceil((e[0].end.line-e[0].start.line)/2):this.scroll}getCursorStyleForMode(e){const t=this.cursorStylePerMode[v.Mode[e].toLowerCase()];return t?this.cursorStyleFromString(t):void 0}get textwidth(){const e=this.getConfiguration("vim").get("textwidth",80);return"number"!=typeof e?80:e}static unproxify(e){const t={};for(const r in e){const n=e[r];null!=n&&(t[r]=n)}return t}}function b(e){return(t,r)=>{Object.defineProperty(t,r,{get(){let t=this["_"+r];return void 0!==t&&""!==t||(t=this.getConfiguration("editor").get(e.settingName,e.defaultValue),e.map&&void 0!==t&&(t=e.map.get(t))),t},set(t){if(this["_"+r]=t,void 0!==t&&""!==t&&!l.Globals.isTesting){if(e.map)for(const[r,n]of e.map.entries())if(t===n){t=r;break}this.getConfiguration("editor").update(e.settingName,t,u.ConfigurationTarget.Global)}},enumerable:!0,configurable:!0})}}s([b({settingName:"tabSize",defaultValue:8})],y.prototype,"tabstop",void 0),s([b({settingName:"cursorStyle",defaultValue:"line"})],y.prototype,"editorCursorStyleRaw",void 0),s([b({settingName:"insertSpaces",defaultValue:!1})],y.prototype,"expandtab",void 0),s([b({settingName:"lineNumbers",defaultValue:!0,map:new Map([["on",!0],["off",!1],["relative",!1],["interval",!1]])})],y.prototype,"number",void 0),s([b({settingName:"lineNumbers",defaultValue:!1,map:new Map([["on",!1],["off",!1],["relative",!0],["interval",!1]])})],y.prototype,"relativenumber",void 0),s([b({settingName:"wordSeparators",defaultValue:"/\\()\"':,.;<>~!@#$%^&*|+=[]{}`?-"})],y.prototype,"iskeyword",void 0),s([b({settingName:"wordWrap",defaultValue:!1,map:new Map([["on",!0],["off",!1],["wordWrapColumn",!0],["bounded",!0]])})],y.prototype,"wrap",void 0),s([b({settingName:"cursorSurroundingLines",defaultValue:0})],y.prototype,"scrolloff",void 0),t.configuration=new y},13:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurationValidator=void 0;const n=r(6618);t.configurationValidator=new class{constructor(){this.validators=[]}registerValidator(e){this.validators.push(e)}async validate(e){const t=new n.ValidatorResults;for(const r of this.validators){const n=await r.validate(e);n.hasError&&r.disable(e),t.concat(n)}return t}}},5555:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.decoration=void 0;const a=s(r(1398));t.decoration=new class{constructor(){this._markDecorationCache=new Map,this.confirmedSubstitution=a.window.createTextEditorDecorationType({letterSpacing:"-9999999px",opacity:"0"})}_createMarkDecoration(e){const t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};e in t&&(e=t[e]);const r=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px" height="30px">',"<style>text { font-family: sans-serif; font-size: 0.8em; }</style>",'<path fill="rgb(3,102,214)" d="M23,27l-8-7l-8,7V5c0-1.105,0.895-2,2-2h12c1.105,0,2,0.895,2,2V27z"/>',`<text x="50%" y="40%" fill="rgb(200,200,200)" text-anchor="middle" dominant-baseline="middle">${e}</text>`,"</svg>"].join(""),n=a.Uri.parse(`data:image/svg+xml;utf8,${encodeURI(r)}`,!0);return a.window.createTextEditorDecorationType({isWholeLine:!1,gutterIconPath:n,gutterIconSize:"cover"})}set default(e){this._default&&this._default.dispose(),this._default=e}get default(){return this._default}set searchHighlight(e){this._searchHighlight&&this._searchHighlight.dispose(),this._searchHighlight=e}get searchHighlight(){return this._searchHighlight}set searchMatch(e){this._searchMatch&&this._searchMatch.dispose(),this._searchMatch=e}get searchMatch(){return this._searchMatch}set substitutionAppend(e){this._substitutionAppend&&this._substitutionAppend.dispose(),this._substitutionAppend=e}get substitutionAppend(){return this._substitutionAppend}set substitutionReplace(e){this._substitutionReplace&&this._substitutionReplace.dispose(),this._substitutionReplace=e}get substitutionReplace(){return this._substitutionReplace}get easyMotionIncSearch(){return this._easyMotionIncSearch}set easyMotionIncSearch(e){this._easyMotionIncSearch&&this._easyMotionIncSearch.dispose(),this._easyMotionIncSearch=e}get easyMotionDimIncSearch(){return this._easyMotionDimIncSearch}set easyMotionDimIncSearch(e){this._easyMotionDimIncSearch&&this._easyMotionDimIncSearch.dispose(),this._easyMotionDimIncSearch=e}getOrCreateMarkDecoration(e){const t=this.getMarkDecoration(e);if(t)return t;{const t=this._createMarkDecoration(e);return this._markDecorationCache.set(e,t),t}}getMarkDecoration(e){return this._markDecorationCache.get(e)}allMarkDecorations(){return this._markDecorationCache.values()}set insertModeVirtualCharacter(e){this._insertModeVirtualCharacter&&this._insertModeVirtualCharacter.dispose(),this._insertModeVirtualCharacter=e}get insertModeVirtualCharacter(){return this._insertModeVirtualCharacter}set operatorPendingModeCursor(e){this._operatorPendingModeCursor&&this._operatorPendingModeCursor.dispose(),this._operatorPendingModeCursor=e}get operatorPendingModeCursor(){return this._operatorPendingModeCursor}set operatorPendingModeCursorChar(e){this._operatorPendingModeCursorChar&&this._operatorPendingModeCursorChar.dispose(),this._operatorPendingModeCursorChar=e}get operatorPendingModeCursorChar(){return this._operatorPendingModeCursorChar}load(e){this.default=a.window.createTextEditorDecorationType({backgroundColor:new a.ThemeColor("editorCursor.foreground"),borderColor:new a.ThemeColor("editorCursor.foreground"),dark:{color:"rgb(81,80,82)"},light:{color:"rgb(255, 255, 255)"},borderStyle:"solid",borderWidth:"1px"});const t=e.searchHighlightColor?e.searchHighlightColor:new a.ThemeColor("editor.findMatchHighlightBackground");this.searchHighlight=a.window.createTextEditorDecorationType({backgroundColor:t,color:e.searchHighlightTextColor,overviewRulerColor:new a.ThemeColor("editorOverviewRuler.findMatchForeground"),after:{color:"transparent",backgroundColor:t},border:"1px solid",borderColor:new a.ThemeColor("editor.findMatchHighlightBorder")});const r=e.searchMatchColor?e.searchMatchColor:new a.ThemeColor("editor.findMatchBackground");this.searchMatch=a.window.createTextEditorDecorationType({backgroundColor:r,color:e.searchMatchTextColor,overviewRulerColor:new a.ThemeColor("editorOverviewRuler.findMatchForeground"),after:{color:"transparent",backgroundColor:r},border:"2px solid",borderColor:new a.ThemeColor("editor.findMatchBorder")});const n=e.substitutionColor?e.substitutionColor:new a.ThemeColor("editor.findMatchBackground");this.substitutionAppend=a.window.createTextEditorDecorationType({backgroundColor:t,color:e.searchHighlightTextColor,overviewRulerColor:new a.ThemeColor("editorOverviewRuler.findMatchForeground"),after:{color:e.substitutionTextColor,backgroundColor:n,border:"1px solid",borderColor:new a.ThemeColor("editor.findMatchBorder")},border:"1px dashed",borderColor:new a.ThemeColor("editor.findMatchBorder")}),this.substitutionReplace=a.window.createTextEditorDecorationType({letterSpacing:"-9999999px",opacity:"0",overviewRulerColor:new a.ThemeColor("editorOverviewRuler.findMatchForeground"),before:{color:e.substitutionTextColor,backgroundColor:n,border:"1px solid",borderColor:new a.ThemeColor("editor.findMatchBorder")}}),this.easyMotionIncSearch=a.window.createTextEditorDecorationType({color:e.easymotionIncSearchForegroundColor,fontWeight:e.easymotionMarkerFontWeight}),this.easyMotionDimIncSearch=a.window.createTextEditorDecorationType({color:e.easymotionDimColor}),this.insertModeVirtualCharacter=a.window.createTextEditorDecorationType({color:"transparent",before:{color:"currentColor",backgroundColor:new a.ThemeColor("editor.background"),borderColor:new a.ThemeColor("editor.background"),margin:"0 -1ch 0 0",height:"100%"}}),this.operatorPendingModeCursor=a.window.createTextEditorDecorationType({before:{color:"transparent",margin:"0 -1ch 0 0;\n        position: absolute;\n        bottom: 0;\n        line-height: 0;",height:"50%",backgroundColor:new a.ThemeColor("editorCursor.foreground")}}),this.operatorPendingModeCursorChar=a.window.createTextEditorDecorationType({color:"black",before:{color:"currentcolor",margin:"0 -1ch 0 0;\n        position: absolute;\n        mix-blend-mode: exclusion;",height:"100%"}})}}},6618:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorResults=void 0,t.ValidatorResults=class{constructor(){this.errors=new Array}append(e){this.errors.push(e)}concat(e){this.errors=this.errors.concat(e.get())}get(){return this.errors}get numErrors(){return this.errors.filter((e=>"error"===e.level)).length}get hasError(){return this.numErrors>0}get numWarnings(){return this.errors.filter((e=>"warning"===e.level)).length}get hasWarning(){return this.numWarnings>0}}},4527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateLangmap=l,t.isLiteralMode=function(e){return c.includes(e)},t.remapKey=function(e){return d(o.configuration.langmapBindingsMap,e)},t.unmapLiteral=function e(t,r){if(0===t.length||0===r.length)return[];if(Array.isArray(t[0]))for(const n of t){if(n.length!==r.length)continue;let t=!0;for(let e=0;e<n.length;++e)if(!s.test(n[e])&&n[e]!==r[e]){t=!1;break}if(t)return e(n,r)}const n=[...r];for(let e=0;e<r.length;++e)a.test(t[e])&&(n[e]=(i=r[e],d(o.configuration.langmapReverseBindingsMap,i)));var i;return n};const n=r(3349),i=r(9359),o=r(7183),s=/<(any|leader|number|alpha|character|register|macro)>/,a=/<(any|number|alpha|character)>/,c=[i.Mode.Insert,i.Mode.Replace,i.Mode.CommandlineInProgress,i.Mode.SearchInProgressMode];let u="";function l(e){if(u===e)return;const{bindings:t,reverseBindings:r}=function(e){if(!e)return{bindings:new Map,reverseBindings:new Map};const t=new Map,r=new Map,n=e=>e.split(/\\?(.)/).filter(Boolean);return e.split(/((?:[^\\,]|\\.)+),/).map((e=>{if(!e)return;const i=e.split(/((?:[^\\;]|\\.)+);/);if(3===i.length){const e=n(i[1]),o=n(i[2]);if(e.length!==o.length)return;for(let n=0;n<e.length;++n)t.set(e[n],o[n]),r.set(o[n],e[n])}else if(1===i.length){const i=n(e);if(i.length%2!=0)return;for(let e=0;e<i.length;e+=2)t.set(i[e],i[e+1]),r.set(i[e+1],i[e])}})),{bindings:t,reverseBindings:r}}(e);u=e,o.configuration.langmap=e,o.configuration.langmapBindingsMap=t,o.configuration.langmapReverseBindingsMap=r}function d(e,t){return 1!==t.length?t:e.get(t)||t}n.SetCommand.addListener("langmap",(()=>{l(o.configuration.langmap)})),o.configuration.addLoadListener((()=>{l(o.configuration.langmap)})),l(o.configuration.langmap)},1647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notation=void 0;class r{static ToControlCharacter(e){return"<tab>"===e?"\t":e}static IsControlKey(e){return e=e.toLocaleUpperCase(),this.isSurroundedByAngleBrackets(e)&&"<BS>"!==e&&"<S-BS>"!==e&&"<TAB>"!==e}static NormalizeKey(e,t){if("string"!=typeof e)return e;if(1===e.length)return e;if(e=e.toLocaleLowerCase(),this.isSurroundedByAngleBrackets(e)||(e=`<${e}>`),"<leader>"===e)return t;if(["<up>","<down>","<left>","<right>"].includes(e))return e;for(const[t,r]of this.notationMap)e=e.replace(t,r);return this.shiftedLetterRegex.test(e)&&(e=e[3].toUpperCase()),e}static printableKey(e,t){const r=this.NormalizeKey(e,t);return" "===r?"<space>":"\n"===r?"<enter>":r}static isSurroundedByAngleBrackets(e){return e.startsWith("<")&&e.endsWith(">")}}t.Notation=r,r.notationMap=[[/ctrl\+|c\-/gi,"C-"],[/cmd\+|d\-/gi,"D-"],[/shift\+|s\-/gi,"S-"],[/escape|esc/gi,"Esc"],[/backspace|bs/gi,"BS"],[/delete|del/gi,"Del"],[/home/gi,"Home"],[/end/gi,"End"],[/insert/gi,"Insert"],[/<space>/gi," "],[/<cr>|<enter>|<return>/gi,"\n"]],r.shiftedLetterRegex=/<S-[a-zA-Z]>/},377:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Remapper=t.Remappers=void 0;const a=s(r(1398)),c=r(7183),u=r(4546),l=r(9359),d=r(6275),h=r(3501),f=r(9586),p=r(2821);t.Remappers=class{constructor(){this.remappers=[new v,new y,new w,new x,new b]}get isPotentialRemap(){return this.remappers.some((e=>e.isPotentialRemap))}async sendKey(e,t){for(const r of this.remappers)if(await r.sendKey(e,t))return!0;return!1}};class m{get isPotentialRemap(){return this._isPotentialRemap}constructor(e,t){this._isPotentialRemap=!1,this.hasPotentialRemap=!1,this.configKey=e,this.remappedModes=t}async sendKey(e,t){const{vimState:r,remapState:n}=t;this._isPotentialRemap=!1;const i=r.recordedState.allowPotentialRemapOnFirstKey;let o=[],s=!0;if(!this.remappedModes.includes(r.currentModeIncludingPseudoModes))return!1;const a=c.configuration[this.configKey];if(e[e.length-1]===f.SpecialKeys.TimeoutFinished&&(e=e.slice(0,e.length-1),s=!1),0===e.length)return!0;h.Logger.trace(`trying to find matching remap. keys=${e}. mode=${l.Mode[r.currentMode]}. keybindings=${this.configKey}.`);let p=this.findMatchingRemap(a,e),g=m.hasPotentialRemap(e,a);if(this._isPotentialRemap=g&&s&&i,!p&&(this.hasAmbiguousRemap||this.hasPotentialRemap)&&(!g||!s)&&e.length>1&&(this.hasAmbiguousRemap&&(p=this.hasAmbiguousRemap,g=!1,this._isPotentialRemap=!1,o=r.recordedState.commandList.slice(p.before.length),this.hasAmbiguousRemap=void 0),!p)){if(s||(e.push(f.SpecialKeys.TimeoutFinished),h.Logger.trace(`${this.configKey}. timeout finished, handling timed out buffer keys without allowing a new timeout.`)),h.Logger.trace(`${this.configKey}. potential remap broken. resending keys without allowing a potential remap on first key. keys=${e}`),this.hasPotentialRemap=!1,r.recordedState.allowPotentialRemapOnFirstKey=!1,r.recordedState.resetCommandList(),n.wasPerformingRemapThatFinishedWaitingForTimeout){const r=n.wasPerformingRemapThatFinishedWaitingForTimeout.after.length,i=e.slice(r);e=e.slice(0,r);try{n.isCurrentlyPerformingRecursiveRemapping=!0,await t.handleMultipleKeyEvents(e)}catch(e){e instanceof u.ForceStopRemappingError&&h.Logger.trace(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{n.isCurrentlyPerformingRecursiveRemapping=!1,n.wasPerformingRemapThatFinishedWaitingForTimeout=!1,await t.handleMultipleKeyEvents(i)}}else h.Logger.debug(`Remapping to ${e}`),await t.handleMultipleKeyEvents(e);return!0}if(g&&s&&i)return p?(this.hasAmbiguousRemap=p,h.Logger.trace(`${this.configKey}. ambiguous match found. before=${p.before}. after=${p.after}. command=${p.commands}. waiting for other key or timeout to finish.`)):(this.hasPotentialRemap=!0,h.Logger.trace(`${this.configKey}. potential remap found. waiting for other key or timeout to finish.`)),r.recordedState.bufferedKeys=[...e],r.recordedState.bufferedKeysTimeoutObj=setTimeout((()=>{t.handleKeyEvent(f.SpecialKeys.TimeoutFinished)}),c.configuration.timeout),!0;if(p){if(!s){const e={...p};e.after=p.after?.slice(0),e.after?.push(f.SpecialKeys.TimeoutFinished),p=e}this.hasAmbiguousRemap=void 0,this.hasPotentialRemap=!1;let e=!1;const i=n.isCurrentlyPerformingRemapping;i||(n.mapDepth=0),p.recursive?(n.isCurrentlyPerformingRecursiveRemapping=!0,p.after?.join("").startsWith(p.before.join(""))&&(e=!0)):n.isCurrentlyPerformingNonRecursiveRemapping=!0,n.mapDepth++,h.Logger.trace(`${this.configKey}. match found. before=${p.before}. after=${p.after}. command=${p.commands}. remainingKeys=${o}. mapDepth=${n.mapDepth}.`);let a=!1;try{if(n.mapDepth>=c.configuration.maxmapdepth){const e=u.VimError.fromCode(u.ErrorCode.RecursiveMapping);throw d.StatusBar.displayError(r,e),u.ForceStopRemappingError.fromVimError(e)}if(n.mapDepth%10==0){const e=e=>new Promise((t=>setTimeout(t,e)));await e(0)}n.remapUsedACharacter=!1,await this.handleRemapping(p,t,e)}catch(e){if(!(e instanceof u.ForceStopRemappingError))throw h.Logger.trace(`${this.configKey}. error found in the middle of remapping, ignoring the rest of the remap. error: ${e}`),e;if(a=!0,i)throw e;h.Logger.trace(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{if(!i&&n.isCurrentlyPerformingRecursiveRemapping&&(void 0!==r.recordedState.bufferedKeysTimeoutObj&&(n.wasPerformingRemapThatFinishedWaitingForTimeout={...p}),n.isCurrentlyPerformingRecursiveRemapping=!1,n.forceStopRecursiveRemapping=!1),i||r.historyTracker.finishCurrentStep(),n.isCurrentlyPerformingNonRecursiveRemapping=!1,o.length>0&&(!a||!i))if(n.wasPerformingRemapThatFinishedWaitingForTimeout){let e="";o[o.length-1]===f.SpecialKeys.TimeoutFinished&&(e=o.pop());const r=n.wasPerformingRemapThatFinishedWaitingForTimeout.after.slice(p.before.length),i=o.slice(r.length);o=o.slice(0,o.length-i.length),e&&(o.push(e),0!==i.length&&i.push(e));try{n.isCurrentlyPerformingRecursiveRemapping=!0,await t.handleMultipleKeyEvents(o)}catch(e){h.Logger.trace(`${this.configKey}. Stopped the remapping in the middle, ignoring the rest. Reason: ${e.message}`)}finally{n.isCurrentlyPerformingRecursiveRemapping=!1,n.wasPerformingRemapThatFinishedWaitingForTimeout=!1,i.length>0&&await t.handleMultipleKeyEvents(i)}}else await t.handleMultipleKeyEvents(o)}return!0}return this.hasPotentialRemap=!1,this.hasAmbiguousRemap=void 0,!1}async handleRemapping(e,t,r){const{vimState:n,remapState:i}=t;if(n.recordedState.resetCommandList(),e.after&&(h.Logger.debug(`Remapping ${e.before} to ${e.after}`),r?(i.isCurrentlyPerformingNonRecursiveRemapping=!0,await t.handleKeyEvent(e.after[0]),i.isCurrentlyPerformingNonRecursiveRemapping=!1,await t.handleMultipleKeyEvents(e.after.slice(1))):await t.handleMultipleKeyEvents(e.after)),e.commands){const r=n.recordedState.count||1;n.recordedState.count=0;for(let i=0;i<r;i++)for(const r of e.commands){let i,o;if("string"==typeof r?(i=r,o=[]):(i=r.command,o=Array.isArray(r.args)?r.args:r.args?[r.args]:[]),":"===i.slice(0,1)){const e=p.exCommandParser.parse(i);if(!e.status)throw u.VimError.fromCode(u.ErrorCode.NotAnEditorCommand,i);e.value.lineRange?await e.value.command.executeWithRange(n,e.value.lineRange):await e.value.command.execute(n),t.updateView()}else await a.commands.executeCommand(i,...o);e.silent||d.StatusBar.setText(n,`${i} ${o.join(" ")}`)}}}findMatchingRemap(e,t){if(0===e.size)return;const r=m.getRemappedKeysLengthRange(e),n=t.length,i=t.join("");for(let o=n;o>=r[0];o--){const r=t.slice(-o).join("");if(h.Logger.trace(`key=${t}. keySlice=${r}.`),e.has(r)){const t=i.slice(0,i.length-r.length);if(t.length>0&&!/^[0-9]+$/.test(t)){h.Logger.trace(`key sequences need to match precisely. precedingKeys=${t}.`);break}return e.get(r)}}}static getRemappedKeysLengthRange(e){if(0===e.size)return[0,0];const t=Array.from(e.values()).map((e=>e.before.length));return[Math.min(...t),Math.max(...t)]}static hasPotentialRemap(e,t,r=!1){const n=e.join(""),i=/^<([^>]+)>/;if(""!==n)for(const e of t.keys())if(e.startsWith(n)&&(e!==n||r)){if(n.startsWith("<")&&!i.test(n)&&i.test(e))continue;return!0}return!1}}function g(e){return`${e}ModeKeyBindingsMap`}t.Remapper=m;class v extends m{constructor(){super(g("insert"),[l.Mode.Insert,l.Mode.Replace])}}class y extends m{constructor(){super(g("normal"),[l.Mode.Normal])}}class b extends m{constructor(){super(g("operatorPending"),[l.Mode.OperatorPendingMode])}}class w extends m{constructor(){super(g("visual"),[l.Mode.Visual,l.Mode.VisualLine,l.Mode.VisualBlock])}}class x extends m{constructor(){super(g("commandLine"),[l.Mode.CommandlineInProgress,l.Mode.SearchInProgressMode])}}},917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputMethodSwitcherConfigurationValidator=void 0;const n=r(6618),i=r(2268),o=r(8424),s=r(13);class a{async validate(e){const t=new n.ValidatorResults,r=e.autoSwitchInputMethod;return!r.enable||o.Globals.isTesting||(r.switchIMCmd.includes("{im}")||t.append({level:"error",message:"vim.autoSwitchInputMethod.switchIMCmd is incorrect, it should contain the placeholder {im}."}),void 0===r.obtainIMCmd||""===r.obtainIMCmd?t.append({level:"error",message:"vim.autoSwitchInputMethod.obtainIMCmd is empty."}):await(0,i.existsAsync)(this.getRawCmd(r.obtainIMCmd))||t.append({level:"error",message:`Unable to find ${r.obtainIMCmd}. Check your 'vim.autoSwitchInputMethod.obtainIMCmd' in VSCode setting.`}),void 0===r.defaultIM||""===r.defaultIM?t.append({level:"error",message:"vim.autoSwitchInputMethod.defaultIM is empty."}):await(0,i.existsAsync)(this.getRawCmd(r.switchIMCmd))||t.append({level:"error",message:`Unable to find ${r.switchIMCmd}. Check your 'vim.autoSwitchInputMethod.switchIMCmd' in VSCode setting.`})),Promise.resolve(t)}disable(e){e.autoSwitchInputMethod.enable=!1}getRawCmd(e){return e.split(" ")[0]}}t.InputMethodSwitcherConfigurationValidator=a,s.configurationValidator.registerValidator(new a)},2189:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimValidator=void 0;const a=r(5317),c=r(9896),u=s(r(6928)),l=s(r(932)),d=r(13),h=r(6618);class f{validate(e){const t=new h.ValidatorResults;if(e.enableNeovim){let r=!1;try{if(""===e.neovimPath){const t=l.env.PATH;t&&t.split(u.delimiter).forEach((t=>{let n="nvim";"win32"===l.platform&&(n+=".exe");const i=u.join(t,n);if((0,c.existsSync)(i))return e.neovimPath=i,void(r=!0)}))}(0,a.execFileSync)(e.neovimPath,["--version"])}catch(n){let i=`Invalid neovimPath. ${n.message}.`;r&&(i+=`Tried to parse PATH ${e.neovimPath}.`),t.append({level:"error",message:i})}if(e.neovimUseConfigFile&&""!==e.neovimConfigPath&&!(0,c.existsSync)(e.neovimConfigPath)){const r="No config file found in neovimConfigPath. Neovim will search its default config path.";e.neovimConfigPath="",t.append({level:"warning",message:r})}}return Promise.resolve(t)}disable(e){e.enableNeovim=!1}}t.NeovimValidator=f,d.configurationValidator.registerValidator(new f)},2240:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.RemappingValidator=void 0;const a=s(r(1398)),c=r(9544),u=r(13),l=r(6618),d=r(1647);class h{async validate(e){const t=new l.ValidatorResults,r=["insertModeKeyBindings","insertModeKeyBindingsNonRecursive","normalModeKeyBindings","normalModeKeyBindingsNonRecursive","operatorPendingModeKeyBindings","operatorPendingModeKeyBindingsNonRecursive","visualModeKeyBindings","visualModeKeyBindingsNonRecursive","commandLineModeKeyBindings","commandLineModeKeyBindingsNonRecursive"];for(const n of r){const r=e[n];for(const t of c.PluginDefaultMappings.getPluginDefaultMappings(n,e))r.push(t);const i=-1===n.indexOf("NonRecursive"),o=n.replace("NonRecursive","");let s=e[o+"Map"];s||(s=new Map);for(let n=r.length-1;n>=0;n--){const o=r[n];o.recursive=i;const a=await this.isRemappingValid(o);if(t.concat(a),a.hasError){r.splice(n,1);continue}o.before&&o.before.forEach(((t,r)=>o.before[r]=d.Notation.NormalizeKey(t,e.leader))),o.after&&o.after.forEach(((t,r)=>o.after[r]=d.Notation.NormalizeKey(t,e.leader)));const c=o.before.join("");s.has(c)?t.append({level:"warning",message:`${o.before}. Duplicate remapped key for ${c}.`}):s.set(c,o)}e[o+"Map"]=s}return t}disable(e){}async isRemappingValid(e){const t=new l.ValidatorResults;if(e.after||e.commands||t.append({level:"error",message:`${e.before} missing 'after' key or 'commands'.`}),e.before instanceof Array||t.append({level:"error",message:`Remapping of '${e.before}' should be a string array.`}),void 0===e.recursive&&t.append({level:"error",message:`Remapping of '${e.before}' missing 'recursive' info.`}),!e.after||e.after instanceof Array||t.append({level:"error",message:`Remapping of '${e.after}' should be a string array.`}),e.commands)for(const r of e.commands){let n;"string"==typeof r?n=r:r.command?(n=r.command,await this.isCommandValid(n)||t.append({level:"warning",message:`${n} does not exist.`})):t.append({level:"error",message:`Remapping of '${e.before}' has wrong "commands" structure. Should be 'string[] | { "command": string, "args": any[] }[]'.`})}return t}async isCommandValid(e){return!!e.startsWith(":")||(await this.getCommandMap()).has(e)}async getCommandMap(){return null==this.commandMap&&(this.commandMap=new Map((await a.commands.getCommands(!0)).map((e=>[e,!0])))),this.commandMap}}t.RemappingValidator=h,u.configurationValidator.registerValidator(new h)},2165:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VimrcValidator=void 0;const n=r(6618),i=r(13);class o{async validate(e){return new n.ValidatorResults}disable(e){}}t.VimrcValidator=o,i.configurationValidator.registerValidator(new o)},6398:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.vimrc=t.VimrcImpl=void 0;const a=s(r(2543)),c=s(r(857)),u=s(r(6928)),l=s(r(2268)),d=s(r(1398)),h=r(1398),f=r(3501),p=r(1943);class m{get vimrcPath(){return this._vimrcPath}static buildSource(e){const t=m.SOURCE_REG_REX.exec(e);if(!t||t.length<3)return;t[1];const r=t[2];return m.expandHome(r)}static async loadConfig(e,t){try{const r=await d.commands.getCommands(),n=(await l.readFileAsync(t,"utf8")).split(/\r?\n/);for(const t of n){if(t.trimStart().startsWith('"'))continue;const n=this.buildSource(t);if(n){if(!await l.existsAsync(n)){f.Logger.warn(`Unable to find "${n}" file for configuration.`);continue}f.Logger.debug(`Loading "${n}" file for configuration.`),await m.loadConfig(e,n);continue}const i=await p.vimrcKeyRemappingBuilder.build(t,r);if(i){m.addRemapToConfig(e,i);continue}const o=await p.vimrcKeyRemappingBuilder.buildUnmapping(t);if(o){m.removeRemapFromConfig(e,o);continue}const s=await p.vimrcKeyRemappingBuilder.buildClearMapping(t);s&&m.clearRemapsFromConfig(e,s)}}catch(e){h.window.showWarningMessage(`vimrc file "${t}" is broken, err=${e}`)}}async load(e){const t=e.vimrc.path?m.expandHome(e.vimrc.path):await m.findDefaultVimrc();t?await l.existsAsync(t)?(this._vimrcPath=t,m.removeAllRemapsFromConfig(e),await m.loadConfig(e,this._vimrcPath)):h.window.showWarningMessage(`No .vimrc found at ${t}.`,"Create it").then((async e=>{if("Create it"===e){const e=await d.window.showSaveDialog({defaultUri:d.Uri.file(t)});if(e){await l.writeFileAsync(e.fsPath,"","utf-8");const t=d.window.activeTextEditor?.document,r=t?{uri:t.uri,languageId:t.languageId}:void 0;d.workspace.getConfiguration("vim",r).update("vimrc.path",e.fsPath,!0),await d.workspace.openTextDocument(e),await d.window.showTextDocument(e)}}})):await h.window.showWarningMessage("No .vimrc found. Please set `vim.vimrc.path`.")}static addRemapToConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"map":return[e.normalModeKeyBindings,e.visualModeKeyBindings,e.operatorPendingModeKeyBindings];case"nmap":case"nma":case"nm":return[e.normalModeKeyBindings];case"vmap":case"vma":case"vm":case"xmap":case"xma":case"xm":return[e.visualModeKeyBindings];case"imap":case"ima":case"im":return[e.insertModeKeyBindings];case"cmap":case"cma":case"cm":return[e.commandLineModeKeyBindings];case"omap":case"oma":case"om":return[e.operatorPendingModeKeyBindings];case"lmap":case"lma":case"lm":case"map!":return[e.insertModeKeyBindings,e.commandLineModeKeyBindings];case"noremap":case"norema":case"norem":case"nore":case"nor":case"no":return[e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindingsNonRecursive];case"nnoremap":case"nnorema":case"nnorem":case"nnore":case"nnor":case"nno":case"nn":return[e.normalModeKeyBindingsNonRecursive];case"vnoremap":case"vnorema":case"vnorem":case"vnore":case"vnor":case"vno":case"vn":case"xnoremap":case"xnorema":case"xnorem":case"xnore":case"xnor":case"xno":case"xn":return[e.visualModeKeyBindingsNonRecursive];case"inoremap":case"inorema":case"inorem":case"inore":case"inor":case"ino":return[e.insertModeKeyBindingsNonRecursive];case"cnoremap":case"cnorema":case"cnorem":case"cnore":case"cnor":case"cno":return[e.commandLineModeKeyBindingsNonRecursive];case"onoremap":case"onorema":case"onorem":case"onore":case"onor":case"ono":return[e.operatorPendingModeKeyBindingsNonRecursive];case"lnoremap":case"lnorema":case"lnorem":case"lnore":case"lnor":case"lno":case"ln":case"noremap!":case"norema!":case"norem!":case"nore!":case"nor!":case"no!":return[e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindingsNonRecursive];default:return void f.Logger.warn(`Encountered an unrecognized mapping type: '${t.keyRemappingType}'`)}})();r?.forEach((e=>{e.some((e=>a.isEqual(e.before,t.keyRemapping.before)))||e.push(t.keyRemapping)}))}static removeRemapFromConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"unmap":case"unma":case"unm":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"nunmap":case"nunma":case"nunm":case"nun":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive];case"vunmap":case"vunma":case"vunm":case"vun":case"vu":case"xunmap":case"xunma":case"xunm":case"xun":case"xu":return[e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive];case"iunmap":case"iunma":case"iunm":case"iun":case"iu":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive];case"cunmap":case"cunma":case"cunm":case"cun":case"cu":return[e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];case"ounmap":case"ounma":case"ounm":case"oun":case"ou":return[e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"lunmap":case"lunma":case"lunm":case"lun":case"lu":case"unmap!":case"unma!":case"unm!":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];default:return void f.Logger.warn(`Encountered an unrecognized unmapping type: '${t.keyRemappingType}'`)}})();return!!r&&(r.forEach((e=>{a.remove(e,(e=>"vimrc"===e.source&&a.isEqual(e.before,t.keyRemapping.before)))})),!0)}static clearRemapsFromConfig(e,t){const r=(()=>{switch(t.keyRemappingType){case"mapclear":case"mapclea":case"mapcle":case"mapcl":case"mapc":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"nmapclear":case"nmapclea":case"nmapcle":case"nmapcl":case"nmapc":return[e.normalModeKeyBindings,e.normalModeKeyBindingsNonRecursive];case"vmapclear":case"vmapclea":case"vmapcle":case"vmapcl":case"vmapc":case"xmapclear":case"xmapclea":case"xmapcle":case"xmapcl":case"xmapc":return[e.visualModeKeyBindings,e.visualModeKeyBindingsNonRecursive];case"imapclear":case"imapclea":case"imapcle":case"imapcl":case"imapc":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive];case"cmapclear":case"cmapclea":case"cmapcle":case"cmapcl":case"cmapc":return[e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];case"omapclear":case"omapclea":case"omapcle":case"omapcl":case"omapc":return[e.operatorPendingModeKeyBindings,e.operatorPendingModeKeyBindingsNonRecursive];case"lmapclear":case"lmapclea":case"lmapcle":case"lmapcl":case"lmapc":case"mapclear!":case"mapclea!":case"mapcle!":case"mapcl!":case"mapc!":return[e.insertModeKeyBindings,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindings,e.commandLineModeKeyBindingsNonRecursive];default:return void f.Logger.warn(`Encountered an unrecognized clearMapping type: '${t.keyRemappingType}'`)}})();return!!r&&(r.forEach((e=>{a.remove(e,(e=>"vimrc"===e.source))})),!0)}static removeAllRemapsFromConfig(e){const t=[e.normalModeKeyBindings,e.operatorPendingModeKeyBindings,e.visualModeKeyBindings,e.insertModeKeyBindings,e.commandLineModeKeyBindings,e.normalModeKeyBindingsNonRecursive,e.operatorPendingModeKeyBindingsNonRecursive,e.visualModeKeyBindingsNonRecursive,e.insertModeKeyBindingsNonRecursive,e.commandLineModeKeyBindingsNonRecursive];for(const e of t)a.remove(e,(e=>"vimrc"===e.source))}static async findDefaultVimrc(){const e=u.join(c.homedir(),".vscodevimrc");if(await l.existsAsync(e))return e;let t=u.join(c.homedir(),".vimrc");return await l.existsAsync(t)?t:(t=u.join(c.homedir(),"_vimrc"),await l.existsAsync(t)?t:(t=u.join(c.homedir(),".config/","nvim/","init.vim"),await l.existsAsync(t)?t:void 0))}static expandHome(e){const t=e.match(/(?<=^(?:~|\$HOME)).*/);return!t||t.length>1?e:u.join(c.homedir(),t[0])}}t.VimrcImpl=m,m.SOURCE_REG_REX=/^(source)\s+(.+)/i,t.vimrc=new m},1943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.vimrcKeyRemappingBuilder=void 0;class r{async build(e,t){const n=r.KEY_REMAPPING_REG_EX.exec(e);if(!n||n.length<4)return;const i=n[1],o=n[2],s=n[3],a=s.match(r.VIM_COMMAND_REG_EX);let c;return c=t.includes(s)?{commands:[s]}:a?{commands:[a[1]]}:{after:r.buildKeyList(s)},{keyRemapping:{before:r.buildKeyList(o),source:"vimrc",...c},keyRemappingType:i}}async buildUnmapping(e){const t=r.KEY_UNREMAPPING_REG_EX.exec(e);if(!t||t.length<3)return;const n=t[1],i=t[2];return{keyRemapping:{before:r.buildKeyList(i),source:"vimrc"},keyRemappingType:n}}async buildClearMapping(e){const t=r.KEY_CLEAR_REMAPPING_REG_EX.exec(e);if(t&&!(t.length<2))return{keyRemapping:{before:["<Nop>"],source:"vimrc"},keyRemappingType:t[1]}}static buildKeyList(e){const t=[];let n=null;do{n=r.KEY_LIST_REG_EX.exec(e),n&&t.push(n[0])}while(n);return t}}r.KEY_REMAPPING_REG_EX=/^(map!?|smap|[nvxoilc]m(?:a(?:p)?)?|(?:[nvxl]no?r?|[oic]nor?|snor)(?:e(?:m(?:a(?:p)?)?)?)?|no(?:r(?:e(?:m(?:a(?:p)?)?)?)?)?!?)\s+(?!.*(?:<expr>|<script>))(?:(?:<buffer>|<silent>|<nowait>|<special>)\s?)*([\S]+)\s+(?!.*<Plug>|.*<SID>)([\S ]+)$/i,r.KEY_UNREMAPPING_REG_EX=/^(unm(?:a(?:p)?)?!?|[nvxoilc]u(?:n(?:m(?:a(?:p)?)?)?)?|sunm(?:a(?:p)?)?)\s+(?:(?:<buffer>|<silent>|<nowait>|<special>)\s?)*([\S]+)$/i,r.KEY_CLEAR_REMAPPING_REG_EX=/^(mapc(?:l(?:e(?:a(?:r)?)?)?)?!?|[nvxsoilc]mapc(?:l(?:e(?:a(?:r)?)?)?)?)$/i,r.KEY_LIST_REG_EX=/(<[^<>]+>|.)/g,r.VIM_COMMAND_REG_EX=/^(:.+)<[Cc][Rr]>$/,t.vimrcKeyRemappingBuilder=new r},4546:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ForceStopRemappingError=t.VimError=t.ErrorMessage=t.ErrorCode=void 0,function(e){e[e.InvalidAddress=14]="InvalidAddress",e[e.InvalidExpression=15]="InvalidExpression",e[e.InvalidRange=16]="InvalidRange",e[e.MarkNotSet=20]="MarkNotSet",e[e.NoAlternateFile=23]="NoAlternateFile",e[e.NoInsertedTextYet=29]="NoInsertedTextYet",e[e.NoFileName=32]="NoFileName",e[e.NoPreviousSubstituteRegularExpression=33]="NoPreviousSubstituteRegularExpression",e[e.NoPreviousCommand=34]="NoPreviousCommand",e[e.NoPreviousRegularExpression=35]="NoPreviousRegularExpression",e[e.NoWriteSinceLastChange=37]="NoWriteSinceLastChange",e[e.MultipleMatches=93]="MultipleMatches",e[e.NoMatchingBuffer=94]="NoMatchingBuffer",e[e.MissingQuote=114]="MissingQuote",e[e.UnknownFunction_call=117]="UnknownFunction_call",e[e.TooManyArgs=118]="TooManyArgs",e[e.NotEnoughArgs=119]="NotEnoughArgs",e[e.UndefinedVariable=121]="UndefinedVariable",e[e.ErrorWritingToFile=208]="ErrorWritingToFile",e[e.FileNoLongerAvailable=211]="FileNoLongerAvailable",e[e.RecursiveMapping=223]="RecursiveMapping",e[e.NoStringUnderCursor=348]="NoStringUnderCursor",e[e.NothingInRegister=353]="NothingInRegister",e[e.InvalidRegisterName=354]="InvalidRegisterName",e[e.SearchHitTop=384]="SearchHitTop",e[e.SearchHitBottom=385]="SearchHitBottom",e[e.CannotCloseLastWindow=444]="CannotCloseLastWindow",e[e.ArgumentRequired=471]="ArgumentRequired",e[e.InvalidArgument474=474]="InvalidArgument474",e[e.InvalidArgument475=475]="InvalidArgument475",e[e.NoRangeAllowed=481]="NoRangeAllowed",e[e.PatternNotFound=486]="PatternNotFound",e[e.TrailingCharacters=488]="TrailingCharacters",e[e.NotAnEditorCommand=492]="NotAnEditorCommand",e[e.NoBuffersDeleted=516]="NoBuffersDeleted",e[e.UnknownOption=518]="UnknownOption",e[e.NumberRequiredAfterEqual=521]="NumberRequiredAfterEqual",e[e.AtStartOfChangeList=662]="AtStartOfChangeList",e[e.AtEndOfChangeList=663]="AtEndOfChangeList",e[e.ChangeListIsEmpty=664]="ChangeListIsEmpty",e[e.ListIndexOutOfRange=684]="ListIndexOutOfRange",e[e.ArgumentOfSortMustBeAList=686]="ArgumentOfSortMustBeAList",e[e.CanOnlyCompareListWithList=691]="CanOnlyCompareListWithList",e[e.InvalidOperationForList=692]="InvalidOperationForList",e[e.CannotIndexAFuncref=695]="CannotIndexAFuncref",e[e.UnknownFunction_funcref=700]="UnknownFunction_funcref",e[e.InvalidTypeForLen=701]="InvalidTypeForLen",e[e.UsingAFuncrefAsANumber=703]="UsingAFuncrefAsANumber",e[e.FuncrefVariableNameMustStartWithACapital=704]="FuncrefVariableNameMustStartWithACapital",e[e.ArgumentOfMaxMustBeAListOrDictionary=712]="ArgumentOfMaxMustBeAListOrDictionary",e[e.ListRequired=714]="ListRequired",e[e.DictionaryRequired=715]="DictionaryRequired",e[e.KeyNotPresentInDictionary=716]="KeyNotPresentInDictionary",e[e.CannotUseSliceWithADictionary=719]="CannotUseSliceWithADictionary",e[e.DuplicateKeyInDictionary=721]="DuplicateKeyInDictionary",e[e.StrideIsZero=726]="StrideIsZero",e[e.StartPastEnd=727]="StartPastEnd",e[e.UsingADictionaryAsANumber=728]="UsingADictionaryAsANumber",e[e.UsingListAsAString=730]="UsingListAsAString",e[e.UsingFuncrefAsAString=729]="UsingFuncrefAsAString",e[e.UsingDictionaryAsAString=731]="UsingDictionaryAsAString",e[e.CanOnlyCompareDictionaryWithDictionary=735]="CanOnlyCompareDictionaryWithDictionary",e[e.InvalidOperationForDictionary=736]="InvalidOperationForDictionary",e[e.ValueIsLocked=741]="ValueIsLocked",e[e.UsingAListAsANumber=745]="UsingAListAsANumber",e[e.NoPreviouslyUsedRegister=748]="NoPreviouslyUsedRegister",e[e.CannotUseModuloWithFloat=804]="CannotUseModuloWithFloat",e[e.UsingAFloatAsANumber=805]="UsingAFloatAsANumber",e[e.UsingFloatAsAString=806]="UsingFloatAsAString",e[e.NumberOrFloatRequired=808]="NumberOrFloatRequired",e[e.ArgumentOfMapMustBeAListDictionaryOrBlob=896]="ArgumentOfMapMustBeAListDictionaryOrBlob",e[e.ListOrBlobRequired=897]="ListOrBlobRequired",e[e.ExpectedADict=922]="ExpectedADict",e[e.SecondArgumentOfFunction=923]="SecondArgumentOfFunction",e[e.BlobLiteralShouldHaveAnEvenNumberOfHexCharacters=973]="BlobLiteralShouldHaveAnEvenNumberOfHexCharacters",e[e.UsingABlobAsANumber=974]="UsingABlobAsANumber",e[e.CannotModifyExistingVariable=995]="CannotModifyExistingVariable",e[e.CannotLockARegister=996]="CannotLockARegister"}(r||(t.ErrorCode=r={})),t.ErrorMessage={14:"Invalid address",15:"Invalid expression",16:"Invalid range",20:"Mark not set",23:"No alternate file",29:"No inserted text yet",32:"No file name",33:"No previous substitute regular expression",34:"No previous command",35:"No previous regular expression",37:"No write since last change (add ! to override)",93:"More than one match",94:"No matching buffer",114:"Missing quote",117:"Unknown function",118:"Too many arguments for function",119:"Not enough arguments for function",121:"Undefined variable",208:"Error writing to file",211:"File no longer available",223:"Recursive mapping",348:"No string under cursor",353:"Nothing in register",354:"Invalid register name",384:"Search hit TOP without match for",385:"Search hit BOTTOM without match for",444:"Cannot close last window",471:"Argument required",474:"Invalid argument",475:"Invalid argument",481:"No range allowed",486:"Pattern not found",488:"Trailing characters",492:"Not an editor command",516:"No buffers were deleted",518:"Unknown option",521:"Number required after =",662:"At start of changelist",663:"At end of changelist",664:"changelist is empty",684:"list index out of range",686:"Argument of sort() must be a List",691:"Can only compare List with List",692:"Invalid operation for List",695:"Cannot index a Funcref",700:"Unknown function",701:"Invalid type for len()",703:"Using a Funcref as a Number",704:"Funcref variable name must start with a capital",712:"Argument of max() must be a List or Dictionary",714:"List required",715:"Dictionary required",716:"Key not present in Dictionary",719:"Cannot use [:] with a Dictionary",721:"Duplicate key in Dictionary",726:"Stride is zero",727:"Start past end",728:"Using a Dictionary as a Number",729:"using Funcref as a String",730:"Using List as a String",731:"Using Dictionary as a String",735:"Can only compare Dictionary with Dictionary",736:"Invalid operation for Dictionary",741:"Value is locked",745:"Using a List as a Number",748:"No previously used register",804:"Cannot use '%' with Float",805:"Using a Float as a Number",806:"Using Float as a String",808:"Number or Float required",896:"Argument of map() must be a List, Dictionary or Blob",897:"List or Blob required",922:"expected a dict",923:"Second argument of function() must be a list or a dict",973:"Blob literal should have an even number of hex characters",974:"Using a Blob as a Number",995:"Cannot modify existing variable",996:"Cannot lock a register"};class n extends Error{constructor(e,t){super(),this.code=e,this.message=t}static fromCode(e,i){if(t.ErrorMessage[e])return i&&(i=e===r.NothingInRegister?` ${i}`:e===r.NoMatchingBuffer||e===r.MultipleMatches?` for ${i}`:`: ${i}`),new n(e,t.ErrorMessage[e]+(i??""));throw new Error("unknown error code: "+e)}toString(){return`E${this.code}: ${this.message}`}}t.VimError=n;class i extends Error{constructor(e="StopRemapping"){super(e)}static fromVimError(e){return new i(e.toString())}}t.ForceStopRemappingError=i},8424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Globals=void 0;class r{}t.Globals=r,r.isTesting=!1},5625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandLineHistory=t.SearchHistory=t.HistoryFile=void 0;const n=r(7183),i=r(8424),o=r(7763);class s{get historyFilePath(){return this.base.historyKey}constructor(e,t){this.base=new o.HistoryBase(e,t,i.Globals.extensionStoragePath)}async add(e){return this.base.add(e,n.configuration.history)}get(){return this.base.get(n.configuration.history)}clear(){this.base.clear()}async load(){await this.base.load()}}t.HistoryFile=s,t.SearchHistory=class extends s{constructor(e){super(e,".search_history")}},t.CommandLineHistory=class extends s{constructor(e){super(e,".cmdline_history")}}},1655:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryTracker=void 0;const a=s(r(4570)),c=s(r(1398)),u=r(7892),l=r(6275),d=r(1398),h=r(4224),f=r(5414),p=r(9359),m=r(4546),g=r(3501),v=r(8104),y=new a.diff_match_patch;y.Diff_Timeout=1;class b{static insert(e,t){return new b(e,"",t)}static delete(e,t){return new b(e,t,"")}static replace(e,t,r){return new b(e,t,r)}reversed(){return b.replace(this.start,this.after,this.before)}constructor(e,t,r){this.start=e,this.before=t,this.after=r}async do(e){await u.TextEditor.replace(e,this.beforeRange,this.after)}async undo(e){await u.TextEditor.replace(e,this.afterRange,this.before)}get beforeRange(){return new c.Range(this.start,this.start.advancePositionByText(this.before))}get afterRange(){return new c.Range(this.start,this.start.advancePositionByText(this.after))}}class w{constructor(e){this.isFinished=!1,this.marks=[],this.changes=e.changes??[],this.marks=e.marks??[],this.cameFromU=e.cameFromU??!1,this.timestamp=new Date}merge(e){if(this.changes.length<2)return;const t=[];let r=this.changes[0];for(const n of this.changes.slice(1)){if(r.before.length+r.after.length===0){if(!(t.length>0)){r=n;continue}r=t.pop()}const i=r.afterRange.intersection(n.beforeRange);if(i){const[t,o]=r.start.isBeforeOrEqual(n.start)?[r,n]:[n,r],s=e.offsetAt(i.end)-e.offsetAt(i.start);r=b.replace(t.start,t.before+o.before.slice(s),t.after.slice(0,t.after.length-s)+o.after)}else t.push(r),r=n}t.push(r),this.changes=t}howLongAgo(){const e=(new Date).getTime()-this.timestamp.getTime(),t=Math.floor(e/1e3);return 1===t?"1 second ago":t>=100?`${this.timestamp.getHours()}:${this.timestamp.getMinutes().toString().padStart(2,"0")}:${this.timestamp.getSeconds().toString().padStart(2,"0")}`:`${t} seconds ago`}}w.globalMarks=[];class x{constructor(){this.historySteps=[],this.currentStepIndex=-1,this.initialMarks=[]}getHistoryStepAtIndex(e){return this.historySteps[e]}getCurrentHistoryStepIndex(){return this.currentStepIndex}getStackDepth(){return this.historySteps.length}getCurrentHistoryStep(){if(-1!==this.currentStepIndex)return this.historySteps[this.currentStepIndex]}stepForward(){if(this.currentStepIndex!==this.historySteps.length-1)return this.currentStepIndex++,this.getCurrentHistoryStep()}stepBackward(){const e=this.getCurrentHistoryStep();return e&&this.currentStepIndex--,e}pushChange(e){let t=this.getCurrentHistoryStep();(void 0===t||t.isFinished)&&(this.currentStepIndex++,this.historySteps.splice(this.currentStepIndex),t=new w({marks:t?.marks??this.initialMarks}),this.historySteps.push(t)),t.changes.push(e)}pushHistoryStep(e){this.currentStepIndex++,this.historySteps.splice(this.currentStepIndex+1),this.historySteps.push(e)}getCurrentMarkList(){const e=this.getCurrentHistoryStep();return e?.marks??this.initialMarks}removeMarks(e){const t=this.getCurrentHistoryStep();void 0===e?t?t.marks=[]:this.initialMarks=[]:t?t.marks=t.marks.filter((t=>!e.includes(t.name))):this.initialMarks=this.initialMarks.filter((t=>!e.includes(t.name)))}}class S{constructor(){this.changeLocations=[]}addChangePosition(e){this.changeLocations.length>0&&this.changeLocations[this.changeLocations.length-1].line===e.line?this.changeLocations[this.changeLocations.length-1]=e:this.changeLocations.push(e),this.index=void 0}nextChangePosition(){return void 0===this.index?0===this.changeLocations.length?m.VimError.fromCode(m.ErrorCode.ChangeListIsEmpty):(this.index=this.changeLocations.length-1,this.changeLocations[this.index]):this.index<this.changeLocations.length-1?(this.index++,this.changeLocations[this.index]):m.VimError.fromCode(m.ErrorCode.AtEndOfChangeList)}prevChangePosition(){return void 0===this.index?0===this.changeLocations.length?m.VimError.fromCode(m.ErrorCode.ChangeListIsEmpty):(this.index=this.changeLocations.length-1,this.changeLocations[this.index]):this.index>0?(this.index--,this.changeLocations[this.index]):m.VimError.fromCode(m.ErrorCode.AtStartOfChangeList)}}t.HistoryTracker=class{constructor(e){this.vimState=e,this.undoStack=new x,this.changeList=new S,this.previousDocumentState={text:this.getDocumentText(),versionNumber:this.getDocumentVersion()},this.currentContentChanges=[]}getDocumentText(){return this.vimState.editor?.document.getText()??""}getDocumentVersion(){return this.vimState.editor?.document.version??-1}updateAndReturnMarks(e){const t=this.getAllMarksInDocument(e),r=[];for(const e of t)r.push({...e});for(const e of this.undoStack.getCurrentHistoryStep()?.changes??[])for(const t of r){let r=e.start;for(const n of e.before.replace(/\r/g,""))r.isBefore(t.position)&&("\n"===n?t.position=new d.Position(Math.max(t.position.line-1,0),t.position.character):r.line===t.position.line&&(t.position=new d.Position(t.position.line,Math.max(t.position.character-1,0)))),r="\n"===n?new d.Position(Math.max(r.line-1,0),99999):new d.Position(r.line,Math.max(r.character-1,0));r=e.start;for(const n of e.after.replace(/\r/g,""))r.isBeforeOrEqual(t.position)&&("\n"===n?t.position=new d.Position(t.position.line+1,t.position.character):r.line===t.position.line&&(t.position=new d.Position(t.position.line,t.position.character+1))),r="\n"===n?new d.Position(r.line+1,0):new d.Position(r.line,r.character+1)}const n=u.TextEditor.getDocumentEnd(this.vimState.document);for(const e of r)e.position.isAfter(n)&&(e.position=n);return r}getMarkList(e){return e?w.globalMarks:this.undoStack.getCurrentMarkList()}getAllMarksInDocument(e){const t=w.globalMarks.filter((t=>t.document===e));return[...this.getLocalMarks(),...t]}addMark(e,t,r){if("'"===r||"`"===r)f.globalState.jumpTracker.recordJump(h.Jump.fromStateNow(this.vimState));else if("<"===r)this.vimState.lastVisualSelection?this.vimState.lastVisualSelection.start=t:this.vimState.lastVisualSelection={mode:p.Mode.Visual,start:t,end:t},this.vimState.lastVisualSelection.mode===p.Mode.Visual&&this.vimState.lastVisualSelection.end.isBefore(this.vimState.lastVisualSelection.start)&&(this.vimState.lastVisualSelection.end=this.vimState.lastVisualSelection.start);else if(">"===r)this.vimState.lastVisualSelection?this.vimState.lastVisualSelection.end=t.getRight():this.vimState.lastVisualSelection={mode:p.Mode.Visual,start:t.getRight(),end:t.getRight()},this.vimState.lastVisualSelection.mode===p.Mode.Visual&&this.vimState.lastVisualSelection.start.isAfter(this.vimState.lastVisualSelection.end)&&(this.vimState.lastVisualSelection.start=this.vimState.lastVisualSelection.end.getLeft(),this.vimState.lastVisualSelection.end=this.vimState.lastVisualSelection.start);else{const n=r.toUpperCase()===r,i={position:t,name:r,isUppercaseMark:n,document:n?e:void 0};this.putMarkInList(i)}}putMarkInList(e){const t=this.getMarkList(e.isUppercaseMark),r=t.findIndex((t=>t.name===e.name));-1!==r?t[r]=e:t.push(e)}getMark(e){let t;return"<"===e?t=this.vimState.lastVisualSelection?.mode===p.Mode.VisualLine?this.vimState.lastVisualSelection?.start.with({character:0}):this.vimState.lastVisualSelection?.start:">"===e?t=this.vimState.lastVisualSelection?.mode===p.Mode.VisualLine?this.vimState.lastVisualSelection?.end.getLineEnd():this.vimState.lastVisualSelection?.end.getLeft():"["===e?t=this.getLastChangeStartPosition():"]"===e?t=this.getLastChangeEndPosition():"."===e?t=this.getLastHistoryStartPosition():"'"!==e&&"`"!==e||(t=f.globalState.jumpTracker.end?.position),t?{name:e,position:t,isUppercaseMark:!1}:this.getMarkList(e.toUpperCase()===e).find((t=>t.name===e))}removeLocalMarks(){this.undoStack.removeMarks()}removeMarks(e){0!==e.length&&(this.undoStack.removeMarks(e),w.globalMarks=w.globalMarks.filter((t=>""===t.name||!e.includes(t.name))))}getLocalMarks(){return[...this.undoStack.getCurrentMarkList()]}getGlobalMarks(){return[...w.globalMarks]}getMarks(){return[...this.getLocalMarks(),...w.globalMarks]}addChange(e=!1){if(this.getDocumentVersion()===this.previousDocumentState.versionNumber)return;if(void 0===this.nextStepStartPosition){const e=this.vimState.cursorsInitialState[0];this.nextStepStartPosition=(0,v.earlierOf)(e.start,e.stop),g.Logger.debug(`Set nextStepStartPosition to ${this.nextStepStartPosition}`)}if(!e&&(this.vimState.currentMode===p.Mode.Insert||this.vimState.currentMode===p.Mode.Replace))return;const t=this.getDocumentText();if(t===this.previousDocumentState.text)return;const r=y.diff_main(this.previousDocumentState.text,t);y.diff_cleanupEfficiency(r);let n=new d.Position(0,0);for(const e of r){const[t,r]=e,i=t===a.DIFF_INSERT,o=t===a.DIFF_DELETE;(i||o)&&this.undoStack.pushChange(i?b.insert(n,r):b.delete(n,r)),o||(n=n.advancePositionByText(r))}this.previousDocumentState={text:t,versionNumber:this.getDocumentVersion()}}ignoreChange(){this.previousDocumentState={text:this.getDocumentText(),versionNumber:this.getDocumentVersion()}}finishCurrentStep(){const e=this.undoStack.getCurrentHistoryStep();if(e&&!e.isFinished){e.isFinished=!0,e.timestamp=new Date,e.cursorStart??=this.nextStepStartPosition,this.nextStepStartPosition=void 0,e.merge(this.vimState.document),e.marks=this.updateAndReturnMarks(this.vimState.document);const t=e.changes;if(t){const e=t[0].after?t[0].afterRange.end.getLeft():t[0].start;this.changeList.addChangePosition(e)}g.Logger.debug(`Finished history step with ${t.length} change(s)`)}}async goBackHistoryStep(){const e=this.undoStack.stepBackward();if(void 0===e)return;for(const t of e.changes.slice(0).reverse())await t.undo(this.vimState.editor);this.ignoreChange();const t=1===e.changes.length?"1 change":`${e.changes.length} changes`;return l.StatusBar.setText(this.vimState,`${t}; before #${this.undoStack.getCurrentHistoryStepIndex()+1}  ${e.howLongAgo()}`),e.cursorStart}async goForwardHistoryStep(){const e=this.undoStack.stepForward();if(void 0===e)return;for(const t of e.changes)await t.do(this.vimState.editor);this.ignoreChange();const t=1===e.changes.length?"1 change":`${e.changes.length} changes`;return l.StatusBar.setText(this.vimState,`${t}; after #${this.undoStack.getCurrentHistoryStepIndex()}  ${e.howLongAgo()}`),e.cursorStart}async goBackHistoryStepsOnLine(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;let t=!1;const r=[];let n=e.changes[e.changes.length-1];const i=n.afterRange.end.line;for(let e=this.undoStack.getCurrentHistoryStepIndex();e>=0;e--){const o=this.undoStack.getHistoryStepAtIndex(e);for(let e of[...o.changes].reverse()){const o=[...e.after.matchAll(/\n/g)];if(o.length>0&&e.start.line+o.length===i)e=b.insert(new d.Position(e.start.line+1,0),e.after.slice(e.after.lastIndexOf("\n"))),t=!0;else if(o.length>0||e.start.line!==i){t=!0;break}if(r.push(e),n=e,t)break}if(o.cameFromU&&(t=!0),t)break}if(r.length>0){for(const e of r)await e.undo(this.vimState.editor);const e=new w({marks:this.undoStack.getCurrentMarkList(),changes:r.map((e=>e.reversed())).reverse(),cameFromU:!0});this.nextStepStartPosition=n.start,this.undoStack.pushHistoryStep(e),this.finishCurrentStep()}return this.ignoreChange(),n?.start}getLastChangeEndPosition(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;const t=e.changes.length;return 0!==t?e.changes[t-1].afterRange.end:void 0}getLastHistoryStartPosition(){return this.undoStack.getCurrentHistoryStep()?.cursorStart}getLastChangeStartPosition(){const e=this.undoStack.getCurrentHistoryStep();if(void 0===e)return;const t=e.changes;return 0!==t.length?t[t.length-1].start:void 0}nextChangeInChangeList(){return this.changeList.nextChangePosition()}prevChangeInChangeList(){return this.changeList.prevChangePosition()}}},4224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jump=void 0;class r{constructor({document:e,position:t}){this.document=e,this.position=t}get fileName(){return this.document.fileName}static fromStateNow(e){return new r({document:e.document,position:e.cursorStopPosition})}static fromStateBefore(e){return new r({document:e.document,position:e.cursorsInitialState[0].stop})}isSamePosition(e){return this.fileName===e.fileName&&this.position.isEqual(e.position)}}t.Jump=r},8094:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.JumpTracker=void 0;const a=s(r(1398)),c=r(7475),u=r(4224),l=r(2268),d=r(1398),h=r(4546);t.JumpTracker=class{constructor(){this._jumps=[],this._currentJumpNumber=0,this.isJumpingThroughHistory=!1}get jumps(){return this._jumps}get currentJumpNumber(){return this._currentJumpNumber}get currentJump(){return this._jumps[this._currentJumpNumber]||null}get hasJumps(){return this._jumps.length>0}get end(){return this._jumps[this._jumps.length-1]}recordJump(e,t){t&&e.isSamePosition(t)||this.pushJump(e,t)}handleFileJump(e,t){this.isJumpingThroughHistory?this.isJumpingThroughHistory=!1:t.document.isClosed||this.pushJump(e,t)}async performFileJump(e,t){if(this.isJumpingThroughHistory=!0,e.document)try{await a.window.showTextDocument(e.document)}catch(e){throw h.VimError.fromCode(h.ErrorCode.FileNoLongerAvailable)}else if(await(0,l.existsAsync)(e.fileName))await new c.FileCommand({name:"edit",bang:!1,opt:[],file:e.fileName,cmd:{type:"line_number",line:e.position.line},createFileIfNotExists:!1}).execute(t);else{const t=a.window.visibleTextEditors.filter((t=>t.document.fileName===e.fileName))[0];t&&await a.window.showTextDocument(t.document,e.position.character,!1)}}async jumpForward(e,t){await this.jumpThroughHistory(this.recordJumpForward.bind(this),e,t)}async jumpBack(e,t){await this.jumpThroughHistory(this.recordJumpBack.bind(this),e,t)}async jumpThroughHistory(e,t,r){let n=new u.Jump({document:r.document,position:t});const i=r.recordedState.count||1;for(let t=0;t<i;t++)n=e(u.Jump.fromStateNow(r));n&&(n.fileName!==r.document.fileName?await this.performFileJump(n,r):r.cursorStopPosition=n.position)}recordJumpBack(e){if(!this.hasJumps)return e;if(this._currentJumpNumber<=0)return this._jumps[0];const t=this._jumps[this._currentJumpNumber-1];return this._currentJumpNumber===this._jumps.length?(this.recordJump(e,t),this._currentJumpNumber=this._currentJumpNumber-2):this._currentJumpNumber=this._currentJumpNumber-1,t}recordJumpForward(e){return this.hasJumps?this._currentJumpNumber>=this._jumps.length?e:(this._currentJumpNumber=Math.min(this._currentJumpNumber+1,this._jumps.length-1),this._jumps[this._currentJumpNumber]):e}handleTextAdded(e,t,r){const n=r.split("").filter((e=>"\n"===e)).length;this._jumps.forEach(((r,i)=>{if(r.fileName===e.fileName&&r.position.line>t.start.line){const e=new d.Position(r.position.line+n,r.position.character);this.changePositionForJumpNumber(i,r,e)}}))}handleTextDeleted(e,t){const r=t.end.line-t.start.line;for(let n=this._jumps.length-1;n>=0;n--){const i=this._jumps[n];if(i.fileName===e.fileName&&i.position.line>t.start.line){const e=i.position.line-Math.min(i.position.line-t.start.line,r),o=new d.Position(e,i.position.character);this.changePositionForJumpNumber(n,i,o)}}this.removeDuplicateJumps()}clearJumps(){this._jumps.splice(0,this._jumps.length),this._currentJumpNumber=0}pushJump(e,t){e&&this.clearJumpsOnSameLine(e),!e||t&&e.isSamePosition(t)||(100===this._jumps.length&&this._jumps.splice(0,1),this._jumps.push(e)),this._currentJumpNumber=this._jumps.length}changePositionForJumpNumber(e,t,r){this._jumps.splice(e,1,new u.Jump({document:t.document,position:r}))}clearJumpsOnSameLine(e){this._jumps=this._jumps.filter((t=>t===e||!(t.fileName===e.fileName&&t.position.line===e.position.line)))}removeDuplicateJumps(){const e=new Map;for(let t=this._jumps.length-1;t>=0;t--){const r=this._jumps[t];e.has(r.fileName)||e.set(r.fileName,[]);const n=e.get(r.fileName);n.includes(r.position.line)?this._jumps.splice(t,1):n.push(r.position.line)}}}},9359:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayMode=t.DotCommandStatus=t.NormalCommandState=t.VSCodeVimCursorType=t.Mode=void 0,t.isVisualMode=function(e){return[u.Visual,u.VisualLine,u.VisualBlock].includes(e)},t.isStatusBarMode=function(e){return[u.SearchInProgressMode,u.CommandlineInProgress].includes(e)},t.getCursorStyle=function(e){switch(e){case l.Block:return a.TextEditorCursorStyle.Block;case l.Line:return a.TextEditorCursorStyle.Line;case l.LineThin:return a.TextEditorCursorStyle.LineThin;case l.Underline:return a.TextEditorCursorStyle.Underline;case l.UnderlineThin:return a.TextEditorCursorStyle.UnderlineThin;case l.TextDecoration:return a.TextEditorCursorStyle.LineThin;case l.Native:default:return a.TextEditorCursorStyle.Block}},t.visualBlockGetTopLeftPosition=function(e,t){return new c.Position(Math.min(e.line,t.line),Math.min(e.character,t.character))},t.visualBlockGetBottomRightPosition=function(e,t){return new c.Position(Math.max(e.line,t.line),Math.max(e.character,t.character))};const a=s(r(1398)),c=r(1398);var u,l,d,h,f;!function(e){e[e.Normal=0]="Normal",e[e.Insert=1]="Insert",e[e.Visual=2]="Visual",e[e.VisualBlock=3]="VisualBlock",e[e.VisualLine=4]="VisualLine",e[e.SearchInProgressMode=5]="SearchInProgressMode",e[e.CommandlineInProgress=6]="CommandlineInProgress",e[e.Replace=7]="Replace",e[e.EasyMotionMode=8]="EasyMotionMode",e[e.EasyMotionInputMode=9]="EasyMotionInputMode",e[e.SurroundInputMode=10]="SurroundInputMode",e[e.OperatorPendingMode=11]="OperatorPendingMode",e[e.Disabled=12]="Disabled"}(u||(t.Mode=u={})),function(e){e[e.Block=0]="Block",e[e.Line=1]="Line",e[e.LineThin=2]="LineThin",e[e.Underline=3]="Underline",e[e.TextDecoration=4]="TextDecoration",e[e.Native=5]="Native",e[e.UnderlineThin=6]="UnderlineThin"}(l||(t.VSCodeVimCursorType=l={})),function(e){e[e.Waiting=0]="Waiting",e[e.Executing=1]="Executing",e[e.Finished=2]="Finished"}(d||(t.NormalCommandState=d={})),function(e){e[e.Waiting=0]="Waiting",e[e.Executing=1]="Executing",e[e.Finished=2]="Finished"}(h||(t.DotCommandStatus=h={})),function(e){e[e.Insert=0]="Insert",e[e.Replace=1]="Replace"}(f||(t.ReplayMode=f={}))},4127:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandler=void 0;const c=a(r(2543)),u=s(r(1398)),l=s(r(932)),d=r(1398),h=r(9861),f=r(5682),p=r(3094),m=r(7952),g=r(9253),v=r(7183),y=r(5555),b=r(1647),w=r(377),x=r(4224),S=r(5414),M=r(9094),C=r(6275),_=r(5870),P=r(4735),k=r(1402),R=r(3501),E=r(9586),A=r(8469),O=r(9364),T=r(4575),L=r(5928),B=r(3210),$=r(8344),I=r(8104),j=r(4546),N=r(6007),D=r(7371),V=r(8477),F=r(7892),W=r(9359),U=r(4527);class q{get currentMode(){return this._currentMode}async setCurrentMode(e){this.vimState.currentMode!==e&&await this.vimState.setCurrentMode(e),this._currentMode=e}static async create(e,t){const r=new q(e,t);return await r.vimState.load(),await r.setCurrentMode(v.configuration.startInInsertMode?W.Mode.Insert:W.Mode.Normal),r.syncCursors(),r}constructor(e,t){this.lastMovementFailed=!1,this.focusChanged=!1,this.disposables=[],this.selectionsChanged={ignoreIntermediateSelections:!1,ourSelections:Array()},this.lastClickWasPastEol=!1,this.handlerMap=e,this.remappers=new w.Remappers,this.vimState=new V.VimState(t,new p.EasyMotion),this.remapState=new M.RemapState,this.disposables.push(this.vimState)}syncCursors(){const{selections:e}=this.vimState.editor;1===e.length&&e[0].isEqual(new d.Range(new d.Position(0,0),new d.Position(0,0)))||(this.vimState.cursorStartPosition.isEqual(e[0].anchor)&&this.vimState.cursorStopPosition.isEqual(e[0].active)||(this.vimState.desiredColumn=e[0].active.character),this.vimState.cursors=e.map((({active:e,anchor:t})=>e.isBefore(t)?new g.Cursor(t.getLeft(),e):new g.Cursor(t,e))))}async handleSelectionChange(e){if(void 0===u.window.activeTextEditor||e.textEditor.document!==u.window.activeTextEditor.document)return;const t=e.selections[0];R.Logger.debug(`Selection change: ${t.anchor.toString()}, ${t.active}, SelectionsLength: ${e.selections.length}`);const r=()=>e.selections.every((e=>this.vimState.cursors.every((t=>!e.contains(new u.Range(t.start,t.stop))))));if((e.selections.length!==this.vimState.cursors.length||this.vimState.isMultiCursor)&&this.vimState.currentMode!==W.Mode.VisualBlock){const t=[W.Mode.Normal];return r()||t.push(W.Mode.Insert,W.Mode.Replace),this.vimState.cursors=e.textEditor.selections.map((e=>new g.Cursor(e.anchor.isAfter(e.active)?e.anchor.getLeft():e.anchor,e.active))),e.selections.some((e=>!e.anchor.isEqual(e.active)))&&t.includes(this.vimState.currentMode)&&await this.setCurrentMode(W.Mode.Visual),this.updateView({drawSelection:!1,revealRange:!1})}if(e.kind!==u.TextEditorSelectionChangeKind.Mouse){if(t){if(e.kind===u.TextEditorSelectionChangeKind.Command){const e=[W.Mode.Normal,W.Mode.Visual,W.Mode.VisualLine];if(r()||e.push(W.Mode.Insert,W.Mode.Replace),e.includes(this.vimState.currentMode)){if(this.vimState.currentMode===W.Mode.Visual)return R.Logger.trace("Updating Visual Selection!"),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,this.updateView({drawSelection:!1,revealRange:!1}),void(this.vimState.lastVisualSelection={mode:this.vimState.currentMode,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition});if(!t.active.isEqual(t.anchor))return R.Logger.trace("Creating Visual Selection from command!"),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,await this.setCurrentMode(W.Mode.Visual),this.updateView({drawSelection:!1,revealRange:!1}),void(this.vimState.lastVisualSelection={mode:W.Mode.Visual,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition})}}if((0,W.isVisualMode)(this.vimState.currentMode))return;const n=(0,I.laterOf)(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);if(e.textEditor.document.validatePosition(n).isBefore(n));else if(e.kind===u.TextEditorSelectionChangeKind.Keyboard&&this.vimState.cursorStopPosition.isEqual(this.vimState.cursorStartPosition)&&this.vimState.cursorStopPosition.getRight().isLineEnd()&&this.vimState.cursorStopPosition.getLineEnd().isEqual(t.active))return;R.Logger.debug(`Selections: Changing Cursors from selection handler... ${t.anchor.toString()}, ${t.active}`),this.vimState.cursorStopPosition=t.active,this.vimState.cursorStartPosition=t.anchor,this.vimState.desiredColumn=t.active.character,this.updateView({drawSelection:!1,revealRange:!1})}return}if((0,W.isStatusBarMode)(this.vimState.currentMode))return;let n=!1;if(t){let e=t.active;if(e.character>=e.getLineEnd().character&&t.isEmpty?this.vimState.currentMode!==W.Mode.Insert&&(this.lastClickWasPastEol=!0,e=e.withColumn(Math.max(e.getLineEnd().character-1,0)),await this.setCurrentMode(W.Mode.Normal),n=!0):t.isEmpty&&(this.lastClickWasPastEol=!1),this.vimState.cursorStopPosition=e,this.vimState.cursorStartPosition=e,this.vimState.desiredColumn=e.character,t.anchor.line===t.active.line&&t.anchor.character>=e.getLineEnd().character&&t.active.character>=e.getLineEnd().character);else if(t.anchor.isEqual(t.active))this.vimState.currentMode!==W.Mode.Insert&&await this.setCurrentMode(W.Mode.Normal);else{let r=new d.Position(t.anchor.line,t.anchor.character);if(r.character>r.getLineEnd().character&&(r=new d.Position(r.line,r.getLineEnd().character)),this.vimState.cursorStartPosition=r,r.isAfter(e)&&(this.vimState.cursorStartPosition=this.vimState.cursorStartPosition.getLeft()),this.lastClickWasPastEol){const e=new d.Position(t.anchor.line,t.anchor.character+1);this.vimState.editor.selection=new u.Selection(e,t.active),this.vimState.cursorStartPosition=r,this.lastClickWasPastEol=!1}v.configuration.mouseSelectionGoesIntoVisualMode&&!(0,W.isVisualMode)(this.vimState.currentMode)&&this.currentMode!==W.Mode.Insert&&await this.setCurrentMode(W.Mode.Visual)}(0,W.isVisualMode)(this.vimState.currentMode)&&(this.vimState.lastVisualSelection={mode:this.vimState.currentMode,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition}),this.updateView({drawSelection:n,revealRange:!1})}}async handleMultipleKeyEvents(e,t=!0){for(const r of e)await(t?this.handleKeyEventLangmapped(r):this.handleKeyEvent(r))}async handleKeyEvent(e){const t=(0,U.isLiteralMode)(this.currentMode)||this.vimState.isReplayingMacro?e:(0,U.remapKey)(e);return this.handleKeyEventLangmapped(t)}async handleKeyEventLangmapped(e){if(this.remapState.forceStopRecursiveRemapping)return;const t=Date.now(),r=b.Notation.printableKey(e,v.configuration.leader);R.Logger.debug(`Handling key: ${r}`),(e===E.SpecialKeys.TimeoutFinished||this.vimState.recordedState.bufferedKeys.length>0)&&this.vimState.recordedState.bufferedKeysTimeoutObj&&(clearTimeout(this.vimState.recordedState.bufferedKeysTimeoutObj),this.vimState.recordedState.bufferedKeysTimeoutObj=void 0,this.vimState.recordedState.commandList=[...this.vimState.recordedState.bufferedKeys],this.vimState.recordedState.bufferedKeys=[]),v.configuration.overrideCopy&&("<D-c>"===e&&(e="<copy>"),"<C-c>"===e&&"darwin"!==l.platform&&(v.configuration.useCtrlKeys&&this.vimState.currentMode!==W.Mode.Visual&&this.vimState.currentMode!==W.Mode.VisualBlock&&this.vimState.currentMode!==W.Mode.VisualLine||(e="<copy>"))),"<C-d>"===e&&!0!==v.configuration.handleKeys["<C-d>"]&&(e="<D-d>"),this.vimState.cursorsInitialState=this.vimState.cursors,this.vimState.recordedState.commandList.push(e);const n=this.vimState.currentMode,i=this.vimState.currentModeIncludingPseudoModes,o=C.StatusBar.getText(),s=this.vimState.recordedState.waitingForAnotherActionKey;let a=!1,c=!1;try{const t="0"===e&&this.vimState.recordedState.actionsRun[this.vimState.recordedState.actionsRun.length-1]instanceof L.CommandNumber;this.remapState.isCurrentlyPerformingNonRecursiveRemapping||t||this.vimState.recordedState.waitingForAnotherActionKey||(a=await this.remappers.sendKey(this.vimState.recordedState.commandList,this)),this.vimState.recordedState.allowPotentialRemapOnFirstKey=!0,a||(e===E.SpecialKeys.TimeoutFinished&&(this.vimState.recordedState.commandList.pop(),e=this.vimState.recordedState.commandList[this.vimState.recordedState.commandList.length-1]),void 0!==e&&(c=await this.handleKeyAsAnAction(e)))}catch(t){if(this.selectionsChanged.ignoreIntermediateSelections=!1,!(t instanceof j.VimError))throw t instanceof j.ForceStopRemappingError?t:t instanceof Error?(t.message=`Failed to handle key \`${e}\`: ${t.message}`,t):new Error(`Failed to handle key \`${e}\` due to an unknown error.`);if(C.StatusBar.displayError(this.vimState,t),this.vimState.recordedState=new D.RecordedState,this.remapState.isCurrentlyPerformingRemapping)throw j.ForceStopRemappingError.fromVimError(t)}if(this.remapState.lastKeyPressedTimestamp=t,C.StatusBar.updateShowCmd(this.vimState),C.StatusBar.getText()===o){const e=this.vimState.currentMode!==n&&this.vimState.currentMode!==W.Mode.Normal||void 0!==this.vimState.macro;C.StatusBar.clear(this.vimState,e)}if(this.vimState.recordedState.resetCommandList(),R.Logger.trace(`handleKeyEvent('${r}') took ${Date.now()-t}ms`),this.remapState.isCurrentlyPerformingRemapping&&this.lastMovementFailed)throw this.lastMovementFailed=!1,new j.ForceStopRemappingError("Last movement failed");this.lastMovementFailed=!1,c||((this.vimState.currentMode===W.Mode.Insert||this.vimState.currentMode===W.Mode.Replace)&&(this.vimState.recordedState.bufferedKeys.length>0||this.vimState.recordedState.waitingForAnotherActionKey||this.vimState.recordedState.waitingForAnotherActionKey!==s)||this.vimState.currentModeIncludingPseudoModes!==i)&&this.updateView({drawSelection:!1,revealRange:!1})}async handleKeyAsAnAction(e){if(u.window.activeTextEditor!==this.vimState.editor)return R.Logger.warn("Current window is not active"),!1;this.vimState.historyTracker.addChange();const t=this.vimState.recordedState;t.actionKeys.push(e),O.VSCodeContext.set("vim.command",t.commandString);const r=(0,T.getRelevantAction)(t.actionKeys,this.vimState);switch(r){case T.KeypressState.NoPossibleMatch:return this.vimState.currentMode===W.Mode.Insert?this.vimState.recordedState.actionKeys=[]:this.vimState.recordedState=new D.RecordedState,this.vimState.recordedState.waitingForAnotherActionKey=!1,O.VSCodeContext.set("vim.command",""),!1;case T.KeypressState.WaitingOnKeys:return this.vimState.recordedState.waitingForAnotherActionKey=!0,!1}!this.remapState.remapUsedACharacter&&this.remapState.isCurrentlyPerformingRecursiveRemapping&&(this.remapState.remapUsedACharacter=!0,this.remapState.mapDepth=0),this.vimState.recordedState.waitingForAnotherActionKey=!1,t.actionsRunPressedKeys.push(...t.actionKeys);let n=r;if(0===t.actionsRun.length)t.actionsRun.push(r);else{const i=t.actionsRun[t.actionsRun.length-1],o=r instanceof B.CommandInsertInInsertMode||r instanceof B.CommandBackspaceInInsertMode||r instanceof B.CommandInsertPreviousText||r instanceof B.InsertCharAbove||r instanceof B.InsertCharBelow;if(i instanceof L.DocumentContentChangeAction)r instanceof B.CommandEscInsertMode||i.keysPressed.push(e),o?n=void 0:(i.addChanges(this.vimState.historyTracker.currentContentChanges,this.vimState.cursorStopPosition),this.vimState.historyTracker.currentContentChanges=[],t.actionsRun.push(r));else if(o){this.vimState.historyTracker.currentContentChanges=[];const r=new L.DocumentContentChangeAction(this.vimState.cursorStopPosition);r.keysPressed.push(e),t.actionsRun.push(r),n=r}else t.actionsRun.push(r)}return void 0===this.vimState.macro||!n||n instanceof L.CommandQuitRecordMacro||this.vimState.macro.actionsRun.push(n),await this.runAction(t,r),this.vimState.currentMode===W.Mode.Insert&&(t.isInsertion=!0),this.updateView(),r.isJump&&S.globalState.jumpTracker.recordJump(x.Jump.fromStateBefore(this.vimState),x.Jump.fromStateNow(this.vimState)),!0}async runAction(e,t){this.selectionsChanged.ignoreIntermediateSelections=!0,this.vimState.currentMode===W.Mode.Visual&&(this.vimState.cursors=this.vimState.cursors.map((e=>e.start.isBefore(e.stop)?e.withNewStop(e.stop.getLeftThroughLineBreaks(!0)):e))),this.vimState.cursors=this.vimState.cursors.map((e=>new g.Cursor(this.vimState.document.validatePosition(e.start),this.vimState.document.validatePosition(e.stop))));let r=!1,n=!1;if(t instanceof h.BaseMovement)e=await this.executeMovement(t),n=!0;else if(t instanceof T.BaseCommand){await t.execCount(this.vimState.cursorStopPosition,this.vimState);const e=this.vimState.recordedState.transformer;await(0,_.executeTransformations)(this,e.transformations),t.isCompleteAction&&(n=!0),t.createsUndoPoint&&(r=!0),this.vimState.normalCommandState===W.NormalCommandState.Finished&&(r=!0)}else{if(!(t instanceof f.BaseOperator))throw new Error("Unknown action type");e.operatorCount=e.count}const i=this.currentMode;if(this.vimState.currentMode!==this.currentMode&&(await this.setCurrentMode(this.vimState.currentMode),this.vimState.currentMode!==W.Mode.Normal||i===W.Mode.SearchInProgressMode||i===W.Mode.EasyMotionInputMode||i===W.Mode.EasyMotionMode||i===W.Mode.CommandlineInProgress&&this.vimState.normalCommandState===W.NormalCommandState.Executing||(r=!0)),"ready"===e.getOperatorState(this.vimState.currentMode)){const e=this.vimState.recordedState.operator;e&&(await this.executeOperator(),this.vimState.recordedState.hasRunOperator=!0,r=e.createsUndoPoint,n=!0)}if(this.vimState.currentMode!==this.currentMode&&(await this.setCurrentMode(this.vimState.currentMode),this.vimState.currentMode===W.Mode.Normal&&(r=!0)),r=r&&this.vimState.currentMode===W.Mode.Normal||this.createUndoPointForBrackets(),i!==W.Mode.Visual&&i!==W.Mode.VisualBlock&&i!==W.Mode.VisualLine&&i!==W.Mode.CommandlineInProgress||"<Esc>"!==t.keysPressed[0]||(r=!1),r&&this.vimState.lastCommandDotRepeatable&&this.vimState.dotCommandStatus!==W.DotCommandStatus.Finished&&(S.globalState.previousFullAction=c.default.cloneDeep(this.vimState.recordedState),e.isInsertion&&N.Register.setReadonlyRegister(".",e)),this.vimState.lastCommandDotRepeatable=!0,t instanceof f.BaseOperator&&!n||t.preservesDesiredColumn||(t instanceof h.BaseMovement?t.setsDesiredColumnToEOL&&!e.operator?this.vimState.desiredColumn=Number.POSITIVE_INFINITY:this.vimState.desiredColumn=this.vimState.cursorStopPosition.character:this.vimState.currentMode!==W.Mode.VisualBlock&&(this.vimState.desiredColumn=this.vimState.cursorStopPosition.character)),this.vimState.currentMode===W.Mode.Visual&&(this.vimState.cursors=this.vimState.cursors.map((e=>e.start.isBeforeOrEqual(e.stop)?e.withNewStop(e.stop.isLineEnd()?e.stop.getRightThroughLineBreaks():e.stop.getRight()):e))),n&&this.vimState.currentMode===W.Mode.Normal&&this.vimState.dotCommandStatus!==W.DotCommandStatus.Executing&&(this.vimState.recordedState=new D.RecordedState,this.vimState.returnToInsertAfterCommand&&(this.vimState.actionCount>0?await this.setCurrentMode(W.Mode.Insert):this.vimState.actionCount++)),this.vimState.dotCommandStatus===W.DotCommandStatus.Finished&&(this.vimState.dotCommandStatus=W.DotCommandStatus.Waiting),this.focusChanged||this.vimState.historyTracker.addChange(),!r||this.vimState.isReplayingMacro||this.vimState.normalCommandState===W.NormalCommandState.Executing||this.vimState.dotCommandStatus===W.DotCommandStatus.Executing||this.remapState.isCurrentlyPerformingRemapping||this.vimState.historyTracker.finishCurrentStep(),this.vimState.normalCommandState===W.NormalCommandState.Finished&&(this.vimState.normalCommandState=W.NormalCommandState.Waiting),e.actionKeys=[],this.vimState.currentRegisterMode=void 0,this.currentMode===W.Mode.Normal&&(this.vimState.cursors=this.vimState.cursors.map((e=>new g.Cursor(e.stop,e.stop)))),!this.vimState.document.isClosed&&this.vimState.editor===u.window.activeTextEditor){const e=F.TextEditor.getDocumentEnd(this.vimState.document),t=this.vimState.document.lineCount;this.vimState.cursors=this.vimState.cursors.map((r=>{if(r.start.line>=t&&(r=r.withNewStart(e)),r.stop.line>=t&&(r=r.withNewStop(e)),!this.vimState.returnToInsertAfterCommand&&(this.vimState.currentMode===W.Mode.Normal||(0,W.isVisualMode)(this.vimState.currentMode))){const e=F.TextEditor.getLineLength(r.stop.line),t=F.TextEditor.getLineLength(r.start.line),n=(0,W.isVisualMode)(this.vimState.currentMode)&&e>0?1:0;r.start.character>=t&&(r=r.withNewStart(r.start.withColumn(Math.max(t-1,0)))),r.stop.character>=e+n&&(r=r.withNewStop(r.stop.withColumn(Math.max(e-1,0))))}return r}))}(0,W.isVisualMode)(this.vimState.currentMode)&&this.vimState.dotCommandStatus!==W.DotCommandStatus.Executing&&(this.vimState.lastVisualSelection={mode:this.vimState.currentMode,start:this.vimState.cursorStartPosition,end:this.vimState.cursorStopPosition}),this.selectionsChanged.ignoreIntermediateSelections=!1}async executeMovement(e){this.lastMovementFailed=!1;const t=this.vimState.recordedState,r=[];for(let n=0;n<this.vimState.cursors.length;n++){const i=this.vimState.cursorStartPosition,o=this.vimState.cursorStopPosition;e.multicursorIndex=n,this.vimState.cursorStartPosition=this.vimState.cursors[n].start;const s=this.vimState.cursors[n].stop;this.vimState.cursorStopPosition=s;const a=await e.execActionWithCount(s,this.vimState,t.count);this.vimState.cursors[n]=new g.Cursor(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition),this.vimState.cursorStartPosition=i,this.vimState.cursorStopPosition=o,a instanceof d.Position?(this.vimState.cursors[n]=this.vimState.cursors[n].withNewStop(a),(0,W.isVisualMode)(this.currentMode)||this.vimState.recordedState.operator||(this.vimState.cursors[n]=this.vimState.cursors[n].withNewStart(a))):(a.failed&&(this.vimState.recordedState=new D.RecordedState,this.lastMovementFailed=!0),a.removed?r.push(n):this.vimState.cursors[n]=new g.Cursor(a.start,a.stop))}if(r.length>0)for(let e=r.length-1;e>=0;e--){const t=r[e];0!==t&&this.vimState.cursors.splice(t,1)}if(this.vimState.recordedState.count=0,this.vimState.currentMode!==W.Mode.Normal||t.operator){const e=this.vimState.cursorStopPosition;e.character>F.TextEditor.getLineLength(e.line)&&(this.vimState.cursorStopPosition=e.getLineEnd())}return t}async executeOperator(){const e=this.vimState.recordedState,t=e.operator,r=this.vimState.currentMode,n=this.vimState.currentRegisterMode,i=[];for(let[o,{start:s,stop:a}]of this.vimState.cursors.entries()){t.multicursorIndex=o,s.isAfter(a)&&([s,a]=[a,s]),(0,W.isVisualMode)(r)||n===N.RegisterMode.LineWise||(a=a.getLeftThroughLineBreaks(!0)),this.currentMode===W.Mode.VisualLine&&(s=s.getLineBegin(),a=a.getLineEnd(),this.vimState.currentRegisterMode=N.RegisterMode.LineWise),await this.vimState.setCurrentMode(r),e.operators.length>1&&e.operators.reverse()[0].constructor===e.operators.reverse()[1].constructor?await t.runRepeat(this.vimState,s,e.count):await t.run(this.vimState,s,a);for(const e of this.vimState.recordedState.transformer.transformations)(0,P.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=t.multicursorIndex);const c=new g.Cursor(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);i.push(c)}if(this.vimState.recordedState.transformer.transformations.length>0){const e=this.vimState.recordedState.transformer;await(0,_.executeTransformations)(this,e.transformations)}else this.vimState.cursors=i}async rerunRecordedState(e){let t=e.recordedState.clone();const r=[...t.actionsRun];this.vimState.dotCommandStatus=W.DotCommandStatus.Executing,this.vimState.lastVisualSelection&&(this.vimState.dotCommandPreviousVisualSelection=new u.Selection(this.vimState.lastVisualSelection.start,this.vimState.lastVisualSelection.end));let n=null;if(r[0]instanceof L.CommandInsertAtCursor)n=W.ReplayMode.Insert;else if(r[0]instanceof L.ActionReplaceCharacter)n=W.ReplayMode.Replace;else if(r[0]instanceof L.CommandRegister){const e=Number(r[0].keysPressed[1]);!isNaN(e)&&e>0&&e<9&&(r[0].keysPressed[1]=String(e+1))}for(let i=0;i<e.count;i++){t=new D.RecordedState,this.vimState.recordedState=t;for(const[o,s]of r.entries())if(n!==W.ReplayMode.Insert||i===e.count-1&&o===r.length-1||!(s instanceof B.CommandEscInsertMode)){if(t.actionsRun=r.slice(0,o+1),await this.runAction(t,s),this.lastMovementFailed)break;this.updateView(),n!==W.ReplayMode.Replace||i===e.count-1&&o===r.length-1||(this.vimState.cursorStopPosition=this.vimState.cursorStartPosition=new d.Position(this.vimState.cursorStopPosition.line,this.vimState.cursorStopPosition.character+1))}}let i=[];for(let t=0;t<e.count;t++)i=i.concat(r);t.actionsRun=i,this.vimState.dotCommandStatus=W.DotCommandStatus.Finished}async runMacro(e){let t=new D.RecordedState;this.vimState.recordedState=t;for(const r of e.actionsRun){const e=x.Jump.fromStateNow(this.vimState);if(this.vimState.cursorsInitialState=this.vimState.cursors,t.actionsRun.push(r),await this.runAction(t,r),0===this.vimState.recordedState.actionsRun.length&&(t=new D.RecordedState,this.vimState.recordedState=t),this.lastMovementFailed)break;this.updateView(),r.isJump&&S.globalState.jumpTracker.recordJump(e,x.Jump.fromStateNow(this.vimState))}this.vimState.dotCommandStatus=W.DotCommandStatus.Finished,this.vimState.cursorsInitialState=this.vimState.cursors}updateSearchHighlights(e){const t=this.searchDecorationCacheKey;let r;if(this.searchDecorationCacheKey=void 0,e)if(this.vimState.modeData.mode===W.Mode.CommandlineInProgress||this.vimState.modeData.mode===W.Mode.SearchInProgressMode)r=this.vimState.modeData.commandLine.getDecorations(this.vimState);else if(S.globalState.searchState){if(t&&t.searchString===S.globalState.searchState.searchString&&t.documentVersion===this.vimState.document.version)return void(this.searchDecorationCacheKey=t);r=(0,k.getDecorationsForSearchMatchRanges)(S.globalState.searchState.getMatchRanges(this.vimState)),this.searchDecorationCacheKey={searchString:S.globalState.searchState.searchString,documentVersion:this.vimState.document.version}}this.vimState.editor.setDecorations(y.decoration.searchHighlight,r?.searchHighlight??[]),this.vimState.editor.setDecorations(y.decoration.searchMatch,r?.searchMatch??[]),this.vimState.editor.setDecorations(y.decoration.substitutionAppend,r?.substitutionAppend??[]),this.vimState.editor.setDecorations(y.decoration.substitutionReplace,r?.substitutionReplace??[])}updateView(e={drawSelection:!0,revealRange:!0}){if(e.drawSelection){let e=this.vimState.currentMode;this.vimState.modeData.mode===W.Mode.SearchInProgressMode||this.vimState.modeData.mode===W.Mode.CommandlineInProgress?e=this.vimState.modeData.commandLine.previousMode:this.vimState.modeData.mode===W.Mode.SurroundInputMode&&(e=this.vimState.surround.previousMode);let t=[];for(const r of this.vimState.cursors){let{start:n,stop:i}=r;switch(e){case W.Mode.Visual:n.isAfterOrEqual(i)&&(n=n.getRight()),t.push(new u.Selection(n,i));break;case W.Mode.VisualLine:n.isBeforeOrEqual(i)?t.push(new u.Selection(n.getLineBegin(),i.getLineEnd())):t.push(new u.Selection(n.getLineEnd(),i.getLineBegin()));break;case W.Mode.VisualBlock:for(const e of F.TextEditor.iterateLinesInBlock(this.vimState,r))t.push(new u.Selection(this.vimState.document.validatePosition(e.start),this.vimState.document.validatePosition(e.end)));break;case W.Mode.Insert:t.push(new u.Selection(n,i));break;default:t.push(new u.Selection(i,i))}}if(t=(e=>{const t=[];return e.forEach(((e,r)=>{if(r>0){const r=t[t.length-1];e.intersection(r)?t[t.length-1]=e.anchor.isBeforeOrEqual(e.active)?new u.Selection((0,I.earlierOf)(e.anchor,r.anchor),(0,I.laterOf)(e.active,r.active)):new u.Selection((0,I.laterOf)(e.anchor,r.anchor),(0,I.earlierOf)(e.active,r.active)):t.push(e)}else t.push(e)})),t})(t),t.length!==this.vimState.editor.selections.length||t.some(((e,t)=>!e.anchor.isEqual(this.vimState.editor.selections[t].anchor)||!e.active.isEqual(this.vimState.editor.selections[t].active)))){const e=t.reduce(((e,t)=>e+`[${t.anchor.line}, ${t.anchor.character}; ${t.active.line}, ${t.active.character}]`),"");this.selectionsChanged.ourSelections.push(e),R.Logger.trace(`Adding selection change to be ignored! (total: ${this.selectionsChanged.ourSelections.length}) Hash: ${e}, Selections: ${t[0].anchor.toString()}, ${t[0].active.toString()}`)}this.vimState.editor.selections=t}let t=v.configuration.getCursorStyleForMode(this.currentMode);if(!t){const e=K(this.vimState,this.vimState.currentModeIncludingPseudoModes);t=(0,W.getCursorStyle)(e),e===W.VSCodeVimCursorType.Native&&void 0!==v.configuration.editorCursorStyle&&(t=v.configuration.editorCursorStyle)}if(this.vimState.editor.options.cursorStyle=t,this.vimState.editor.visibleRanges.length>0&&!this.vimState.postponedCodeViewChanges.some((e=>"editorScroll"===e.command))){const t=this.vimState.recordedState.actionsRun[this.vimState.recordedState.actionsRun.length-1]instanceof L.ActionOverrideCmdD;let r;r=t?this.vimState.cursors[this.vimState.cursors.length-1]:this.vimState.cursors[0];const n=e=>e.start.line-r.stop.line>=15,i=e=>r.stop.line-e.end.line>=15,{visibleRanges:o}=this.vimState.editor,s=o.every(n)||o.every(i)?u.TextEditorRevealType.InCenter:u.TextEditorRevealType.Default;if(this.vimState.modeData.mode===W.Mode.SearchInProgressMode&&v.configuration.incsearch){const e=this.vimState.modeData.commandLine.getCurrentMatchRange(this.vimState);if(e)this.vimState.editor.revealRange(e.range,s);else if(this.vimState.modeData.mode===W.Mode.SearchInProgressMode){const e=this.vimState.editor.visibleRanges[0].start.line-this.vimState.modeData.firstVisibleLineBeforeSearch;(0,A.scrollView)(this.vimState,e)}}else e.revealRange&&(t&&this.vimState.cursorsInitialState.length===this.vimState.cursors.length||this.vimState.editor.revealRange(new u.Range(r.stop,r.stop),s))}const r=[];if(K(this.vimState,this.currentMode)===W.VSCodeVimCursorType.TextDecoration&&this.currentMode!==W.Mode.Insert)if(this.currentMode===W.Mode.Visual)for(const{start:e,stop:t}of this.vimState.cursors)e.isBefore(t)?r.push(new u.Range(t.getLeft(),t)):r.push(new u.Range(t,t.getRight()));else for(const{stop:e}of this.vimState.cursors)r.push(new u.Range(e,e.getRight()));this.vimState.editor.setDecorations(y.decoration.default,r);const n=[];if(this.vimState.currentMode===W.Mode.Insert||this.vimState.currentMode===W.Mode.Replace){let e;if(this.vimState.recordedState.bufferedKeys.length>0?e=this.vimState.recordedState.bufferedKeys[this.vimState.recordedState.bufferedKeys.length-1]:this.vimState.recordedState.waitingForAnotherActionKey&&(e=this.vimState.recordedState.actionKeys[this.vimState.recordedState.actionKeys.length-1],"<C-r>"===e?e='"':"<C-k>"===e&&(e="?")),e=e&&/<[^>]+>/.test(e)?void 0:e,e){const t={before:{contentText:e}},r={before:{contentText:e,color:new u.ThemeColor("editor.foreground")}};for(const{stop:e}of this.vimState.cursors)e.isLineEnd()?n.push({range:new u.Range(e,e.getLineEndIncludingEOL()),renderOptions:r}):n.push({range:new u.Range(e,e.getRightThroughLineBreaks(!0)),renderOptions:t})}}this.vimState.editor.setDecorations(y.decoration.insertModeVirtualCharacter,n);const i=[],o=[];if(this.vimState.currentModeIncludingPseudoModes===W.Mode.OperatorPendingMode)for(const{stop:e}of this.vimState.cursors){let t=F.TextEditor.getCharAt(this.vimState.document,e);t=" "===t?" ":t;const r={range:new u.Range(e,e.getRight()),renderOptions:{before:{contentText:t}}};i.push(r),o.push(r)}this.vimState.editor.setDecorations(y.decoration.operatorPendingModeCursor,i),this.vimState.editor.setDecorations(y.decoration.operatorPendingModeCursorChar,o);for(const e of y.decoration.allMarkDecorations())this.vimState.editor.setDecorations(e,[]);if(v.configuration.showMarksInGutter)for(const e of this.vimState.historyTracker.getMarks()){if(e.isUppercaseMark&&e.document!==this.vimState.document)continue;const t=y.decoration.getOrCreateMarkDecoration(e.name),r=e.position.getLineBegin(),n=new u.Range(r,r);this.vimState.editor.setDecorations(t,[n])}const s=v.configuration.incsearch&&(this.currentMode===W.Mode.SearchInProgressMode||this.currentMode===W.Mode.CommandlineInProgress)||v.configuration.inccommand&&this.currentMode===W.Mode.CommandlineInProgress||v.configuration.hlsearch&&S.globalState.hl;for(const e of u.window.visibleTextEditors){const t=this.handlerMap.get(e.document.uri);t&&t.updateSearchHighlights(s)}const a=this.currentMode===W.Mode.EasyMotionInputMode&&v.configuration.easymotionDimBackground&&this.vimState.easyMotion.searchAction instanceof m.SearchByNCharCommand?[new u.Range(F.TextEditor.getDocumentBegin(),F.TextEditor.getDocumentEnd(this.vimState.document))]:[],c=this.currentMode===W.Mode.EasyMotionInputMode&&this.vimState.easyMotion.searchAction instanceof m.SearchByNCharCommand?this.vimState.easyMotion.searchAction.getMatches(this.vimState.cursorStopPosition,this.vimState).map((e=>e.toRange())):[];this.vimState.editor.setDecorations(y.decoration.easyMotionDimIncSearch,a),this.vimState.editor.setDecorations(y.decoration.easyMotionIncSearch,c);for(const e of this.vimState.postponedCodeViewChanges)u.commands.executeCommand(e.command,e.args);this.vimState.postponedCodeViewChanges=[],this.currentMode===W.Mode.EasyMotionMode&&this.vimState.easyMotion.updateDecorations(this.vimState.editor),C.StatusBar.clear(this.vimState,!1),O.VSCodeContext.set("vim.mode",W.Mode[this.vimState.currentMode]);const l=new u.Range(this.vimState.cursorStartPosition,this.vimState.cursorStopPosition);/\s+/.test(this.vimState.document.getText(l))||u.commands.executeCommand("editor.action.wordHighlight.trigger")}createUndoPointForBrackets(){const e=this.vimState.recordedState.actionKeys[this.vimState.recordedState.actionKeys.length-1];if(void 0===e)return!1;if(this.vimState.currentMode===W.Mode.Insert){let t=$.PairMatcher.nextPairedChar(this.vimState.cursorStopPosition,e,this.vimState,!1);if(void 0!==t&&this.vimState.cursorStopPosition.isEqual(t))return!0;if(t=$.PairMatcher.nextPairedChar(this.vimState.cursorStopPosition.getLeft(),e,this.vimState,!1),void 0!==t&&this.vimState.cursorStopPosition.getLeft(2).isEqual(t))return!0}return!1}dispose(){this.disposables.map((e=>e.dispose()))}}function K(e,t){switch(t){case W.Mode.Normal:return W.VSCodeVimCursorType.Block;case W.Mode.Insert:return W.VSCodeVimCursorType.Native;case W.Mode.Visual:case W.Mode.VisualBlock:case W.Mode.VisualLine:return W.VSCodeVimCursorType.TextDecoration;case W.Mode.SearchInProgressMode:case W.Mode.CommandlineInProgress:return W.VSCodeVimCursorType.UnderlineThin;case W.Mode.Replace:return W.VSCodeVimCursorType.Underline;case W.Mode.EasyMotionMode:case W.Mode.EasyMotionInputMode:return W.VSCodeVimCursorType.Block;case W.Mode.SurroundInputMode:return K(e,e.surround.previousMode);case W.Mode.OperatorPendingMode:return W.VSCodeVimCursorType.UnderlineThin;case W.Mode.Disabled:default:return W.VSCodeVimCursorType.Line}}t.ModeHandler=q},5633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModeHandlerMap=void 0;const n=r(4127);t.ModeHandlerMap=new class{constructor(){this.modeHandlerMap=new Map}async getOrCreate(e){const t=e.document.uri;let r=!1,i=this.get(t);return i||(r=!0,i=await n.ModeHandler.create(this,e),this.modeHandlerMap.set(t,i)),[i,r]}get(e){return this.modeHandlerMap.get(e)}entries(){return this.modeHandlerMap.entries()}delete(e){const t=this.modeHandlerMap.get(e);t&&(t.dispose(),this.modeHandlerMap.delete(e))}clear(){for(const e of this.modeHandlerMap.keys())this.delete(e)}}},5893:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.NeovimWrapper=void 0;const a=r(5317),c=r(9896),u=r(5602),l=r(6928),d=s(r(9023)),h=s(r(1398)),f=r(1398),p=r(7183),m=r(6007),g=r(7892),v=r(3501),y=r(8104);t.NeovimWrapper=class{constructor(){this.processTimeoutInSeconds=3}async run(e,t){if(!this.nvim){this.nvim=await this.startNeovim(e.document);try{const e=this.nvim.uiAttach(80,20,{ext_cmdline:!1,ext_popupmenu:!1,ext_tabline:!1,ext_wildmenu:!1,rgb:!1}),t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Timeout"))),1e3*this.processTimeoutInSeconds)}));await Promise.race([e,t])}catch(e){throw p.configuration.enableNeovim=!1,new Error(`Failed to attach to neovim process. ${e.message}`)}const t=(await this.nvim.apiInfo)[1].version;v.Logger.debug(`version: ${t.major}.${t.minor}.${t.patch}`)}await this.syncVSCodeToVim(e),t=(":"+t+"\n").replace("<","<lt>"),await this.nvim.command('let v:errmsg="" | let v:statusmsg=""'),v.Logger.debug(`Running ${t}.`),await this.nvim.input(t),(await this.nvim.mode).blocking&&await this.nvim.input("<esc>");const r=await this.nvim.getVvar("errmsg");let n="",i=!1;if(r&&""!==r.toString())n=r.toString(),i=!0;else{const e=await this.nvim.getVvar("statusmsg");e&&""!==e.toString()&&(n=e.toString())}return await this.syncVimToVSCode(e),{statusBarText:n,error:i}}async startNeovim(e){v.Logger.debug("Spawning Neovim process...");let t=(0,l.dirname)(e.uri.fsPath);await d.promisify(c.exists)(t)||(t=__dirname);const r=[];return p.configuration.neovimUseConfigFile?""!==p.configuration.neovimConfigPath&&r.push("-u",p.configuration.neovimConfigPath):r.push("-u","NONE"),r.push("-i","NONE","-n","--embed"),this.process=(0,a.spawn)(p.configuration.neovimPath,r,{cwd:t}),this.process.on("error",(e=>{v.Logger.error(`Error spawning neovim. ${e.message}.`),p.configuration.enableNeovim=!1})),(0,u.attach)({proc:this.process})}async syncVSCodeToVim(e){if(!this.nvim)return;const t=await this.nvim.buffer;p.configuration.expandtab&&await h.commands.executeCommand("editor.action.indentationToTabs"),await this.nvim.setOption("gdefault",!0===p.configuration.gdefault),await t.setLines(e.document.getText().split("\n"),{start:0,end:-1,strictIndexing:!0});const[r,n]=(0,y.sorted)(e.cursorStartPosition,e.cursorStopPosition);await this.nvim.callFunction("setpos",[".",[0,e.cursorStopPosition.line+1,e.cursorStopPosition.character,!1]]),await this.nvim.callFunction("setpos",["'<",[0,r.line+1,n.character,!1]]),await this.nvim.callFunction("setpos",["'>",[0,n.line+1,n.character,!1]]);for(const t of e.historyTracker.getLocalMarks())await this.nvim.callFunction("setpos",[`'${t.name}`,[0,t.position.line+1,t.position.character,!1]]);const i=await m.Register.get('"');if(i){const t=["c","l","b"];await this.nvim.callFunction("setreg",['"',i.text,t[e.currentRegisterMode]])}}async syncVimToVSCode(e){if(!this.nvim)return;const t=await this.nvim.buffer,r=await t.getLines({start:0,end:-1,strictIndexing:!1}),n="win32"===process.platform?r.map(((e,t)=>e.replace(/\r$/,""))):r,i=e.document.lineCount;await g.TextEditor.replace(e.editor,new h.Range(0,0,i-1,g.TextEditor.getLineLength(i-1)),n.join("\n")),v.Logger.debug(`${r.length} lines in nvim. ${i} in editor.`);const[o,s]=(await this.nvim.callFunction("getpos",["."])).slice(1,3);e.editor.selection=new h.Selection(new f.Position(o-1,s),new f.Position(o-1,s)),p.configuration.expandtab&&await h.commands.executeCommand("editor.action.indentationToSpaces");const a={v:m.RegisterMode.CharacterWise,V:m.RegisterMode.LineWise,"":m.RegisterMode.BlockWise};e.currentRegisterMode=a[await this.nvim.callFunction("getregtype",['"'])],m.Register.put(e,await this.nvim.callFunction("getreg",['"']))}dispose(){this.nvim&&this.nvim.quit(),this.process&&this.process.kill()}}},5074:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORT_READ_COMMAND=t.SUPPORT_IME_SWITCHER=t.SUPPORT_NVIM=t.SUPPORT_VIMRC=void 0,t.SUPPORT_VIMRC=!0,t.SUPPORT_NVIM=!0,t.SUPPORT_IME_SWITCHER=!0,t.SUPPORT_READ_COMMAND=!0},2268:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.constants=void 0,t.doesFileExist=async function(e){if(!l.window.activeTextEditor)return c.promisify(a.exists)(e.fsPath);try{return await l.workspace.fs.stat(e),!0}catch{return!1}},t.existsAsync=async function(e){try{return await l.workspace.fs.stat(l.Uri.file(e)),!0}catch(e){return!1}},t.unlink=async function(e){a.unlinkSync(e)},t.readFileAsync=async function(e,t){return(0,u.promisify)(a.readFile)(e,t)},t.mkdirAsync=async function(e,t){await(0,u.promisify)(a.mkdir)(e,t)},t.writeFileAsync=async function(e,t,r){await(0,u.promisify)(a.writeFile)(e,t,r)},t.accessAsync=async function(e,t){return(0,u.promisify)(a.access)(e,t)},t.chmodAsync=async function(e,t){return(0,u.promisify)(a.chmod)(e,t)},t.getMode=async function(e){return await a.promises.stat(e).then((e=>e.mode)).catch((e=>{throw e}))},t.unlinkSync=function(e){a.unlinkSync(e)};const a=s(r(9896)),c=s(r(9023)),u=r(9023),l=s(r(1398));t.constants={UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,UV_FS_O_FILEMAP:0,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4}},7763:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryBase=void 0;const a=s(r(6928)),c=r(2268),u=r(8424),l=r(3501);t.HistoryBase=class{get historyKey(){return a.join(this.extensionStoragePath,this.historyFileName)}constructor(e,t,r){this.history=[],this.historyFileName=t,this.extensionStoragePath=r}async add(e,t){if(!e||0===e.length)return;const r=this.history.indexOf(e);return-1!==r&&this.history.splice(r,1),this.history.push(e),this.history.length>t&&(this.history=this.history.slice(this.history.length-t)),this.save()}get(e){return this.history.length>e&&(this.history=this.history.slice(this.history.length-e)),this.history}clear(){try{this.history=[],(0,c.unlinkSync)(this.historyKey)}catch(e){l.Logger.warn(`Unable to delete ${this.historyKey}. err=${e}.`)}}async load(){let e="";try{e=await(0,c.readFileAsync)(this.historyKey,"utf-8")}catch(e){return void("ENOENT"===e.code?l.Logger.debug(`History does not exist. path=${this.historyKey}`):l.Logger.warn(`Failed to load history. path=${this.historyKey} err=${e}.`))}if(0!==e.length)try{const t=JSON.parse(e);if(!Array.isArray(t))throw Error("Unexpected format in history file. Expected JSON.");this.history=t}catch(e){l.Logger.warn(`Deleting corrupted history file. path=${this.historyKey} err=${e}.`),this.clear()}}async save(){try{try{await(0,c.mkdirAsync)(u.Globals.extensionStoragePath,{recursive:!0})}catch(e){if("EEXIST"!==e.code)throw e}await(0,c.writeFileAsync)(this.historyKey,JSON.stringify(this.history),"utf-8")}catch(e){throw l.Logger.error(`Failed to save history. filepath=${this.historyKey}. err=${e}.`),e}}}},6007:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Register=t.RegisterMode=void 0;const a=r(2268),c=r(8424),u=r(7371),l=r(4991);var d;!function(e){e[e.CharacterWise=0]="CharacterWise",e[e.LineWise=1]="LineWise",e[e.BlockWise=2]="BlockWise"}(d||(t.RegisterMode=d={}));class h{static put(e,t,r,n){const i=e.recordedState.registerName;if(!h.isValidRegister(i))throw new Error(`Invalid register ${i}`);h.isBlackHoleRegister(i)||h.isReadOnlyRegister(i)||(h.isValidUppercaseRegister(i)?h.appendToRegister(e,i.toLowerCase(),t,r??0):h.overwriteRegister(e,i,t,r??0),n&&'"'!==i&&h.registers.set('"',h.registers.get(i)))}static isValidRegister(e){return h.isValidLowercaseRegister(e)||h.isValidUppercaseRegister(e)||/^[0-9]$/.test(e)||this.specialRegisters.includes(e)}static isValidRegisterForMacro(e){return/^[a-zA-Z0-9:]$/.test(e)}static isBlackHoleRegister(e){return"_"===e}static isClipboardRegister(e){return"*"===e||"+"===e}static isReadOnlyRegister(e){return[".","%",":","#","/"].includes(e)}static isValidLowercaseRegister(e){return/^[a-z]$/.test(e)}static isValidUppercaseRegister(e){return/^[A-Z]$/.test(e)}static overwriteRegister(e,t,r,n){0!==n&&h.registers.has(t)||h.registers.set(t,[]),h.registers.get(t)[n]={registerMode:e.currentRegisterMode,text:r},0!==n||!this.isClipboardRegister(t)||r instanceof u.RecordedState||l.Clipboard.Copy(r),this.processNumberedRegisters(e,r)}static appendToRegister(e,t,r,n){h.registers.has(t)||h.registers.set(t,[]);const i=h.registers.get(t),o=i[n];if(void 0===o)i[n]={registerMode:e.currentRegisterMode,text:r};else{const t=e.currentRegisterMode===d.LineWise?d.LineWise:o.registerMode;let s;s=o.text instanceof u.RecordedState||r instanceof u.RecordedState?o.text:o.text+(t===d.LineWise?"\n":"")+r,i[n]={registerMode:t,text:s}}if(0===n&&this.isClipboardRegister(t)){const e=i[n].text;e instanceof u.RecordedState||l.Clipboard.Copy(e)}}static setReadonlyRegister(e,t){h.registers.set(e,[{text:t,registerMode:d.CharacterWise}])}static processNumberedRegisters(e,t){const r=e.recordedState.operator||e.recordedState.command;if(r)if("yank_op"===r.name||"yank_full_line"===r.name)e.recordedState.actionsRun.find((e=>"cmd_register"===e.name))||h.registers.set("0",[{text:t,registerMode:e.currentRegisterMode}]);else if(("delete_op"===r.name||"delete_char"===r.name||"delete_last_char"===r.name||"delete_char_visual_line_mode"===r.name||"delete_char_with_del"===r.name)&&void 0===e.macro&&!e.isReplayingMacro)if(t.toString().match(/\n/g)||e.currentRegisterMode===d.LineWise){for(let e=9;e>1;e--){const t=h.registers.get(String(e-1));t&&h.registers.set(String(e),{...t})}h.registers.set("1",[{text:t,registerMode:e.currentRegisterMode}])}else h.registers.set("-",[{text:t,registerMode:d.CharacterWise}])}static async get(e,t=0){if(!h.isValidRegister(e))throw new Error(`Invalid register ${e}`);e=e.toLowerCase();const r=h.registers.get(e);if(h.isClipboardRegister(e)){const t=(await l.Clipboard.Paste()).replace(/\r\n/g,"\n"),n=r?.[0]?.text?.replace(/\r\n/g,"\n");if(n!==t){const r={text:t,registerMode:d.CharacterWise};return h.registers.set(e,[r]),r}}return void 0===r?.[t]&&(t=0),r?.[t]}static has(e){return h.registers.has(e)}static getKeys(){return[...h.registers.keys()]}static clearAllRegisters(){h.registers.clear()}static async saveToDisk(e){if(e){const e=new Array;for(const[t,r]of h.registers)r.some((e=>e instanceof u.RecordedState))||e.push([t,r]);return Promise.resolve().then((()=>s(r(6928)))).then((t=>(0,a.writeFileAsync)(t.join(c.Globals.extensionStoragePath,".registers"),JSON.stringify({version:"1.0",registers:e}),"utf8")))}}static loadFromDisk(e){e?(h.registers=new Map,Promise.resolve().then((()=>s(r(6928)))).then((e=>{(0,a.readFileAsync)(e.join(c.Globals.extensionStoragePath,".registers"),"utf8").then((e=>{const t=JSON.parse(e);"1.0"===t.version&&(h.registers=new Map(t.registers))}))}))):h.registers=new Map}}t.Register=h,h.specialRegisters=['"',"*","+",".","-","/",":","%","#","_","="]},5495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionState=void 0,t.CompositionState=class{constructor(){this.isInComposition=!1,this.insertedText=!1,this.composingText=""}reset(){this.isInComposition=!1,this.insertedText=!1,this.composingText=""}}},5414:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalState=void 0;const n=r(8094);t.globalState=new class{constructor(){this.jumpTracker=new n.JumpTracker,this.previousFullAction=void 0,this.lastInvokedMacro=void 0,this.substituteState=void 0,this.searchState=void 0,this.hl=!0}}},7371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordedState=void 0;const n=r(7183),i=r(9359),o=r(9194),s=r(9586),a=new RegExp(/[|\\{}()[\]^$+*?.]/,"g"),c=new RegExp(s.SpecialKeys.TimeoutFinished,"g");class u{constructor(){this.commandList=[],this.actionKeys=[],this.waitingForAnotherActionKey=!1,this.actionsRun=[],this.actionsRunPressedKeys=[],this.bufferedKeys=[],this.bufferedKeysTimeoutObj=void 0,this.allowPotentialRemapOnFirstKey=!0,this.hasRunOperator=!1,this.isInsertion=!1,this.transformer=new o.Transformer,this.count=0,this.operatorCount=0,this.registerKey="",this.registerName=n.configuration.useSystemClipboard?"*":'"'}get commandString(){let e="";return this.actionsRun.length>0&&(e=this.actionsRunPressedKeys.join("")),this.actionKeys.length>0&&(e+=this.actionKeys.join("")),this.bufferedKeys.length>0&&(e+=this.bufferedKeys.join("")),0===this.actionsRun.length&&0===this.actionKeys.length&&0===this.bufferedKeys.length&&this.commandList.length>0?this.commandList.join(""):e.replace(new RegExp(n.configuration.leader.replace(a,"\\$&"),"g"),"<leader>").replace(c,"")}get pendingCommandString(){let e="";return this.actionKeys.length>0&&(e+=this.actionKeys.join("")),this.bufferedKeys.length>0&&(e+=this.bufferedKeys.join("")),e.replace(new RegExp(n.configuration.leader.replace(a,"\\$&"),"g"),"<leader>").replace(c,"")}resetCommandList(){this.commandList=[]}get operator(){const e=this.operators;return e.length>0?e[0]:void 0}get operators(){return this.actionsRun.filter((e=>"operator"===e.actionType)).reverse()}get command(){return this.actionsRun.filter((e=>"command"===e.actionType)).reverse()[0]}clone(){const e=new u;return e.actionKeys=this.actionKeys.slice(0),e.actionsRun=this.actionsRun.slice(0),e.hasRunOperator=this.hasRunOperator,e}getOperatorState(e){if(void 0!==this.operator&&!this.hasRunOperator&&e!==i.Mode.SearchInProgressMode&&e!==i.Mode.CommandlineInProgress)return this.actionsRun.some((e=>"motion"===e.actionType))||(0,i.isVisualMode)(e)||this.operators.length>1&&this.operators.reverse()[0].constructor===this.operators.reverse()[1].constructor?"ready":"pending"}}t.RecordedState=u},9094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemapState=void 0,t.RemapState=class{constructor(){this.lastKeyPressedTimestamp=0,this.isCurrentlyPerformingNonRecursiveRemapping=!1,this.isCurrentlyPerformingRecursiveRemapping=!1,this.wasPerformingRemapThatFinishedWaitingForTimeout=!1,this.mapDepth=0,this.remapUsedACharacter=!1,this.forceStopRecursiveRemapping=!1}get isCurrentlyPerformingRemapping(){return this.isCurrentlyPerformingNonRecursiveRemapping||this.isCurrentlyPerformingRecursiveRemapping}}},1985:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceState=void 0,t.ReplaceState=class{getChanges(e){return void 0===this._changes[e]&&(this._changes[e]=[]),this._changes[e]}resetChanges(e){this._changes[e]=[]}constructor(e,t=1){this.timesToRepeat=t,this._changes=e.map((e=>[]))}}},183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchState=void 0;const n=r(7183),i=r(2270);t.SearchState=class{constructor(e,t,r="",{ignoreSmartcase:n=!1}={}){this.matchRanges=new Map,this._searchString=r;const o=(0,i.searchStringParser)({direction:e,ignoreSmartcase:n}).parse(this._searchString),{pattern:s,offset:a}=o.status?o.value:{pattern:void 0,offset:void 0};this.pattern=s,this.offset=a,this.cursorStartPosition=t,this.ignoreSmartcase=n}get searchString(){return this._searchString}set searchString(e){this._searchString=e;const t=(0,i.searchStringParser)({direction:this.direction,ignoreSmartcase:this.ignoreSmartcase}).parse(e),{pattern:r,offset:n}=t.status?t.value:{pattern:void 0,offset:void 0};r?.patternString!==this.pattern?.patternString&&(this.pattern=r,this.matchRanges.clear()),this.offset=n}get direction(){return this.pattern?.direction??i.SearchDirection.Forward}getMatchRanges(e){return this.recalculateSearchRanges(e)}recalculateSearchRanges(e){if(""===this.searchString||void 0===this.pattern)return[];const t=e.document,r=this.matchRanges.get(t.fileName);if(r?.version===t.version)return r.ranges;const n=this.pattern.allMatches(e,{fromPosition:e.editor.selection.active}).map((e=>e.range));return this.matchRanges.set(t.fileName,{version:t.version,ranges:n}),n}getNextSearchMatchPosition(e,t,r=i.SearchDirection.Forward,n=0){const o=this.getNextSearchMatchRange(e,t,r,n);if(void 0===o)return;const{range:s,index:a}=o;return{pos:this.offset?this.offset.apply(s):s.start,index:a}}getNextSearchMatchRange(e,t,r=i.SearchDirection.Forward,o=0){const s=this.recalculateSearchRanges(e);if(0===s.length)return;const a=r*this.direction;let c;if(a===i.SearchDirection.Forward){for(let e=0;e<s.length;e++)if((this.offset?.apply(s[e])??s[e].start).compareTo(t)>0){c=e;break}}else for(let e=s.length-1;e>=0;e--)if((this.offset?.apply(s[e])??s[e].start).compareTo(t)<0){c=e;break}if(void 0===c){if(!n.configuration.wrapscan)return;c=a===i.SearchDirection.Forward?0:s.length-1}return c+=a*o,0<=c&&c<s.length?{index:c,range:s[c]}:n.configuration.wrapscan?(u=c,c=((l=s.length)+u%l)%l,{index:c,range:s[c]}):void 0;var u,l}findContainingMatchRange(e,t){const r=this.recalculateSearchRanges(e);if(0!==r.length)for(const[e,n]of r.entries())if(n.start.isBeforeOrEqual(t)&&n.end.isAfter(t))return{range:n,index:e}}}},4727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubstituteState=void 0,t.SubstituteState=class{constructor(e,t){this.searchPattern=e,this.replaceString=t}}},8477:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VimState=void 0;const a=s(r(1398)),c=r(5074),u=r(1398),l=r(2249),d=r(9253),h=r(7183),f=r(9359),p=r(3501),m=r(2270),g=r(1655),v=r(6007),y=r(1985),b=r(5414),w=r(7371);t.VimState=class{get document(){return this.editor.document}get isMultiCursor(){return this._cursors.length>1}get cursorStartPosition(){return this.cursors[0].start}set cursorStartPosition(e){e.isValid(this.editor)||p.Logger.warn(`invalid cursor start position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStart(e)}get cursorStopPosition(){return this.cursors[0].stop}set cursorStopPosition(e){e.isValid(this.editor)||p.Logger.warn(`invalid cursor stop position. ${e.toString()}.`),this.cursors[0]=this.cursors[0].withNewStop(e)}get cursors(){return this._cursors}set cursors(e){if(0===e.length)return void p.Logger.warn("Tried to set VimState.cursors to an empty array");const t=new Map;for(const r of e)r.isValid(this.editor)||p.Logger.warn(`invalid cursor position. ${r.toString()}.`),t.set(r.toString(),r);this._cursors=[...t.values()]}get cursorsInitialState(){return this._cursorsInitialState}set cursorsInitialState(e){this._cursorsInitialState=[...e]}get currentMode(){return this.modeData.mode}get currentModeIncludingPseudoModes(){return"pending"===this.recordedState.getOperatorState(this.currentMode)?f.Mode.OperatorPendingMode:this.currentMode}async setModeData(e){if(void 0===e)throw new Error("Tried setting modeData to undefined");await(this.inputMethodSwitcher?.switchInputMethod(this.currentMode,e.mode)),this.returnToInsertAfterCommand&&e.mode===f.Mode.Insert&&(this.returnToInsertAfterCommand=!1),e.mode===f.Mode.SearchInProgressMode&&(b.globalState.searchState=e.commandLine.getSearchState()),h.configuration.smartRelativeLine&&(this.editor.options.lineNumbers=e.mode===f.Mode.Insert?a.TextEditorLineNumbersStyle.On:a.TextEditorLineNumbersStyle.Relative),this.modeData=e}async setCurrentMode(e){if(void 0===e)throw new Error("Tried setting currentMode to undefined");await this.setModeData(e===f.Mode.Replace?{mode:e,replaceState:new y.ReplaceState(this.cursors.map((e=>e.stop)),this.recordedState.count)}:e===f.Mode.CommandlineInProgress?{mode:e,commandLine:new l.ExCommandLine("",this.modeData.mode)}:e===f.Mode.SearchInProgressMode?{mode:e,commandLine:new l.SearchCommandLine(this,"",m.SearchDirection.Forward),firstVisibleLineBeforeSearch:this.editor.visibleRanges[0].start.line}:e===f.Mode.Insert?{mode:e,highSurrogate:void 0}:{mode:e})}set currentRegisterMode(e){this._currentRegisterMode=e}get currentRegisterMode(){if(this._currentRegisterMode)return this._currentRegisterMode;switch(this.currentMode){case f.Mode.VisualLine:return v.RegisterMode.LineWise;case f.Mode.VisualBlock:return v.RegisterMode.BlockWise;default:return v.RegisterMode.CharacterWise}}constructor(e,t){this.desiredColumn=0,this.isFakeMultiCursor=!1,this.lastSemicolonRepeatableMovement=void 0,this.lastCommaRepeatableMovement=void 0,this.lastCommandDotRepeatable=!0,this.dotCommandStatus=f.DotCommandStatus.Waiting,this.isReplayingMacro=!1,this.normalCommandState=f.NormalCommandState.Waiting,this.dotCommandPreviousVisualSelection=void 0,this.surround=void 0,this.returnToInsertAfterCommand=!1,this.actionCount=0,this.postponedCodeViewChanges=[],this._cursors=[new d.Cursor(new u.Position(0,0),new u.Position(0,0))],this.lastVisualSelection=void 0,this.modeData={mode:f.Mode.Normal},this.recordedState=new w.RecordedState,this.editor=e,this.documentUri=e?.document.uri??a.Uri.file(""),this.historyTracker=new g.HistoryTracker(this),this.easyMotion=t}async load(){if(c.SUPPORT_NVIM){const e=await Promise.resolve().then((()=>s(r(5893))));this.nvim=new e.NeovimWrapper}if(c.SUPPORT_IME_SWITCHER){const e=await Promise.resolve().then((()=>s(r(2382))));this.inputMethodSwitcher=new e.InputMethodSwitcher}}dispose(){this.nvim?.dispose()}}},6275:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0,t.statusBarText=d,t.statusBarCommandText=h;const a=s(r(1398)),c=r(7183),u=r(9359),l=r(3501);function d(e){const t="<C-r>"===e.recordedState.actionKeys[e.recordedState.actionKeys.length-1]?'"':"|";switch(e.modeData.mode){case u.Mode.Normal:return"-- NORMAL --";case u.Mode.Insert:return"-- INSERT --";case u.Mode.Visual:return"-- VISUAL --";case u.Mode.VisualBlock:return"-- VISUAL BLOCK --";case u.Mode.VisualLine:return"-- VISUAL LINE --";case u.Mode.Replace:return"-- REPLACE --";case u.Mode.EasyMotionMode:return"-- EASYMOTION --";case u.Mode.EasyMotionInputMode:return"-- EASYMOTION INPUT --";case u.Mode.SurroundInputMode:return"-- SURROUND INPUT --";case u.Mode.Disabled:return"-- VIM: DISABLED --";case u.Mode.SearchInProgressMode:case u.Mode.CommandlineInProgress:return e.modeData.commandLine.display(t);default:return""}}function h(e){switch(e.currentMode){case u.Mode.SurroundInputMode:return e.surround&&e.surround.replacement?e.surround.replacement:"";case u.Mode.EasyMotionMode:return`Target key: ${e.easyMotion.accumulation}`;case u.Mode.EasyMotionInputMode:if(!e.easyMotion)return"";const t=e.easyMotion.searchAction.searchCharCount;return(t>0?`Search for ${t} character(s): `:"Search for characters: ")+e.easyMotion.searchAction.searchString;case u.Mode.Visual:{let[t,r]=[e.cursorStartPosition,e.cursorStopPosition],n=!1;t.isAfter(r)?(t=t.getRightThroughLineBreaks(),[t,r]=[r,t]):r.isAfter(t)&&0===r.character&&(r=r.getLeftThroughLineBreaks(!0),n=!0);const i=r.line-t.line+1;return i>1?`${i} ${e.recordedState.pendingCommandString}`:`${Math.max(r.character-t.character,1)+(n?1:0)} ${e.recordedState.pendingCommandString}`}case u.Mode.VisualLine:return`${Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1} ${e.recordedState.pendingCommandString}`;case u.Mode.VisualBlock:return`${Math.abs(e.cursorStopPosition.line-e.cursorStartPosition.line)+1}x${Math.abs(e.cursorStopPosition.character-e.cursorStartPosition.character)+1} ${e.recordedState.pendingCommandString}`;case u.Mode.Insert:case u.Mode.Replace:return e.recordedState.pendingCommandString;case u.Mode.Normal:case u.Mode.Disabled:return e.recordedState.commandString;default:return""}}t.StatusBar=new class{constructor(){this.previousMode=void 0,this.showingDefaultMessage=!0,this.statusBarItem=a.window.createStatusBarItem("primary",a.StatusBarAlignment.Left,Number.MIN_SAFE_INTEGER),this.statusBarItem.name="Vim Command Line",this.statusBarItem.command="toggleVim",this.statusBarItem.show(),this.recordedStateStatusBarItem=a.window.createStatusBarItem("showcmd",a.StatusBarAlignment.Right,Number.MAX_SAFE_INTEGER),this.recordedStateStatusBarItem.name="Vim Pending Command Keys",this.recordedStateStatusBarItem.show()}dispose(){this.statusBarItem.dispose(),this.recordedStateStatusBarItem.dispose()}updateShowCmd(e){this.recordedStateStatusBarItem.text=c.configuration.showcmd?h(e):""}setText(e,t,r=!1){t=t.replace(/\n/g,"^M"),this.statusBarItem.text!==t&&(this.statusBarItem.text=t,l.Logger.debug(`Status bar: ${t}`)),c.configuration.statusBarColorControl||(this.statusBarItem.color=r?new a.ThemeColor("statusBarItem.errorForeground"):void 0,this.statusBarItem.backgroundColor=r?new a.ThemeColor("statusBarItem.errorBackground"):void 0),c.configuration.statusBarColorControl&&e.currentMode!==this.previousMode&&this.updateColor(e.currentMode),this.previousMode=e.currentMode,this.showingDefaultMessage=!1,this.lastMessageTime=new Date}displayError(e,r){t.StatusBar.setText(e,r.toString(),!0)}getText(){return this.statusBarItem.text.replace(/\^M/g,"\n")}clear(e,r=!0){if(!this.showingDefaultMessage&&!r)return;const n=[];(c.configuration.showmodename||e.currentMode===u.Mode.CommandlineInProgress||e.currentMode===u.Mode.SearchInProgressMode)&&(n.push(d(e)),e.isMultiCursor&&n.push(" MULTI CURSOR ")),e.macro&&n.push("recording @"+e.macro.registerKey),t.StatusBar.setText(e,n.join(" ")),this.showingDefaultMessage=!0}updateColor(e){let t,r;const n=c.configuration.statusBarColors[u.Mode[e].toLowerCase()];void 0!==n&&("string"==typeof n?r=n:[r,t]=n);const i=c.configuration.getConfiguration("workbench"),o=i.get("colorCustomizations")??{},s={...o};void 0!==r&&(s["statusBar.background"]=r,s["statusBar.noFolderBackground"]=r,s["statusBar.debuggingBackground"]=r),void 0!==t&&(s["statusBar.foreground"]=t,s["statusBar.debuggingForeground"]=t),o!==s&&i.update("colorCustomizations",s,!0)}}},8428:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.taskQueue=void 0;const i=n(r(9792)),o=r(3501);t.taskQueue=new class{constructor(){this.taskQueue=new i.default({autostart:!0,concurrency:1}),this.taskQueue.addListener("error",((e,t)=>{o.Logger.error(`Error running task: ${e}`)}))}enqueueTask(e){this.taskQueue.push(e)}}},7892:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.TextEditor=void 0;const a=s(r(1398)),c=r(7183),u=r(9359),l=r(1398),d=r(3501),h=r(8469);class f{static async insert(e,t,r,n){n??=1===t.length,n?await a.commands.executeCommand("default:type",{text:t}):await e.edit((n=>{r||(r=e.selection.active),n.insert(r,t)}))}static async replace(e,t,r){return e.edit((e=>{e.replace(t,r)}))}static getLineCount(e){return e??=a.window.activeTextEditor,e?.document.lineCount??-1}static getLineLength(e){return e<0||e>=f.getLineCount()?(d.Logger.warn(`getLineLength() called with out-of-bounds line ${e}`),0):a.window.activeTextEditor.document.lineAt(e).text.length}static getLine(e){return a.window.activeTextEditor.document.lineAt(e)}static getCharAt(e,t){return t=e.validatePosition(t),e.lineAt(t).text[t.character]}static getWord(e,t){const r=e.lineAt(t).text;let n=t.character;for(;this.whitespaceRegExp.test(r[n]);)if(n++,n===r.length)return;let i=n;for(;c.configuration.iskeyword.includes(r[i])||this.whitespaceRegExp.test(r[i]);)if(i++,i===r.length){i=n;break}const o=!c.configuration.iskeyword.includes(r[i]),s=e=>!this.whitespaceRegExp.test(e)&&c.configuration.iskeyword.includes(e)!==o;let a=i;for(;i>0&&s(r[i-1]);)i--;for(;a<r.length&&s(r[a+1]);)a++;return r.substring(i,a+1)}static getTabCharacter(e){if(e.options.insertSpaces){const t=e.options.tabSize;return" ".repeat(t)}return"\t"}static getIndentationLevel(e,t){let r=0;for(const n of e)switch(n){case"\t":r+=t;break;case" ":r+=1;break;default:return r}return r}static setIndentationLevel(e,t,r){const n=c.configuration.tabstop;t<0&&(t=0);const i=r?" ".repeat(t):"\t".repeat(t/n)+" ".repeat(t%n);return e.replace(/^\s*/,i)}static getDocumentBegin(){return new l.Position(0,0)}static getDocumentEnd(e){const t=Math.max(e.lineCount,1)-1;return e.lineAt(t).range.end}static getFirstNonWhitespaceCharOnLine(e,t){return t=(0,h.clamp)(t,0,e.lineCount-1),new l.Position(t,e.lineAt(t).firstNonWhitespaceCharacterIndex)}static*iterateLinesInBlock(e,t,r={reverse:!1}){const{reverse:n}=r;t??=e.cursors[0];const i=(0,u.visualBlockGetTopLeftPosition)(t.start,t.stop),o=(0,u.visualBlockGetBottomRightPosition)(t.start,t.stop),[s,a]=n?[o.line,i.line]:[i.line,o.line],c=e.desiredColumn===Number.POSITIVE_INFINITY;for(let t=s;n?t>=a:t<=a;n?t--:t++){const r=e.document.lineAt(t).text,n=c?r.length+1:Math.min(r.length,o.character+1);yield{line:r.substring(i.character,n),start:new l.Position(t,i.character),end:new l.Position(t,n)}}}static*iterateWords(e,t){const r=e.lineAt(t).text;/\s/.test(r[t.character])&&(t=t.nextWordStart(e));let n=t.nextWordEnd(e,{inclusive:!0});for(;;){const i=r.substring(t.character,n.character+1);if(yield{start:t,end:n,word:i},n.getRight().isLineEnd())return;n=(t=t.nextWordStart(e)).nextWordEnd(e,{inclusive:!0})}}}t.TextEditor=f,f.whitespaceRegExp=new RegExp("\\s+")},5915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentParagraphEnd=function(e,t=!1){const r=i.TextEditor.getLineCount()-1;let n=e.line;for(;n<r&&o(n,t);)n++;for(;n<r&&!o(n,t);)n++;return e.with({line:n}).getLineEnd()},t.getCurrentParagraphBeginning=function(e,t=!1){let r=e.line;for(;r>0&&o(r,t);)r--;for(;r>0&&!o(r,t);)r--;return new n.Position(r,0)};const n=r(1398),i=r(7892);function o(e,t=!1){const r=i.TextEditor.getLine(e).text;return""===(t?r.trim():r)}},7384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSentenceBegin=function(e,t){return t.forward?function(e){const t=(0,o.getCurrentParagraphEnd)(e);for(let r=e.line;r<=t.line;r++){const t=(0,s.getAllEndPositions)(i.TextEditor.getLine(r).text,a).find((t=>t>e.character||r!==e.line));if(void 0!==t)return new n.Position(r,t).getRightThroughLineBreaks()}return c(e,t,!1)}(e):function(e){const t=(0,o.getCurrentParagraphBeginning)(e);for(let r=e.line;r>=t.line;r--){const t=(0,s.getAllEndPositions)(i.TextEditor.getLine(r).text,a).reverse().find((t=>new n.Position(r,t).getRightThroughLineBreaks().compareTo(e)&&(t<e.character||r<e.line)));if(void 0!==t)return new n.Position(r,t).getRightThroughLineBreaks()}return t.line+1===e.line||t.line===e.line?t:new n.Position(t.line+1,0)}(e)},t.getSentenceEnd=function(e){const t=(0,o.getCurrentParagraphEnd)(e);for(let r=e.line;r<=t.line;r++){const t=(0,s.getAllPositions)(i.TextEditor.getLine(r).text,a).find((t=>t>e.character||r!==e.line));if(void 0!==t)return new n.Position(r,t)}return c(e,t,!1)};const n=r(1398),i=r(7892),o=r(5915),s=r(6153),a=/[\.!\?]["')\]]*?([ \n\t]+|$)/g;function c(e,t,r){if(i.TextEditor.getLine(e.line).text)return t;for(let o=e.line;o<=t.line;o++){const t=(0,s.getAllPositions)(i.TextEditor.getLine(o).text,/\S/g).find((t=>t>e.character&&!r||t>=e.character&&r||o!==e.line));if(void 0!==t)return new n.Position(o,t)}return e}},2425:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAroundArgument=t.SelectInnerArgument=t.SelectEntireIgnoringLeadingTrailing=t.SelectEntire=t.SelectInnerParagraph=t.SelectParagraph=t.SelectInnerSentence=t.SelectSentence=t.SelectInnerBigWord=t.SelectInnerWord=t.SelectAnExpandingBlock=t.SelectABigWord=t.SelectWord=t.TextObject=void 0;const i=r(9253),o=r(9359),s=r(6007),a=r(7892),c=r(4575),u=r(9861),l=r(8800),d=r(5682),h=r(7183),f=r(5915),p=r(1398),m=r(7245);class g extends u.BaseMovement{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualBlock]}async execActionForOperator(e,t){const r=await this.execAction(e,t);return r.stop=new p.Position(r.stop.line,r.stop.character+1),r}}t.TextObject=g;let v=class extends g{constructor(){super(...arguments),this.keys=["a","w"]}async execAction(e,t){let r,n;const i=a.TextEditor.getCharAt(t.document,e);return void 0===i?(r=e,n=e.nextWordEnd(t.document)):/\s/.test(i)?(r=e.prevWordEnd(t.document).getRight(),n=e.nextWordEnd(t.document)):(n=e.nextWordStart(t.document),n.isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line))&&(n=n.getLineBegin()),n=n.getLeftThroughLineBreaks().getLeftIfEOL(),r=n.isEqual(e.nextWordEnd(t.document,{inclusive:!0}))&&!e.prevWordStart(t.document,{inclusive:!0}).isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,n.line))&&0===t.recordedState.count?e.prevWordEnd(t.document).getRight():e.prevWordStart(t.document,{inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordStart(t.document,{inclusive:!0}):e.prevWordEnd(t.document).getRight())),{start:r,stop:n}}};t.SelectWord=v,t.SelectWord=v=n([c.RegisterAction],v);let y=class extends g{constructor(){super(...arguments),this.keys=["a","W"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];if(void 0===i)r=e,n=e.nextWordEnd(t.document);else if(/\s/.test(i))r=e.prevWordEnd(t.document,{wordType:m.WordType.Big}).getRight(),n=e.nextWordEnd(t.document,{wordType:m.WordType.Big});else{const i=e.nextWordStart(t.document,{wordType:m.WordType.Big});(i.line>e.line||i.isAtDocumentEnd())&&0===t.recordedState.count?(r=e.prevWordEnd(t.document,{wordType:m.WordType.Big}).isLineBeginning()?e.prevWordEnd(t.document,{wordType:m.WordType.Big}):e.prevWordEnd(t.document,{wordType:m.WordType.Big}).getRight(),n=e.getLineEnd()):(i.isEqual(a.TextEditor.getFirstNonWhitespaceCharOnLine(t.document,i.line))||i.isLineEnd())&&0===t.recordedState.count?(r=e.prevWordEnd(t.document).getRight(),n=e.getLineEnd()):(r=e.prevWordStart(t.document,{wordType:m.WordType.Big,inclusive:!0}),n=e.nextWordStart(t.document,{wordType:m.WordType.Big}).getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordStart(t.document,{wordType:m.WordType.Big}):e.prevWordEnd(t.document,{wordType:m.WordType.Big}).getRight())),{start:r,stop:n}}};t.SelectABigWord=y,t.SelectABigWord=y=n([c.RegisterAction],y);let b=class extends l.ExpandingSelection{constructor(){super(...arguments),this.keys=["a","f"],this.modes=[o.Mode.Visual,o.Mode.VisualLine]}async execAction(e,t,r,n){const s=[new l.MoveAroundDoubleQuotes,new l.MoveAroundSingleQuotes,new l.MoveAroundBacktick,new l.MoveAroundCurlyBrace,new l.MoveAroundParentheses,new l.MoveAroundSquareBracket,new l.MoveAroundTag];let a,c=[];for(const i of s){const o=new p.Position(e.line,e.character),s=new p.Position(t.cursorStartPosition.line,t.cursorStartPosition.character);c.push(await i.execAction(o,t,r,n)),t.cursorStartPosition=s}c=c.filter((e=>!e.failed));for(const e of c){const r=new i.Cursor(t.cursorStartPosition,t.cursorStopPosition);if(e.failed)continue;const n=new i.Cursor(e.start,e.stop);let s;n.start.isBefore(r.start)&&n.stop.isAfter(r.stop)&&(a?n.start.isAfter(a.start)&&n.stop.isBefore(a.stop)&&(s=n):s=n),s&&(s.equals(new i.Cursor(t.cursorStartPosition,t.cursorStopPosition))||t.currentMode===o.Mode.VisualLine&&s.start.line===t.cursorStartPosition.line&&s.stop.line===t.cursorStopPosition.line||(a=s))}return a?(t.cursorStartPosition=new p.Position(a.start.line,a.start.character),t.cursorStopPosition=new p.Position(a.stop.line,a.stop.character),t.recordedState.operatorPositionDiff=void 0,{start:a.start,stop:a.stop}):{start:t.cursorStartPosition,stop:t.cursorStopPosition}}};t.SelectAnExpandingBlock=b,t.SelectAnExpandingBlock=b=n([c.RegisterAction],b);let w=class extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","w"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return void 0===i?(r=e,n=e.nextWordStart(t.document).getLeftThroughLineBreaks()):/\s/.test(i)?(r=e.prevWordEnd(t.document).getRight(),n=e.nextWordStart(t.document).getLeftThroughLineBreaks()):(r=e.prevWordStart(t.document,{inclusive:!0}),n=e.nextWordEnd(t.document,{inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document).getRight():e.prevWordStart(t.document,{inclusive:!0}))),{start:r,stop:n}}};t.SelectInnerWord=w,t.SelectInnerWord=w=n([c.RegisterAction],w);let x=class extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","W"]}async execAction(e,t){let r,n;const i=t.document.lineAt(e).text[e.character];return void 0===i?(r=e,n=e.nextWordStart(t.document).getLeftThroughLineBreaks()):/\s/.test(i)?(r=e.prevWordEnd(t.document,{wordType:m.WordType.Big}).getRight(),n=e.nextWordStart(t.document,{wordType:m.WordType.Big}).getLeft()):(r=e.prevWordStart(t.document,{wordType:m.WordType.Big,inclusive:!0}),n=e.nextWordEnd(t.document,{wordType:m.WordType.Big,inclusive:!0})),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=/\s/.test(i)?e.prevWordEnd(t.document,{wordType:m.WordType.Big}).getRight():e.prevWordStart(t.document,{wordType:m.WordType.Big}))),{start:r,stop:n}}};t.SelectInnerBigWord=x,t.SelectInnerBigWord=x=n([c.RegisterAction],x);let S=class extends g{constructor(){super(...arguments),this.keys=["a","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getSentenceEnd();if(s.isBefore(e))r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getSentenceEnd();else{const e=i.getSentenceBegin({forward:!0});e.isEqual(i.getSentenceEnd())?(r=i.getSentenceBegin({forward:!1}).getSentenceEnd().getRight(),n=e):(r=i,n=e.getLeft())}return t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i.getSentenceBegin({forward:!1}).getSentenceEnd().getRight():i)),{start:r,stop:n}}};t.SelectSentence=S,t.SelectSentence=S=n([c.RegisterAction],S);let M=class extends g{constructor(){super(...arguments),this.keys=["i","s"]}async execAction(e,t){let r,n;const i=e.getSentenceBegin({forward:!1}),s=i.getSentenceEnd();return s.isBefore(e)?(r=s.getRight(),n=i.getSentenceBegin({forward:!0}).getLeft()):(r=i,n=s),t.currentMode!==o.Mode.Visual||t.cursorStopPosition.isEqual(t.cursorStartPosition)||(r=t.cursorStartPosition,t.cursorStopPosition.isBefore(t.cursorStartPosition)&&(n=s.isAfter(t.cursorStopPosition)?i:s.getRight())),{start:r,stop:n}}};t.SelectInnerSentence=M,t.SelectInnerSentence=M=n([c.RegisterAction],M);let C=class extends g{constructor(){super(...arguments),this.keys=["a","p"]}async execAction(e,t){let r;t.currentRegisterMode=s.RegisterMode.LineWise;const n=(0,f.getCurrentParagraphBeginning)(e,!0);r=t.document.lineAt(e).isEmptyOrWhitespace?(0,f.getCurrentParagraphEnd)((0,f.getCurrentParagraphBeginning)(e,!0),!0):n.isLineBeginning()&&n.isLineEnd()?n.getRightThroughLineBreaks():n;let i=(0,f.getCurrentParagraphEnd)(e,!0);for(;i.line<t.document.lineCount-1&&t.document.lineAt(i.getDown()).isEmptyOrWhitespace;)i=i.with({character:0}).getDown();return{start:r,stop:i}}};t.SelectParagraph=C,t.SelectParagraph=C=n([c.RegisterAction],C);let _=class extends g{constructor(){super(...arguments),this.keys=["i","p"]}async execAction(e,t){let r,n;if(t.currentRegisterMode=s.RegisterMode.LineWise,t.document.lineAt(e).isEmptyOrWhitespace){for(r=e.getLineBegin(),n=e.getLineEnd();r.line>0&&t.document.lineAt(r.getUp()).isEmptyOrWhitespace;)r=r.getUp();for(;n.line<t.document.lineCount-1&&t.document.lineAt(n.getDown()).isEmptyOrWhitespace;)n=n.with({character:0}).getDown()}else{const i=(0,f.getCurrentParagraphBeginning)(e,!0);for(n=(0,f.getCurrentParagraphEnd)(e,!0),r=t.document.lineAt(i).isEmptyOrWhitespace?i.getRightThroughLineBreaks():i;n.line>0&&t.document.lineAt(n).isEmptyOrWhitespace;)n=n.getUp().getLineEnd()}return{start:r,stop:n}}};t.SelectInnerParagraph=_,t.SelectInnerParagraph=_=n([c.RegisterAction],_);let P=class extends g{constructor(){super(...arguments),this.keys=["a","e"]}async execAction(e,t){return{start:a.TextEditor.getDocumentBegin(),stop:a.TextEditor.getDocumentEnd(t.document)}}};t.SelectEntire=P,t.SelectEntire=P=n([c.RegisterAction],P);let k=class extends g{constructor(){super(...arguments),this.keys=["i","e"]}async execAction(e,t){let r=a.TextEditor.getDocumentBegin(),n=a.TextEditor.getDocumentEnd(t.document);for(;r.line<n.line&&t.document.lineAt(r).isEmptyOrWhitespace;)r=r.getDown();for(;n.line>r.line&&t.document.lineAt(n).isEmptyOrWhitespace;)n=n.getUp();return n=n.getLineEnd(),{start:r,stop:n}}};t.SelectEntireIgnoringLeadingTrailing=k,t.SelectEntireIgnoringLeadingTrailing=k=n([c.RegisterAction],k);class R extends g{constructor(){super(...arguments),this.setsDesiredColumnToEOL=!0,this.includeLineAbove=!1,this.includeLineBelow=!1}async execAction(e,t){const r=t.recordedState.operator instanceof d.ChangeOperator,n=R.findFirstValidLine(t.document,e),i=t.document.lineAt(n).firstNonWhitespaceCharacterIndex;let s=R.findRangeStartOrEnd(t.document,n,i,-1),c=R.findRangeStartOrEnd(t.document,n,i,1);this.includeLineAbove&&(s-=1),s<0&&(s=0),this.includeLineBelow&&(c+=1),c>t.document.lineCount-1&&(c=t.document.lineCount-1);let u,l=0;return r&&(l=t.document.lineAt(s).firstNonWhitespaceCharacterIndex),c===t.document.lineCount-1||t.currentMode===o.Mode.Visual||t.currentMode===o.Mode.VisualLine?u=a.TextEditor.getLineLength(c):(u=0,c++),{start:new p.Position(s,l),stop:new p.Position(c,u)}}async execActionForOperator(e,t){return this.execAction(e,t)}static findFirstValidLine(e,t){for(let r=t.line;r>=0;r--)if(!e.lineAt(r).isEmptyOrWhitespace)return r;return t.line}static findRangeStartOrEnd(e,t,r,n){let i=t,o=t;const s=1===n?e.lineCount:-1;for(;i!==s;i+=n){const t=e.lineAt(i);if(t.firstNonWhitespaceCharacterIndex<r&&!t.isEmptyOrWhitespace)break;o=i}return o}}let E=class extends R{constructor(){super(...arguments),this.keys=["i","i"],this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock]}};E=n([c.RegisterAction],E);let A=class extends R{constructor(){super(...arguments),this.keys=["a","i"],this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this.includeLineAbove=!0}};A=n([c.RegisterAction],A);let O=class extends R{constructor(){super(...arguments),this.keys=["a","I"],this.modes=[o.Mode.Normal,o.Mode.Visual,o.Mode.VisualLine,o.Mode.VisualBlock],this.includeLineAbove=!0,this.includeLineBelow=!0}};O=n([c.RegisterAction],O);class T extends g{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.selectAround=!1}static openingDelimiterCharacters(){return h.configuration.argumentObjectOpeningDelimiters}static closingDelimiterCharacters(){return h.configuration.argumentObjectClosingDelimiters}static separatorCharacters(){return h.configuration.argumentObjectSeparators}async execAction(e,t){const r=(0,u.failedMovement)(t);let n=e,i=e;const o=a.TextEditor.getCharAt(t.document,e);if(T.separatorCharacters().includes(o)||T.openingDelimiterCharacters().includes(o)?i=e.getRightThroughLineBreaks(!0):T.closingDelimiterCharacters().includes(o)&&(n=e.getLeftThroughLineBreaks(!0)),void 0===L.findLeftArgumentBoundary(t.document,n,!0)||void 0===L.findRightArgumentBoundary(t.document,i,!0))return r;const s=L.findLeftArgumentBoundary(t.document,n);if(void 0===s)return r;const c=L.findRightArgumentBoundary(t.document,i);if(void 0===c)return r;let l,d;if(this.selectAround){const e=T.openingDelimiterCharacters().includes(a.TextEditor.getCharAt(t.document,s)),n=T.closingDelimiterCharacters().includes(a.TextEditor.getCharAt(t.document,c));if(s.getRight().isEqual(c)&&e&&n)return r;if(e&&!n)for(d=c.getRight();/\s/.test(a.TextEditor.getCharAt(t.document,d.getRight()));)d=d.getRight();else d=c.getLeftThroughLineBreaks(!0);l=e?s.getRightThroughLineBreaks(!0):s}else{for(l=s.getRightThroughLineBreaks(!1);/\s/.test(a.TextEditor.getCharAt(t.document,l));)l=l.getRightThroughLineBreaks(!1);for(d=c.getLeftThroughLineBreaks(!1);/\s/.test(a.TextEditor.getCharAt(t.document,d));)d=d.getLeftThroughLineBreaks(!1);d.isBeforeOrEqual(l)&&(l=s.getRightThroughLineBreaks(!0),d=c.getLeftThroughLineBreaks(!0))}return e.isBefore(l)&&(t.recordedState.operatorPositionDiff=l.subtract(e)),t.cursorStartPosition=l,{start:l,stop:d}}static findLeftArgumentBoundary(e,t,r=!1){let n,i=t,o=0;for(;;){const t=a.TextEditor.getCharAt(e,i);if(0===o){let e=T.openingDelimiterCharacters().includes(t);if(r||(e||=T.separatorCharacters().includes(t)),e){n=i;break}}if(T.closingDelimiterCharacters().includes(t)&&o++,T.openingDelimiterCharacters().includes(t)&&o--,i.isAtDocumentBegin())break;i=i.getLeftThroughLineBreaks(!0)}return n}static findRightArgumentBoundary(e,t,r=!1){let n,i=t,o=0;for(;;){const t=a.TextEditor.getCharAt(e,i);if(0===o){let e=T.closingDelimiterCharacters().includes(t);if(r||(e||=T.separatorCharacters().includes(t)),e){n=i;break}}if(T.openingDelimiterCharacters().includes(t)&&o++,T.closingDelimiterCharacters().includes(t)&&o--,i.isAtDocumentEnd())break;i=i.getRightThroughLineBreaks(!0)}return n}}let L=class extends T{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["i","a"]}};t.SelectInnerArgument=L,t.SelectInnerArgument=L=n([c.RegisterAction],L);let B=class extends T{constructor(){super(...arguments),this.modes=[o.Mode.Normal,o.Mode.Visual],this.keys=["a","a"],this.selectAround=!0}};t.SelectAroundArgument=B,t.SelectAroundArgument=B=n([c.RegisterAction],B)},6153:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllPositions=function(e,t){const r=[];let n=t.exec(e);for(;n;)r.push(n.index),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r},t.getAllEndPositions=function(e,t){const r=[];let n=t.exec(e);for(;n;)n[0].length&&r.push(n.index+n[0].length-1),n.index===t.lastIndex&&t.lastIndex++,n=t.exec(e);return r}},7245:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.WordType=void 0,t.getWordLeftInText=function(e,t,r){return m(e,t,r)},t.getWordRightInText=function(e,t,r){return(0,l.getAllPositions)(e,p(r)).find((e=>e>t))},t.prevWordStart=function(e,t,r,n=!1){for(let i=t.line;i>=0;i--){const o=m(e.lineAt(i).text,t.character,r,i!==t.line,n);if(void 0!==o)return new c.Position(i,o)}return new c.Position(0,0)},t.nextWordStart=function(e,t,r,n=!1){for(let i=t.line;i<e.lineCount;i++){const o=(0,l.getAllPositions)(e.lineAt(i).text,p(r)).find((e=>e>t.character&&!n||e>=t.character&&n||i!==t.line));if(void 0!==o)return new c.Position(i,o)}return new c.Position(e.lineCount-1,0).getLineEnd()},t.nextWordEnd=function(e,t,r,n=!1){for(let i=t.line;i<e.lineCount;i++){const o=(0,l.getAllEndPositions)(e.lineAt(i).text,p(r)).find((e=>e>t.character&&!n||e>=t.character&&n||i!==t.line));if(void 0!==o)return new c.Position(i,o)}return new c.Position(e.lineCount-1,0).getLineEnd()},t.prevWordEnd=function(e,t,r){for(let n=t.line;n>-1;n--){let i=(0,l.getAllEndPositions)(e.lineAt(n).text,p(r));0===i.length&&i.push(0),i=i.reverse();const o=i.findIndex((e=>e<t.character||n!==t.line));let s=0;if(-1===o){if(n>-1)continue;s=i[i.length-1]}else s=i[o];if(void 0!==s)return new c.Position(n,s)}return new c.Position(0,0)};const a=s(r(2543)),c=r(1398),u=r(7183),l=r(6153);var d;!function(e){e[e.Normal=0]="Normal",e[e.Big=1]="Big",e[e.CamelCase=2]="CamelCase",e[e.FileName=3]="FileName"}(d||(t.WordType=d={}));const h=g(""),f=g("\"'`;<>{}[]()");function p(e){switch(e){case d.Normal:return function(e){let t;!function(e){e[e.Punctuation=0]="Punctuation",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript",e[e.Braille=3]="Braille",e[e.Ideograph=4]="Ideograph",e[e.Hiragana=5]="Hiragana",e[e.Katakana=6]="Katakana",e[e.Hangul=7]="Hangul"}(t||(t={}));const r=[[[161,191],t.Punctuation],[[894,894],t.Punctuation],[[903,903],t.Punctuation],[[1370,1375],t.Punctuation],[[1417,1417],t.Punctuation],[[1470,1470],t.Punctuation],[[1472,1472],t.Punctuation],[[1475,1475],t.Punctuation],[[1523,1524],t.Punctuation],[[1548,1548],t.Punctuation],[[1563,1563],t.Punctuation],[[1567,1567],t.Punctuation],[[1642,1645],t.Punctuation],[[1748,1748],t.Punctuation],[[1792,1805],t.Punctuation],[[2404,2405],t.Punctuation],[[2416,2416],t.Punctuation],[[3572,3572],t.Punctuation],[[3663,3663],t.Punctuation],[[3674,3675],t.Punctuation],[[3844,3858],t.Punctuation],[[3898,3901],t.Punctuation],[[3973,3973],t.Punctuation],[[4170,4175],t.Punctuation],[[4347,4347],t.Punctuation],[[4961,4968],t.Punctuation],[[5741,5742],t.Punctuation],[[5787,5788],t.Punctuation],[[5867,5869],t.Punctuation],[[5941,5942],t.Punctuation],[[6100,6108],t.Punctuation],[[6144,6154],t.Punctuation],[[8204,8231],t.Punctuation],[[8234,8238],t.Punctuation],[[8240,8286],t.Punctuation],[[8288,10239],t.Punctuation],[[8304,8319],t.Superscript],[[8320,8340],t.Subscript],[[8352,10239],t.Punctuation],[[10240,10495],t.Braille],[[10496,10648],t.Punctuation],[[10712,10715],t.Punctuation],[[10748,10749],t.Punctuation],[[11776,11903],t.Punctuation],[[12289,12320],t.Punctuation],[[12336,12336],t.Punctuation],[[12349,12349],t.Punctuation],[[12352,12447],t.Hiragana],[[12448,12543],t.Katakana],[[13056,40959],t.Ideograph],[[44032,55203],t.Hangul],[[63744,64255],t.Ideograph],[[64830,64831],t.Punctuation],[[65072,65131],t.Punctuation],[[65280,65295],t.Punctuation],[[65306,65312],t.Punctuation],[[65339,65344],t.Punctuation],[[65371,65381],t.Punctuation],[[131072,173791],t.Ideograph],[[173824,177983],t.Ideograph],[[177984,178207],t.Ideograph],[[194560,195103],t.Ideograph]],n=[];for(const e in t)isNaN(Number(e))||(n[e]=[]);for(const[[e,t],i]of r)e===t?n[i].push(`\\u{${e.toString(16)}}`):n[i].push(`\\u{${e.toString(16)}}-\\u{${t.toString(16)}}`);const i=a.escapeRegExp(e).replace(/-/g,"\\-");n[Number(t.Punctuation)].push(i);const o=n.map((e=>e.join(""))),s=o.map((e=>`([${e}]+)`)),c=`([^\\s${o.join("")}]+)`,u=s.concat(c,"$^");return new RegExp(u.join("|"),"ug")}(u.configuration.iskeyword);case d.Big:return h;case d.CamelCase:return function(e){const t=e&&a.escapeRegExp(e).replace(/-/g,"\\-"),r=[];let n=!0;try{new RegExp("(?<=x)")}catch{n=!1}const i=`([^\\s${t}_](?:(?:`+(n?"(?<=[A-Z_])":"")+`[A-Z](?=[\\sA-Z0-9${t}_]))+|(?:`+(n?"(?<=[0-9_])":"")+`[0-9](?=[\\sA-Z0-9${t}_]))+|(?:`+(n?"(?<=[_])":"")+`[_](?=[\\s${t}_]))+|`+`[^\\sA-Z0-9${t}_]*))`;return r.push(i),r.push(`[${t}]+`),r.push("$^"),new RegExp(r.join("|"),"g")}(u.configuration.iskeyword);case d.FileName:return f}}function m(e,t,r,n=!1,i=!1){return(0,l.getAllPositions)(e,p(r)).reverse().find((e=>e<t&&!i||e<=t&&i||n))}function g(e){const t=e&&a.escapeRegExp(e).replace(/-/g,"\\-");return new RegExp([`([^\\s${t}]+)`,`[${t}]+`,"$^"].join("|"),"g")}},5870:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.executeTransformations=async function e(t,r){if(0===r.length)return;const n=t.vimState,i=r.filter((e=>(0,y.isTextTransformation)(e))),o=r.filter((e=>(0,y.isMultiCursorTextTransformation)(e))),s=r.filter((e=>!(0,y.isTextTransformation)(e)&&!(0,y.isMultiCursorTextTransformation)(e))),x={},S=(e,t)=>{switch(e.type){case"insertText":t.insert(e.position,e.text);break;case"replaceText":t.replace(e.range,e.text);break;case"deleteRange":t.delete(e.range);break;case"moveCursor":break;default:g.Logger.warn(`Unhandled text transformation type: ${e.type}.`)}if(e.diff){if(void 0===e.cursorIndex)throw new Error("No cursor index - this should never ever happen!");x[e.cursorIndex]||(x[e.cursorIndex]=[]),x[e.cursorIndex].push(e.diff)}};if(i.length>0){const e=(0,y.overlappingTransformations)(i);if(void 0!==e){const t=`Transformations overlapping: ${JSON.stringify(e)}`;if(g.Logger.warn(t),l.Globals.isTesting)throw new Error(t);for(const e of i)await n.editor.edit((t=>S(e,t)))}else try{await n.editor.edit((e=>{for(const t of i)S(t,e)}))}catch(e){if("DISPOSED"!==e.name)throw e}}if(o.length>0)if((0,y.areAllSameTransformation)(o)){const{text:e}=o[0];await m.TextEditor.insert(n.editor,e)}else g.Logger.warn("Unhandled multicursor transformations. Not all transformations are the same!");for(const r of s)switch(r.type){case"insertTextVSCode":await m.TextEditor.insert(n.editor,r.text),n.cursors[0]=u.Cursor.FromVSCodeSelection(n.editor.selection);break;case"replayRecordedState":await t.rerunRecordedState(r);break;case"macro":const i=(await h.Register.get(r.register))?.text;if(!i)return;if("string"==typeof i){const e=v.keystrokesExpressionForMacroParser.parse(i);if(!e.status)throw new Error(`Failed to execute macro: ${i}`);if(n.isReplayingMacro=!0,n.recordedState=new p.RecordedState,await t.handleMultipleKeyEvents(e.value),n.recordedState.registerName=r.register,f.globalState.lastInvokedMacro=n.recordedState,n.isReplayingMacro=!1,t.lastMovementFailed)return void(t.lastMovementFailed=!1)}else{if(n.isReplayingMacro=!0,n.recordedState=new p.RecordedState,":"===r.register)await new c.ExCommandLine(i.commandString,n.currentMode).run(n);else if("contentChange"===r.replay)await t.runMacro(i);else{let e=[];for(const t of i.actionsRun)e=e.concat(t.keysPressed);await t.handleMultipleKeyEvents(e)}for(const e of n.recordedState.transformer.transformations)(0,y.isTextTransformation)(e)&&void 0===e.cursorIndex&&(e.cursorIndex=0);if(await e(t,n.recordedState.transformer.transformations),f.globalState.lastInvokedMacro=i,n.isReplayingMacro=!1,t.lastMovementFailed)return void(t.lastMovementFailed=!1)}break;case"contentChange":for(const e of r.changes)await m.TextEditor.insert(n.editor,e.text),n.cursorStopPosition=n.editor.selection.start;const o=n.cursorStopPosition.add(n.document,r.diff);n.editor.selection=new a.Selection(o,o);break;case"executeNormal":await w(t,r);break;case"vscodeCommand":await a.commands.executeCommand(r.command,...r.args);break;default:g.Logger.warn(`Unhandled text transformation type: ${r.type}.`)}let M;M=n.currentMode===d.Mode.Insert?n.editor.selections:n.editor.selections.map((e=>{let t=u.Cursor.FromVSCodeSelection(e);return t.start.isBefore(t.stop)&&(t=t.withNewStop(t.stop.getLeftThroughLineBreaks(!0))),new a.Selection(t.start,t.stop)}));const C=r[0],_=("deleteRange"===C.type||"replaceText"===C.type||"insertText"===C.type)&&C.manuallySetCursorPositions;if(n.currentMode===d.Mode.VisualBlock||_){if(x[0]?.length>0){const e=x[0][0];n.cursorStopPosition=n.cursorStopPosition.add(n.document,e),n.cursorStartPosition=n.cursorStartPosition.add(n.document,e)}}else n.cursors=M.map(((e,t)=>{const r=x[t]??[];return n.recordedState.operatorPositionDiff&&r.push(n.recordedState.operatorPositionDiff),r.reduce(((e,t)=>new u.Cursor(e.start.add(n.document,t),e.stop.add(n.document,t))),u.Cursor.FromVSCodeSelection(e))})),n.recordedState.operatorPositionDiff=void 0;n.recordedState.transformer=new b.Transformer};const a=s(r(1398)),c=r(2249),u=r(9253),l=r(8424),d=r(9359),h=r(6007),f=r(5414),p=r(7371),m=r(7892),g=r(3501),v=r(2140),y=r(4735),b=r(9194),w=async(e,t)=>{const r=e.vimState,{keystrokes:n,range:i}=t,o=v.keystrokesExpressionParser.parse(n);if(!o.status)throw new Error(`Failed to execute normal command: ${n}`);const s=[];if(i){const{start:e,end:t}=i.resolve(r);for(let r=e;r<=t;r++)s.push(r)}else{const e=r.editor.selections;for(const t of e){const{start:e,end:r}=t;for(let t=e.line;t<=r.line;t++)s.push(t)}}r.normalCommandState=d.NormalCommandState.Executing,r.recordedState=new p.RecordedState,await r.setCurrentMode(d.Mode.Normal);for(const t of s)i&&(r.cursorStopPosition=r.cursorStartPosition=m.TextEditor.getFirstNonWhitespaceCharOnLine(r.document,t)),await e.handleMultipleKeyEvents(o.value),r.currentMode===d.Mode.Insert&&await e.handleKeyEvent("<Esc>");r.normalCommandState=d.NormalCommandState.Finished}},4735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areAllSameTransformation=t.isMultiCursorTextTransformation=t.isTextTransformation=void 0,t.overlappingTransformations=function(e){for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++){const n=e[t],o=e[r],s=i(n),a=i(o);if(!s||!a)continue;const c=s.intersection(a);if(c&&!c.start.isEqual(c.end))return[n,o]}},t.stringify=function(e){return"replayRecordedState"===e.type?`Replay: ${e.recordedState.actionsRun.map((e=>e.keysPressed.join(""))).join("")}`:JSON.stringify(e)};const n=r(1398);t.isTextTransformation=e=>"insertText"===e.type||"replaceText"===e.type||"deleteRange"===e.type||"moveCursor"===e.type,t.isMultiCursorTextTransformation=e=>("insertTextVSCode"===e.type&&e.isMultiCursor)??!1;const i=e=>{switch(e.type){case"insertText":return new n.Range(e.position,e.position.advancePositionByText(e.text));case"replaceText":case"deleteRange":return e.range;case"moveCursor":return}throw new Error("Unhandled text transformation: "+e)};t.areAllSameTransformation=e=>{const t=e[0];return e.every((e=>Object.entries(e).every((([e,r])=>t[e]===r))))}},9194:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transformer=void 0;const n=r(3501),i=r(4735);t.Transformer=class{constructor(){this.transformations=[]}addTransformation(e){n.Logger.debug(`Adding Transformation ${(0,i.stringify)(e)}`),this.transformations.push(e)}insert(e,t,r){this.addTransformation({type:"insertText",position:e,text:t,diff:r})}delete(e,t){this.addTransformation({type:"deleteRange",range:e,diff:t})}replace(e,t,r){this.addTransformation({type:"replaceText",range:e,text:t,diff:r})}moveCursor(e,t){this.addTransformation({type:"moveCursor",diff:e,cursorIndex:t})}vscodeCommand(e,...t){this.addTransformation({type:"vscodeCommand",command:e,args:t})}}},7097:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.exec=function(e,t){return(0,c.promisify)(a.exec)(e,t)};const a=s(r(5317)),c=r(9023)},4991:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.Clipboard=void 0;const a=s(r(1398)),c=r(3501);t.Clipboard=class{static async Copy(e){try{await a.env.clipboard.writeText(e)}catch(e){c.Logger.error(`Error copying to clipboard. err=${e}`)}}static async Paste(){return a.env.clipboard.readText()}}},1402:(e,t)=>{"use strict";function r(e){return(e.isEmpty||e.end.isLineBeginning())&&e.start.isLineEnd()?{range:e.with(void 0,e.start),renderOptions:{after:{color:"transparent",contentText:"$"}}}:e.isEmpty?{range:e.with(void 0,e.end.translate(0,1))}:{range:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureVisible=r,t.formatDecorationText=function(e,t,r="⏎"){return`​${e.replace(/ /g," ").replace(/\t/g," ".repeat(t)).replace(/\r\n|[\r\n]/g,r)}​`},t.getDecorationsForSearchMatchRanges=function(e,t){const n=[],i=[];for(let o=0;o<e.length;o++)(o===t?i:n).push(r(e[o]));return{searchHighlight:n,searchMatch:i}}},6685:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.externalCommand=void 0;const a=r(7183),c=r(4546);t.externalCommand=new class{expandCommand(e){const t=[];for(let r=0;r<e.length;r++)if("!"===e[r])if(r>0&&"\\"===e[r-1])t.pop(),t.push("!");else{if(!this.previousExternalCommand)throw c.VimError.fromCode(c.ErrorCode.NoPreviousCommand);t.push(this.previousExternalCommand)}else t.push(e[r]);return t.join("")}async execute(e,t){const n=[],i={shell:a.configuration.shell||void 0};try{const o=(0,(await Promise.resolve().then((()=>s(r(7097))))).exec)(e,i),a=o.child;null!==a.stdin&&(a.stdin.on("error",(()=>{})),a.stdin.write(t),a.stdin.end()),null!==a.stdout&&a.stdout.on("data",(e=>n.push(e))),null!==a.stderr&&a.stderr.on("data",(e=>n.push(e))),await o}catch(e){}return n.join("")}async run(e,t=""){e=this.expandCommand(e),this.previousExternalCommand=e,e+=" 2>&1";let r=await this.execute(e,t);return r.endsWith("\r\n")?r=r.slice(0,-2):r.endsWith("\n")&&(r=r.slice(0,-1)),r}}},3501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const n=r(1398);class i{static init(){i.output=n.window.createOutputChannel("Vim",{log:!0})}static error(e){i.output.error(e)}static warn(e){i.output.warn(e)}static info(e){i.output.info(e)}static debug(e){i.output.debug(e)}static trace(e){i.output.trace(e)}}t.Logger=i},6710:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.separatePath=l,t.getPathDetails=function(e,t,r){let n;n="untitled"===t.scheme?c===c.win32&&!r:"file"===t.scheme&&"/"!==t.fsPath[0];const i=n?c.win32:c.posix;n&&(e=e.replace(/\//g,"\\"));const o=e;("file"===t.scheme||"untitled"===t.scheme&&!r)&&(e=u(e));const[s,a]=l(e,i.sep);let d;return d=i.isAbsolute(s)?s:i.join(l(n?t.fsPath:t.path,i.sep)[0],s),{fullPath:i.join(d,a),fullDirPath:d,dirName:s,baseName:a,partialPath:o,path:i}},t.resolveUri=d,t.readDirectory=async function(e,t,r,n,i){try{const o=d(e,t,r,n);return null===o?[]:(await a.workspace.fs.readDirectory(o)).map((e=>e[0]+(e[1]===a.FileType.Directory?t:""))).concat(i?[`.${t}`,`..${t}`]:[])}catch{return[]}},t.join=function(...e){return c.join(...e)};const a=s(r(1398)),c=s(r(6928)),u=r(7697);function l(e,t){if(t===c.win32.sep&&e[0]===t&&e[1]===t&&-1===e.indexOf(t,2))return[e,""];const r=e.lastIndexOf(t)+1,n=e.slice(r);return[e.slice(0,r),n]}function d(e,t,r,n){const i=t===c.win32.sep;if(i&&!/^(\\\\.+\\)|([a-zA-Z]:\\)/.test(e))return null;if(!i&&e[0]!==t)return null;const o=!n&&"untitled"===r.scheme;return i?a.Uri.file(e):r.with({scheme:o?"file":r.scheme,path:e})}},9586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SpecialKeys=void 0,function(e){e.ExtensionEnable="<ExtensionEnable>",e.ExtensionDisable="<ExtensionDisable>",e.TimeoutFinished="<TimeoutFinished>"}(r||(t.SpecialKeys=r={}))},384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeCSSIcons=function(e){return e.replace(/\\?\$\([A-Za-z0-9\-]+(?:~[A-Za-z]+)?\)/g,"\\$&")},t.reportLinesChanged=function(e,t){e>o.configuration.report?i.StatusBar.setText(t,`${e} more lines`):-e>o.configuration.report?i.StatusBar.setText(t,`${Math.abs(e)} fewer lines`):i.StatusBar.clear(t)},t.reportLinesYanked=function(e,t){e>o.configuration.report?t.currentMode===n.Mode.VisualBlock?i.StatusBar.setText(t,`block of ${e} lines yanked`):i.StatusBar.setText(t,`${e} lines yanked`):i.StatusBar.clear(t)},t.reportFileInfo=function(e,t){const r=t.document,n=r.isUntitled?"[No Name]":r.fileName,o=r.isDirty?" [Modified]":"";if(1===r.lineCount&&0===r.lineAt(0).text.length)i.StatusBar.setText(t,`"${n}"${o} --No lines in buffer--`);else{const s=Math.floor((e.line+1)/r.lineCount*100);i.StatusBar.setText(t,`"${n}"${o} ${r.lineCount} line${r.lineCount>1?"s":""} --${s}%--`)}},t.reportSearch=function(e,t,r){i.StatusBar.setText(r,`match ${e+1} of ${t}`)};const n=r(9359),i=r(6275),o=r(7183)},8469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCursorsAfterSync=function(e){return e.selections.map((e=>n.Cursor.FromVSCodeSelection(e)))},t.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)},t.scrollView=function(e,t){0!==t&&e.postponedCodeViewChanges.push({command:"editorScroll",args:{to:t>0?"up":"down",by:"line",value:Math.abs(t),revealCursor:!1,select:!1}})},t.assertDefined=function(e,t){if(void 0===e)throw new Error(t)},t.isHighSurrogate=function(e){return 55296<=e&&e<=56319},t.isLowSurrogate=function(e){return 56320<=e&&e<=57343};const n=r(9253)},9364:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(n=function(e){return n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t},n(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),s=0;s<r.length;s++)"default"!==r[s]&&i(t,e,r[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeContext=void 0;const a=s(r(1398)),c=r(3501);class u{static async set(e,t){this.get(e)!==t&&(c.Logger.trace(`Setting key='${e}' to value='${t}'`),this.cache.set(e,t),await a.commands.executeCommand("setContext",e,t))}static get(e){return this.cache.get(e)}}t.VSCodeContext=u,u.cache=new Map},2882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExCommand=void 0;const n=r(4546);t.ExCommand=class{constructor(){this.isRepeatableWithDot=!0}neovimCapable(){return!1}async executeWithRange(e,t){throw n.VimError.fromCode(n.ErrorCode.NoRangeAllowed)}}},2821:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exCommandParser=t.commandNameParser=t.NoOpCommand=t.builtinExCommands=void 0;const n=r(9218),i=r(9750),o=r(135),s=r(161),a=r(7992),c=r(6593),u=r(3816),l=r(750),d=r(1512),h=r(7475),f=r(1883),p=r(1316),m=r(7254),g=r(4644),v=r(3101),y=r(5864),b=r(1277),w=r(8331),x=r(474),S=r(48),M=r(9478),C=r(8246),_=r(7407),P=r(5698),k=r(1708),R=r(866),E=r(65),A=r(2029),O=r(6252),T=r(2613),L=r(3349),B=r(7142),$=r(7161),I=r(2177),j=r(2393),N=r(953),D=r(9490),V=r(2685),F=r(931),W=r(6959),U=r(4265),q=r(7394),K=r(789),H=r(4329),z=r(7708),G=r(4546),Q=r(6275),J=r(2882),Y=r(9787),Z=r(2140),X=r(6232),ee=r(1043);t.builtinExCommands=[[["",""],(0,n.succeed)(new g.GotoLineCommand)],[["!",""],o.BangCommand.argParser],[["#",""],P.PrintCommand.argParser({printNumbers:!0,printText:!0})],[["#!",""],n.all.map((e=>new re))],[["&",""],void 0],[["*",""],void 0],[["<",""],$.ShiftCommand.argParser("<")],[["=",""],P.PrintCommand.argParser({printNumbers:!0,printText:!1})],[[">",""],$.ShiftCommand.argParser(">")],[["@",""],void 0],[["@@",""],void 0],[["N","ext"],void 0],[["a","ppend"],void 0],[["ab","breviate"],void 0],[["abc","lear"],void 0],[["abo","veleft"],void 0],[["al","l"],void 0],[["am","enu"],void 0],[["an","oremenu"],void 0],[["ar","gs"],void 0],[["arga","dd"],void 0],[["argd","elete"],void 0],[["argdo",""],void 0],[["arge","dit"],void 0],[["argg","lobal"],void 0],[["argl","ocal"],void 0],[["argu","ment"],void 0],[["as","cii"],(0,n.succeed)(new i.AsciiCommand)],[["au","tocmd"],void 0],[["aug","roup"],void 0],[["aun","menu"],void 0],[["b","uffer"],D.TabCommand.argParsers.buffer],[["bN","ext"],D.TabCommand.argParsers.bprev],[["ba","ll"],void 0],[["bad","d"],void 0],[["balt",""],void 0],[["bd","elete"],a.BufferDeleteCommand.argParser],[["be","have"],void 0],[["bel","owright"],void 0],[["bf","irst"],D.TabCommand.argParsers.bfirst],[["bl","ast"],D.TabCommand.argParsers.blast],[["bm","odified"],void 0],[["bn","ext"],D.TabCommand.argParsers.bnext],[["bo","tright"],void 0],[["bp","revious"],D.TabCommand.argParsers.bprev],[["br","ewind"],D.TabCommand.argParsers.bfirst],[["brea","k"],void 0],[["breaka","dd"],s.Breakpoints.argParsers.add],[["breakd","el"],s.Breakpoints.argParsers.del],[["breakl","ist"],s.Breakpoints.argParsers.list],[["bro","wse"],void 0],[["bufdo",""],void 0],[["buffers",""],void 0],[["bun","load"],void 0],[["bw","ipeout"],void 0],[["c","hange"],void 0],[["cN","ext"],void 0],[["cNf","ile"],void 0],[["ca","bbrev"],void 0],[["cabc","lear"],void 0],[["cabo","ve"],void 0],[["cad","dbuffer"],void 0],[["cadde","xpr"],void 0],[["caddf","ile"],void 0],[["caf","ter"],void 0],[["cal","l"],ee.CallCommand.argParser],[["cat","ch"],void 0],[["cb","uffer"],void 0],[["cbef","ore"],void 0],[["cbel","ow"],void 0],[["cbo","ttom"],void 0],[["cc",""],void 0],[["ccl","ose"],(0,n.succeed)(new W.VsCodeCommand("workbench.action.closePanel"))],[["cd",""],void 0],[["cdo",""],void 0],[["ce","nter"],b.CenterCommand.argParser],[["cex","pr"],void 0],[["cf","ile"],void 0],[["cfd","o"],void 0],[["cfir","st"],void 0],[["cg","etfile"],void 0],[["cgetb","uffer"],void 0],[["cgete","xpr"],void 0],[["changes",""],void 0],[["chd","ir"],void 0],[["che","ckpath"],void 0],[["checkh","ealth"],void 0],[["checkt","ime"],void 0],[["chi","story"],void 0],[["cl","ist"],void 0],[["cla","st"],void 0],[["cle","arjumps"],(0,n.succeed)(new y.ClearJumpsCommand)],[["clo","se"],c.CloseCommand.argParser],[["cm","ap"],void 0],[["cmapc","lear"],void 0],[["cme","nu"],void 0],[["cn","ext"],(0,n.succeed)(new W.VsCodeCommand("editor.action.marker.nextInFiles"))],[["cnew","er"],void 0],[["cnf","ile"],(0,n.succeed)(new W.VsCodeCommand("editor.action.marker.nextInFiles"))],[["cno","remap"],void 0],[["cnorea","bbrev"],void 0],[["cnoreme","nu"],void 0],[["co","py"],u.CopyCommand.argParser],[["col","der"],void 0],[["colo","rscheme"],void 0],[["com","mand"],void 0],[["comc","lear"],void 0],[["comp","iler"],void 0],[["con","tinue"],void 0],[["conf","irm"],void 0],[["cons","t"],X.LetCommand.argParser(!0)],[["cope","n"],(0,n.succeed)(new W.VsCodeCommand("workbench.panel.markers.view.focus"))],[["cp","revious"],(0,n.succeed)(new W.VsCodeCommand("editor.action.marker.prevInFiles"))],[["cpf","ile"],(0,n.succeed)(new W.VsCodeCommand("editor.action.marker.prevInFiles"))],[["cq","uit"],void 0],[["cr","ewind"],void 0],[["cs","cope"],void 0],[["cst","ag"],void 0],[["cu","nmap"],void 0],[["cuna","bbrev"],void 0],[["cunme","nu"],void 0],[["cw","indow"],(0,n.succeed)(new W.VsCodeCommand("workbench.panel.markers.view.focus"))],[["d","elete"],l.DeleteCommand.argParser],[["deb","ug"],void 0],[["debugg","reedy"],void 0],[["delc","ommand"],void 0],[["delf","unction"],void 0],[["delm","arks"],w.DeleteMarksCommand.argParser],[["di","splay"],O.RegisterCommand.argParser],[["dif","fupdate"],void 0],[["diffg","et"],void 0],[["diffo","ff"],void 0],[["diffp","atch"],void 0],[["diffpu","t"],void 0],[["diffs","plit"],void 0],[["diffthis",""],void 0],[["dig","raphs"],d.DigraphsCommand.argParser],[["dj","ump"],void 0],[["dl",""],void 0],[["dli","st"],void 0],[["do","autocmd"],void 0],[["doautoa","ll"],void 0],[["dr","op"],void 0],[["ds","earch"],void 0],[["dsp","lit"],void 0],[["e","dit"],h.FileCommand.argParsers.edit],[["ea","rlier"],void 0],[["ec","ho"],p.EchoCommand.argParser({sep:" ",error:!1})],[["echoe","rr"],p.EchoCommand.argParser({sep:" ",error:!0})],[["echoh","l"],void 0],[["echom","sg"],void 0],[["echon",""],p.EchoCommand.argParser({sep:"",error:!1})],[["el","se"],void 0],[["elsei","f"],void 0],[["em","enu"],void 0],[["en","dif"],void 0],[["endf","unction"],void 0],[["endfo","r"],void 0],[["endt","ry"],void 0],[["endw","hile"],void 0],[["ene","w"],h.FileCommand.argParsers.enew],[["ev","al"],ee.EvalCommand.argParser],[["ex",""],h.FileCommand.argParsers.edit],[["exe","cute"],void 0],[["exi","t"],K.WriteQuitCommand.argParser],[["Ex","plore"],(0,n.succeed)(new x.ExploreCommand)],[["exu","sage"],void 0],[["f","ile"],f.FileInfoCommand.argParser],[["files",""],void 0],[["filet","ype"],void 0],[["filt","er"],void 0],[["fin","d"],void 0],[["fina","lly"],void 0],[["fini","sh"],void 0],[["fir","st"],void 0],[["fo","ld"],void 0],[["foldc","lose"],void 0],[["foldd","oopen"],void 0],[["folddoc","losed"],void 0],[["foldo","pen"],void 0],[["for",""],void 0],[["fu","nction"],void 0],[["g","lobal"],void 0],[["go","to"],m.GotoCommand.argParser],[["gr","ep"],void 0],[["grepa","dd"],void 0],[["gu","i"],void 0],[["gv","im"],void 0],[["h","elp"],void 0],[["ha","rdcopy"],void 0],[["helpc","lose"],void 0],[["helpg","rep"],void 0],[["helpt","ags"],void 0],[["hi","ghlight"],void 0],[["hid","e"],void 0],[["his","tory"],v.HistoryCommand.argParser],[["i","nsert"],void 0],[["ia","bbrev"],void 0],[["iabc","lear"],void 0],[["if",""],void 0],[["ij","ump"],void 0],[["il","ist"],void 0],[["im","ap"],void 0],[["imapc","lear"],void 0],[["ime","nu"],void 0],[["ino","remap"],void 0],[["inorea","bbrev"],void 0],[["inoreme","nu"],void 0],[["int","ro"],void 0],[["is","earch"],void 0],[["isp","lit"],void 0],[["iu","nmap"],void 0],[["iuna","bbrev"],void 0],[["iunme","nu"],void 0],[["j","oin"],void 0],[["ju","mps"],(0,n.succeed)(new y.JumpsCommand)],[["k",""],void 0],[["kee","pmarks"],void 0],[["keepa","lt"],void 0],[["keepj","umps"],void 0],[["keepp","atterns"],void 0],[["l","ist"],P.PrintCommand.argParser({printNumbers:!1,printText:!0})],[["lN","ext"],void 0],[["lNf","ile"],void 0],[["la","st"],void 0],[["lab","ove"],void 0],[["lad","dexpr"],void 0],[["laddb","uffer"],void 0],[["laddf","ile"],void 0],[["laf","ter"],void 0],[["lan","guage"],void 0],[["lat","er"],void 0],[["lb","uffer"],void 0],[["lbef","ore"],void 0],[["lbel","ow"],void 0],[["lbo","ttom"],void 0],[["lc","d"],void 0],[["lch","dir"],void 0],[["lcl","ose"],(0,n.succeed)(new W.VsCodeCommand("workbench.action.closePanel"))],[["lcs","cope"],void 0],[["ld","o"],void 0],[["le","ft"],b.LeftCommand.argParser],[["lefta","bove"],void 0],[["let",""],X.LetCommand.argParser(!1)],[["lex","pr"],void 0],[["lf","ile"],void 0],[["lfd","o"],void 0],[["lfir","st"],void 0],[["lg","etfile"],void 0],[["lgetb","uffer"],void 0],[["lgete","xpr"],void 0],[["lgr","ep"],void 0],[["lgrepa","dd"],void 0],[["lh","elpgrep"],void 0],[["lhi","story"],void 0],[["ll",""],void 0],[["lla","st"],void 0],[["lli","st"],void 0],[["lm","ap"],void 0],[["lmak","e"],void 0],[["lmapc","lear"],void 0],[["ln","oremap"],void 0],[["lne","xt"],(0,n.succeed)(new W.VsCodeCommand("editor.action.nextCommentThreadAction"))],[["lnew","er"],void 0],[["lnf","ile"],void 0],[["lo","adview"],void 0],[["loadk","eymap"],void 0],[["loc","kmarks"],void 0],[["lockv","ar"],void 0],[["lol","der"],void 0],[["lope","n"],(0,n.succeed)(new W.VsCodeCommand("workbench.action.focusCommentsPanel"))],[["lp","revious"],(0,n.succeed)(new W.VsCodeCommand("editor.action.previousCommentThreadAction"))],[["lpf","ile"],void 0],[["lr","ewind"],void 0],[["ls",""],(0,n.succeed)(new W.VsCodeCommand("workbench.action.quickOpenLeastRecentlyUsedEditorInGroup"))],[["lt","ag"],void 0],[["lu","nmap"],void 0],[["lua",""],void 0],[["luad","o"],void 0],[["luaf","ile"],void 0],[["lv","imgrep"],void 0],[["lvimgrepa","dd"],void 0],[["lw","indow"],(0,n.succeed)(new W.VsCodeCommand("workbench.action.focusCommentsPanel"))],[["m","ove"],S.MoveCommand.argParser],[["ma","rk"],void 0],[["mak","e"],void 0],[["map",""],void 0],[["mapc","lear"],void 0],[["marks",""],w.MarksCommand.argParser],[["mat","ch"],void 0],[["me","nu"],void 0],[["menut","ranslate"],void 0],[["mes","sages"],void 0],[["mk","exrc"],void 0],[["mks","ession"],void 0],[["mksp","ell"],void 0],[["mkv","imrc"],void 0],[["mkvie","w"],void 0],[["mod","e"],void 0],[["n","ext"],void 0],[["new",""],h.FileCommand.argParsers.new],[["nm","ap"],void 0],[["nmapc","lear"],void 0],[["nme","nu"],void 0],[["nn","oremap"],void 0],[["nnoreme","nu"],void 0],[["no","remap"],void 0],[["noa","utocmd"],void 0],[["noh","lsearch"],(0,n.succeed)(new M.NohlCommand)],[["norea","bbrev"],void 0],[["noreme","nu"],void 0],[["norm","al"],C.NormalCommand.argParser],[["nos","wapfile"],void 0],[["nu","mber"],P.PrintCommand.argParser({printNumbers:!0,printText:!0})],[["nun","map"],void 0],[["nunme","nu"],void 0],[["ol","dfiles"],void 0],[["om","ap"],void 0],[["omapc","lear"],void 0],[["ome","nu"],void 0],[["on","ly"],(0,n.succeed)(new _.OnlyCommand)],[["ono","remap"],void 0],[["onoreme","nu"],void 0],[["opt","ions"],void 0],[["ou","nmap"],void 0],[["ounme","nu"],void 0],[["ow","nsyntax"],void 0],[["p","rint"],P.PrintCommand.argParser({printNumbers:!1,printText:!0})],[["pa","ckadd"],void 0],[["packl","oadall"],void 0],[["pc","lose"],void 0],[["pe","rl"],void 0],[["ped","it"],void 0],[["perld","o"],void 0],[["perlf","ile"],void 0],[["po","p"],void 0],[["popu","p"],void 0],[["pp","op"],void 0],[["pre","serve"],void 0],[["prev","ious"],void 0],[["prof","ile"],void 0],[["profd","el"],void 0],[["ps","earch"],void 0],[["pt","ag"],void 0],[["ptN","ext"],void 0],[["ptf","irst"],void 0],[["ptj","ump"],void 0],[["ptl","ast"],void 0],[["ptn","ext"],void 0],[["ptp","revious"],void 0],[["ptr","ewind"],void 0],[["pts","elect"],void 0],[["pu","t"],k.PutExCommand.argParser],[["pw","d"],void 0],[["py","thon"],void 0],[["py3",""],void 0],[["py3d","o"],void 0],[["py3f","ile"],void 0],[["pyd","o"],void 0],[["pyf","ile"],void 0],[["python3",""],void 0],[["pythonx",""],void 0],[["pyx",""],void 0],[["pyxd","o"],void 0],[["pyxf","ile"],void 0],[["q","uit"],R.QuitCommand.argParser(!1)],[["qa","ll"],R.QuitCommand.argParser(!0)],[["quita","ll"],R.QuitCommand.argParser(!0)],[["r","ead"],E.ReadCommand.argParser],[["rec","over"],void 0],[["red","o"],A.RedoCommand.argParser],[["redi","r"],void 0],[["redr","aw"],void 0],[["redraws","tatus"],void 0],[["redrawt","abline"],void 0],[["reg","isters"],O.RegisterCommand.argParser],[["res","ize"],void 0],[["ret","ab"],T.RetabCommand.argParser],[["retu","rn"],void 0],[["rew","ind"],void 0],[["ri","ght"],b.RightCommand.argParser],[["rightb","elow"],void 0],[["rsh","ada"],void 0],[["ru","ntime"],void 0],[["rub","y"],void 0],[["rubyd","o"],void 0],[["rubyf","ile"],void 0],[["rund","o"],void 0],[["s","ubstitute"],N.SubstituteCommand.argParser],[["sN","ext"],void 0],[["sa","rgument"],void 0],[["sal","l"],void 0],[["san","dbox"],void 0],[["sav","eas"],void 0],[["sb","uffer"],void 0],[["sbN","ext"],void 0],[["sba","ll"],void 0],[["sbf","irst"],void 0],[["sbl","ast"],void 0],[["sbm","odified"],void 0],[["sbn","ext"],void 0],[["sbp","revious"],void 0],[["sbr","ewind"],void 0],[["scr","iptnames"],void 0],[["scripte","ncoding"],void 0],[["scs","cope"],void 0],[["se","t"],L.SetCommand.argParser],[["setf","iletype"],void 0],[["setg","lobal"],void 0],[["setl","ocal"],void 0],[["sf","ind"],void 0],[["sfir","st"],void 0],[["sh","ell"],(0,n.succeed)(new B.ShCommand)],[["sig","n"],void 0],[["sil","ent"],void 0],[["sl","eep"],void 0],[["sla","st"],void 0],[["sm","agic"],void 0],[["smap",""],void 0],[["smapc","lear"],void 0],[["sme","nu"],void 0],[["smile",""],(0,n.succeed)(new I.SmileCommand)],[["sn","ext"],void 0],[["sno","magic"],void 0],[["snor","emap"],void 0],[["snoreme","nu"],void 0],[["so","urce"],void 0],[["sor","t"],j.SortCommand.argParser],[["sp","lit"],h.FileCommand.argParsers.split],[["spe","llgood"],void 0],[["spelld","ump"],void 0],[["spelli","nfo"],void 0],[["spellr","epall"],void 0],[["spellra","re"],void 0],[["spellu","ndo"],void 0],[["spellw","rong"],void 0],[["spr","evious"],void 0],[["sre","wind"],void 0],[["st","op"],void 0],[["sta","g"],void 0],[["star","tinsert"],void 0],[["startg","replace"],void 0],[["startr","eplace"],void 0],[["stj","ump"],void 0],[["stopi","nsert"],void 0],[["sts","elect"],void 0],[["sun","hide"],void 0],[["sunm","ap"],void 0],[["sunme","nu"],void 0],[["sus","pend"],void 0],[["sv","iew"],void 0],[["sw","apname"],void 0],[["sy","ntax"],void 0],[["sync","bind"],void 0],[["synti","me"],void 0],[["t",""],u.CopyCommand.argParser],[["tN","ext"],void 0],[["ta","g"],void 0],[["tab",""],void 0],[["tabN","ext"],D.TabCommand.argParsers.bprev],[["tabc","lose"],D.TabCommand.argParsers.tabclose],[["tabdo",""],void 0],[["tabe","dit"],D.TabCommand.argParsers.tabnew],[["tabf","ind"],void 0],[["tabfir","st"],D.TabCommand.argParsers.bfirst],[["tabl","ast"],D.TabCommand.argParsers.blast],[["tabm","ove"],D.TabCommand.argParsers.tabmove],[["tabn","ext"],D.TabCommand.argParsers.bnext],[["tabnew",""],D.TabCommand.argParsers.tabnew],[["tabo","nly"],D.TabCommand.argParsers.tabonly],[["tabp","revious"],D.TabCommand.argParsers.bprev],[["tabr","ewind"],D.TabCommand.argParsers.bfirst],[["tabs",""],void 0],[["tags",""],void 0],[["tc","d"],void 0],[["tch","dir"],void 0],[["te","rminal"],V.TerminalCommand.argParser],[["tf","irst"],void 0],[["th","row"],void 0],[["tj","ump"],void 0],[["tl","ast"],void 0],[["tm","enu"],void 0],[["tma","p"],void 0],[["tmapc","lear"],void 0],[["tn","ext"],void 0],[["tno","remap"],void 0],[["to","pleft"],void 0],[["tp","revious"],void 0],[["tr","ewind"],void 0],[["try",""],void 0],[["ts","elect"],void 0],[["tu","nmenu"],void 0],[["tunma","p"],void 0],[["u","ndo"],F.UndoCommand.argParser],[["una","bbreviate"],void 0],[["undoj","oin"],void 0],[["undol","ist"],void 0],[["unh","ide"],void 0],[["unl","et"],void 0],[["unlo","ckvar"],void 0],[["unm","ap"],void 0],[["unme","nu"],void 0],[["uns","ilent"],void 0],[["up","date"],q.WriteCommand.argParser],[["v","global"],void 0],[["ve","rsion"],void 0],[["verb","ose"],void 0],[["vert","ical"],void 0],[["vi","sual"],void 0],[["vie","w"],void 0],[["vim","grep"],void 0],[["vimgrepa","dd"],void 0],[["viu","sage"],void 0],[["vm","ap"],void 0],[["vmapc","lear"],void 0],[["vme","nu"],void 0],[["vn","oremap"],void 0],[["vne","w"],h.FileCommand.argParsers.vnew],[["vnoreme","nu"],void 0],[["vs","plit"],h.FileCommand.argParsers.vsplit],[["vsc","ode"],W.VsCodeCommand.argParser],[["vu","nmap"],void 0],[["vunme","nu"],void 0],[["w","rite"],q.WriteCommand.argParser],[["wN","ext"],void 0],[["wa","ll"],U.WallCommand.argParser],[["wh","ile"],void 0],[["wi","nsize"],void 0],[["winc","md"],void 0],[["windo",""],void 0],[["winp","os"],void 0],[["wn","ext"],void 0],[["wp","revious"],void 0],[["wq",""],K.WriteQuitCommand.argParser],[["wqa","ll"],H.WriteQuitAllCommand.argParser],[["wsh","ada"],void 0],[["wu","ndo"],void 0],[["x","it"],K.WriteQuitCommand.argParser],[["xa","ll"],H.WriteQuitAllCommand.argParser],[["xm","ap"],void 0],[["xmapc","lear"],void 0],[["xme","nu"],void 0],[["xn","oremap"],void 0],[["xnoreme","nu"],void 0],[["xu","nmap"],void 0],[["xunme","nu"],void 0],[["y","ank"],z.YankCommand.argParser],[["z",""],void 0],[["~",""],void 0]];class te extends J.ExCommand{neovimCapable(){return!0}constructor(e){super(),this.name=e}async execute(e){Q.StatusBar.setText(e,`Command :${this.name} is not yet implemented (PRs are welcome!)`,!0)}async executeWithRange(e,t){await this.execute(e)}}class re extends J.ExCommand{async execute(e){}}t.NoOpCommand=re,t.commandNameParser=(0,n.alt)(...[...t.builtinExCommands].reverse().map((([e,t])=>function(e,t){t??=n.all.result(new te(e[1]?`${e[0]}[${e[1]}]`:e[0]));const r=e[0]+e[1],i=(0,Z.nameAbbrevParser)(e[0],e[1]).result(t);return""===r||/[a-z]$/i.test(r)?i.notFollowedBy((0,n.regexp)(/[a-z]/i)):i}(e,t?.skip(n.optWhitespace))))),t.exCommandParser=n.optWhitespace.then((0,n.string)(":").skip(n.optWhitespace).many()).then((0,n.seq)(Y.LineRange.parser.fallback(void 0),n.optWhitespace,t.commandNameParser.fallback(void 0),n.all)).map((([e,t,r,i])=>{if(void 0===r)throw G.VimError.fromCode(G.ErrorCode.NotAnEditorCommand,`${e?.toString()??""}${t}${i}`);const o=(0,n.seq)(r,n.optWhitespace.then(n.all)).parse(i);if(!1===o.status||o.value[1])throw G.VimError.fromCode(G.ErrorCode.TrailingCharacters);return{lineRange:e,command:o.value[0]}}))},8083:(e,t)=>{"use strict";function r(e){return{type:"number",value:Math.trunc(e)}}function n(e,t,r){return{type:"binary",operator:t,lhs:e,rhs:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.int=r,t.float=function(e){return{type:"float",value:e}},t.bool=function(e){return r(e?1:0)},t.str=function(e){return{type:"string",value:e}},t.list=function(e){return{type:"list",items:e}},t.funcref=function(e,t,r){return{type:"funcref",name:e,arglist:t,dict:r}},t.blob=function(e){return{type:"blob",data:e}},t.listExpr=function(e){return{type:"list",items:e}},t.variable=function(e,t){return{type:"variable",name:e,namespace:t}},t.lambda=function(e,t){return{type:"lambda",args:e,body:t}},t.negative=function(e){return{type:"unary",operator:"-",operand:e}},t.positive=function(e){return{type:"unary",operator:"+",operand:e}},t.binary=n,t.add=function(e,t){return n(e,"+",t)},t.subtract=function(e,t){return n(e,"-",t)},t.multiply=function(e,t){return n(e,"*",t)},t.divide=function(e,t){return n(e,"/",t)},t.modulo=function(e,t){return n(e,"%",t)},t.concat=function(e,t){return n(e,"..",t)},t.funcCall=function(e,t){return{type:"function_call",func:e,args:t}}},4048:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.displayValue=function e(t,r=!0){switch(t.type){case"number":return t.value.toString();case"float":{const e=t.value.toFixed(6).replace(/0*$/,"");return e.endsWith(".")?e+"0":e}case"string":return r?t.value:`'${t.value.replace("'","''")}'`;case"list":return`[${t.items.map((t=>e(t,!1))).join(", ")}]`;case"dict_val":return`{${[...t.items].map((([t,r])=>`'${t}': ${e(r,!1)}`)).join(", ")}}`;case"funcref":return t.arglist?.items.length?t.dict?`function('${t.name}', ${e(t.arglist)}, ${e(t.dict)})`:`function('${t.name}', ${e(t.arglist)})`:t.dict?`function('${t.name}', ${e(t.dict)})`:t.name;case"blob":return"0z"+[...new Uint8Array(t.data)].map((e=>e.toString(16).padStart(2,"0"))).join("").toUpperCase()}}},3032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationContext=t.Variable=void 0,t.toString=f;const n=r(9218),i=r(4048),o=r(7183),s=r(4546),a=r(5414),c=r(8083),u=r(6348);let l=1;function d(e){switch(e.type){case"number":return e.value;case"float":throw s.VimError.fromCode(s.ErrorCode.UsingAFloatAsANumber);case"string":const t=u.numberParser.skip(n.all).parse(e.value);return!1===t.status?0:t.value.value;case"list":throw s.VimError.fromCode(s.ErrorCode.UsingAListAsANumber);case"dict_val":throw s.VimError.fromCode(s.ErrorCode.UsingADictionaryAsANumber);case"funcref":throw s.VimError.fromCode(s.ErrorCode.UsingAFuncrefAsANumber);case"blob":throw s.VimError.fromCode(s.ErrorCode.UsingABlobAsANumber)}}function h(e){switch(e.type){case"number":case"float":return e.value;case"string":case"list":case"dict_val":case"funcref":case"blob":throw s.VimError.fromCode(s.ErrorCode.NumberOrFloatRequired)}}function f(e){switch(e.type){case"number":return e.value.toString();case"float":throw s.VimError.fromCode(s.ErrorCode.UsingFloatAsAString);case"string":return e.value;case"list":throw s.VimError.fromCode(s.ErrorCode.UsingListAsAString);case"dict_val":throw s.VimError.fromCode(s.ErrorCode.UsingDictionaryAsAString);case"funcref":throw s.VimError.fromCode(s.ErrorCode.UsingFuncrefAsAString);case"blob":return(0,i.displayValue)(e)}}function p(e){switch(e.type){case"number":case"float":case"string":case"funcref":case"dict_val":case"blob":throw s.VimError.fromCode(s.ErrorCode.ListRequired);case"list":return e}}function m(e){switch(e.type){case"number":case"float":case"string":case"list":case"funcref":case"blob":throw s.VimError.fromCode(s.ErrorCode.DictionaryRequired);case"dict_val":return e}}class g{constructor(e,t=!1){this.locked=!1,this.value=e,this.locked=t}}t.Variable=g;class v{constructor(){this.localScopes=[],this.errors=[]}evaluate(e){switch(e.type){case"number":case"float":case"string":case"dict_val":case"funcref":case"blob":return e;case"list":return(0,c.list)(e.items.map((e=>this.evaluate(e))));case"dictionary":{const t=new Map;for(const[r,n]of e.items){const e=f(this.evaluate(r));if(t.has(e))throw s.VimError.fromCode(s.ErrorCode.DuplicateKeyInDictionary,`"${e}"`);t.set(e,this.evaluate(n))}return{type:"dict_val",items:t}}case"variable":return this.evaluateVariable(e);case"register":case"option":return(0,c.str)("");case"env_variable":return(0,c.str)(process.env[e.name]??"");case"function_call":return this.evaluateFunctionCall(e);case"index":return this.evaluateIndex(this.evaluate(e.expression),this.evaluate(e.index));case"slice":return this.evaluateSlice(this.evaluate(e.expression),e.start?this.evaluate(e.start):(0,c.int)(0),e.end?this.evaluate(e.end):(0,c.int)(-1));case"entry":{const t=m(this.evaluate(e.expression)).items.get(e.entryName);if(!t)throw s.VimError.fromCode(s.ErrorCode.KeyNotPresentInDictionary,e.entryName);return t}case"funcrefCall":{const t=this.evaluate(e.expression);if("funcref"!==t.type)throw new Error(`Expected funcref, got ${t.type}`);return t.body?t.body(e.args.map((e=>this.evaluate(e)))):this.evaluateFunctionCall((0,c.funcCall)(t.name,(t.arglist?.items??[]).concat(e.args.map((e=>this.evaluate(e))))))}case"methodCall":{const t=this.evaluate(e.expression);return this.evaluateFunctionCall((0,c.funcCall)(e.methodName,[t,...e.args]))}case"lambda":return{type:"funcref",name:"<lambda>"+l++,body:t=>{const r=new Map;for(let n=0;n<t.length;n++)r.set(e.args[n],new g(t[n]));this.localScopes.push(r);const n=this.evaluate(e.body);return this.localScopes.pop(),n}};case"unary":return this.evaluateUnary(e.operator,e.operand);case"binary":return this.evaluateBinary(e.operator,e.lhs,e.rhs);case"ternary":return this.evaluate(0!==d(this.evaluate(e.if))?e.then:e.else);case"comparison":return(0,c.bool)(this.evaluateComparison(e.operator,e.matchCase??o.configuration.ignorecase,e.lhs,e.rhs));default:throw new Error("evaluate() got unexpected expression type")}}setVariable(e,t,r){if("funcref"===t.type&&e.name[0]===e.name[0].toLowerCase())throw s.VimError.fromCode(s.ErrorCode.FuncrefVariableNameMustStartWithACapital,e.name);let n;if(this.localScopes.length>0&&void 0===e.namespace?n=this.localScopes[this.localScopes.length-1]:"g"!==e.namespace&&void 0!==e.namespace||(n=v.globalVariables),n){const i=n.get(e.name);if(i){if(r)throw s.VimError.fromCode(s.ErrorCode.CannotModifyExistingVariable);if(i.locked)throw s.VimError.fromCode(s.ErrorCode.ValueIsLocked,e.name);i.value=t}else n.set(e.name,new g(t,r))}}evaluateVariable(e){if(void 0===e.namespace)for(let t=this.localScopes.length-1;t>=0;t--){const r=this.localScopes[t].get(e.name);if(void 0!==r)return r.value}if("g"===e.namespace||void 0===e.namespace){const t=v.globalVariables.get(e.name);if(void 0===t)throw s.VimError.fromCode(s.ErrorCode.UndefinedVariable,e.namespace?`${e.namespace}:${e.name}`:e.name);return t.value}if("v"===e.namespace)return"true"===e.name?(0,c.bool)(!0):"false"===e.name?(0,c.bool)(!1):"hlsearch"===e.name?(0,c.bool)(a.globalState.hl):"t_number"===e.name?(0,c.int)(0):"t_string"===e.name?(0,c.int)(1):"t_func"===e.name?(0,c.int)(2):"t_list"===e.name?(0,c.int)(3):"t_dict"===e.name?(0,c.int)(4):"t_float"===e.name?(0,c.int)(5):"t_bool"===e.name?(0,c.int)(6):"t_blob"===e.name?(0,c.int)(10):"numbermax"===e.name?(0,c.int)(Number.MAX_VALUE):"numbermin"===e.name?(0,c.int)(Number.MIN_VALUE):"numbersize"===e.name?(0,c.int)(64):"errors"===e.name?(0,c.list)(this.errors.map(c.str)):this.evaluate({type:"variable",namespace:void 0,name:`v:${e.name}`});throw s.VimError.fromCode(s.ErrorCode.UndefinedVariable,e.namespace?`${e.namespace}:${e.name}`:e.name)}evaluateIndex(e,t){switch(e.type){case"string":case"number":case"float":{const r=d(t);return(0,c.str)(r>=0?f(e)[r]??"":"")}case"list":{let r=d(t);if(r=r<0?e.items.length-r:r,r<0||r>=e.items.length)throw s.VimError.fromCode(s.ErrorCode.ListIndexOutOfRange,r.toString());return e.items[r]}case"dict_val":{const r=f(t),n=e.items.get(r);if(void 0===n)throw s.VimError.fromCode(s.ErrorCode.KeyNotPresentInDictionary,r);return n}case"funcref":throw s.VimError.fromCode(s.ErrorCode.CannotIndexAFuncref);case"blob":{const r=new Uint8Array(e.data);return(0,c.int)(r[d(t)])}}}evaluateSlice(e,t,r){let n=d(t),i=d(r);switch(e.type){case"string":case"number":case"float":{const t=f(e);for(;n<0;)n+=t.length;for(;i<0;)i+=t.length;return i<n?(0,c.str)(""):(0,c.str)(t.substring(n,i+1))}case"list":for(;n<0;)n+=e.items.length;for(;i<0;)i+=e.items.length;return i<n?(0,c.list)([]):(0,c.list)(e.items.slice(n,i+1));case"dict_val":throw s.VimError.fromCode(s.ErrorCode.CannotUseSliceWithADictionary);case"funcref":throw s.VimError.fromCode(s.ErrorCode.CannotIndexAFuncref);case"blob":return(0,c.blob)(new Uint8Array(e.data).slice(n,i+1))}}evaluateUnary(e,t){return n=t=>{switch(e){case"+":return t;case"-":return-t;case"!":return 0===t?1:0;default:throw new Error("Impossible")}},"float"===(r=this.evaluate(t)).type?(0,c.float)(n(r.value)):(0,c.int)(n(d(r)));var r,n}evaluateBinary(e,t,r){let[n,i]=[this.evaluate(t),this.evaluate(r)];const o=e=>{const t="float"===n.type||"float"===i.type?c.float:c.int;return"string"===n.type&&(n=(0,c.int)(d(n))),"string"===i.type&&(i=(0,c.int)(d(i))),t(e(h(n),h(i)))};switch(e){case"+":return"list"===n.type&&"list"===i.type?(0,c.listExpr)(n.items.concat(i.items)):o(((e,t)=>e+t));case"-":return o(((e,t)=>e-t));case"*":return o(((e,t)=>e*t));case"/":return o(((e,t)=>e/t));case".":case"..":return(0,c.str)(f(n)+f(i));case"%":{if("float"===n.type||"float"===i.type)throw s.VimError.fromCode(s.ErrorCode.CannotUseModuloWithFloat);const[e,t]=[d(n),d(i)];return 0===t?(0,c.int)(0):(0,c.int)(e%t)}case"&&":return(0,c.bool)(0!==d(n)&&0!==d(i));case"||":return(0,c.bool)(0!==d(n)||0!==d(i))}}evaluateComparison(e,t,r,n){switch(e){case"==":return this.evaluateBasicComparison("==",t,r,n);case"!=":return!this.evaluateBasicComparison("==",t,r,n);case">":return this.evaluateBasicComparison(">",t,r,n);case">=":return this.evaluateBasicComparison(">",t,r,n)||this.evaluateBasicComparison("==",t,r,n);case"<":return this.evaluateBasicComparison(">",t,n,r);case"<=":return!this.evaluateBasicComparison(">",t,r,n);case"=~":return this.evaluateBasicComparison("=~",t,r,n);case"!~":return!this.evaluateBasicComparison("=~",t,r,n);case"is":return this.evaluateBasicComparison("is",t,r,n);case"isnot":return!this.evaluateBasicComparison("is",t,r,n)}}evaluateBasicComparison(e,t,r,n,i=!0){if("is"===e&&r.type!==n.type)return!1;if("list"===r.type){if("list"!==n.type)throw s.VimError.fromCode(s.ErrorCode.CanOnlyCompareListWithList);switch(e){case"==":return r.items.length===n.items.length&&r.items.every(((e,r)=>this.evaluateBasicComparison("==",t,e,n.items[r],!1)));case"is":return r.items===n.items;default:throw s.VimError.fromCode(s.ErrorCode.InvalidOperationForList)}}else{if("list"===n.type)throw s.VimError.fromCode(s.ErrorCode.CanOnlyCompareListWithList);if("dictionary"===r.type){if("dictionary"!==n.type)throw s.VimError.fromCode(s.ErrorCode.CanOnlyCompareDictionaryWithDictionary);{const[i,o]=[this.evaluate(r),this.evaluate(n)];switch(e){case"==":return i.items.size===o.items.size&&[...i.items.entries()].every((([e,r])=>o.items.has(e)&&this.evaluateBasicComparison("==",t,r,o.items.get(e),!1)));case"is":return i.items===o.items;default:throw s.VimError.fromCode(s.ErrorCode.InvalidOperationForDictionary)}}}else{if("dictionary"===n.type)throw s.VimError.fromCode(s.ErrorCode.CanOnlyCompareDictionaryWithDictionary);{let[o,s]=[this.evaluate(r),this.evaluate(n)];switch("number"===o.type||"number"===s.type?i&&([o,s]=[(0,c.int)(d(o)),(0,c.int)(d(s))]):t||(o.value=o.value.toLowerCase(),s.value=s.value.toLowerCase()),e){case"==":return o.value===s.value;case"is":return o.type===s.type&&o.value===s.value;case">":return o.value>s.value;case"=~":return!1}}}}}evaluateFunctionCall(e){const t=(t,r)=>{if(void 0===r&&(r=t),e.args.length<t)throw s.VimError.fromCode(s.ErrorCode.NotEnoughArgs,e.func);if(e.args.length>r)throw s.VimError.fromCode(s.ErrorCode.TooManyArgs,e.func);const n=e.args.map((e=>this.evaluate(e)));for(;n.length<r;)n.push(void 0);return n};switch(e.func){case"abs":{const[e]=t(1);return(0,c.float)(Math.abs(h(e)))}case"acos":{const[e]=t(1);return(0,c.float)(Math.acos(h(e)))}case"add":{const[e,r]=t(2),n=p(e);return n.items.push(r),n}case"asin":{const[e]=t(1);return(0,c.float)(Math.asin(h(e)))}case"atan2":{const[e,r]=t(2);return(0,c.float)(Math.atan2(h(e),h(r)))}case"and":{const[e,r]=t(2);return(0,c.int)(d(e)&d(r))}case"assert_equal":{const[e,r,n]=t(2,3);return this.evaluateComparison("==",!0,e,r)?(0,c.int)(0):(this.errors.push(n?f(n):`Expected ${(0,i.displayValue)(e)} but got ${(0,i.displayValue)(r)}`),(0,c.int)(1))}case"assert_notequal":{const[e,r,n]=t(2,3);return this.evaluateComparison("!=",!0,e,r)?(0,c.int)(0):(this.errors.push(n?f(n):`Expected not equal to ${(0,i.displayValue)(e)}`),(0,c.int)(1))}case"assert_report":return this.errors.push(f(t(1)[0])),(0,c.int)(1);case"assert_true":{const[e,r]=t(2,3);return this.evaluateComparison("==",!0,(0,c.bool)(!0),e)?(0,c.int)(0):(this.errors.push(r?f(r):`Expected True but got ${(0,i.displayValue)(e)}`),(0,c.int)(1))}case"ceil":{const[e]=t(1);return(0,c.float)(Math.ceil(h(e)))}case"copy":{const[e]=t(1);switch(e?.type){case"list":return(0,c.list)([...e.items]);case"dict_val":return{type:"dict_val",items:new Map(e.items)}}return e}case"cos":{const[e]=t(1);return(0,c.float)(Math.cos(h(e)))}case"cosh":{const[e]=t(1);return(0,c.float)(Math.cosh(h(e)))}case"count":{let[e,r,n,i]=t(2,4);const o=0===d(n??(0,c.bool)(!1));if(void 0!==i){if("list"!==e.type)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument474);if(d(i)>=e.items.length)throw s.VimError.fromCode(s.ErrorCode.ListIndexOutOfRange);for(;d(i)<0;)i=(0,c.int)(d(i)+e.items.length)}let a=0;switch(e.type){case"list":for(let t=i?d(i):0;t<e.items.length;t++)this.evaluateComparison("==",o,e.items[t],r)&&a++;break;case"dict_val":for(const t of e.items.values())this.evaluateComparison("==",o,t,r)&&a++;break;default:throw s.VimError.fromCode(s.ErrorCode.ArgumentOfMaxMustBeAListOrDictionary)}return(0,c.int)(a)}case"deepcopy":{const[e]=t(1);return e}case"empty":{let[e]=t(1);switch(e.type){case"number":case"float":return(0,c.bool)(0===e.value);case"string":return(0,c.bool)(0===e.value.length);case"list":return(0,c.bool)(0===e.items.length);case"dict_val":return(0,c.bool)(0===e.items.size);default:return(0,c.bool)(!1)}}case"eval":{const[e]=t(1);return this.evaluate(u.expressionParser.tryParse(f(e)))}case"exp":{const[e]=t(1);return(0,c.float)(Math.exp(h(e)))}case"float2nr":{const[e]=t(1);return(0,c.int)(h(e))}case"function":{const[e,r,n]=t(1,3);if(r){if("list"===r.type){if(n&&"dict_val"!==n.type)throw s.VimError.fromCode(s.ErrorCode.ExpectedADict);return(0,c.funcref)(f(e),r,n)}if("dict_val"===r.type){if(n)throw s.VimError.fromCode(s.ErrorCode.SecondArgumentOfFunction);return(0,c.funcref)(f(e),void 0,r)}throw s.VimError.fromCode(s.ErrorCode.SecondArgumentOfFunction)}if(n&&"dict_val"!==n.type)throw s.VimError.fromCode(s.ErrorCode.ExpectedADict);return{type:"funcref",name:f(e),arglist:r,dict:n}}case"floor":{const[e]=t(1);return(0,c.float)(Math.floor(h(e)))}case"fmod":{const[e,r]=t(2);return(0,c.float)(h(e)%h(r))}case"get":{const[e,r,n]=t(2,3),i=this.evaluate(e);if("list"===i.type){let e=d(this.evaluate(r));return e=e<0?i.items.length+e:e,e<i.items.length?i.items[e]:n??(0,c.int)(0)}if("blob"===i.type){const e=new Uint8Array(i.data);let t=d(this.evaluate(r));return t=t<0?e.length+t:t,t<e.length?(0,c.int)(e[t]):n??(0,c.int)(-1)}if("dict_val"===i.type){const e=this.evaluate(r);return i.items.get(f(e))||(n??(0,c.int)(0))}return n??(0,c.int)(0)}case"gettext":{const[e]=t(1);return(0,c.str)(f(e))}case"has":{const[e]=t(1);return(0,c.bool)("vscode"===f(e))}case"has_key":{const[e,r]=t(2);return(0,c.bool)(m(e).items.has(f(r)))}case"index":{const[e,r,n,i]=t(2,4),o=this.evaluate(e),a=this.evaluate(r);if("list"===o.type){let e;n&&(e=d(n),e=e<0?o.items.length+e:e);for(const[t,r]of o.items.entries())if(!(e&&t<e)&&this.evaluateComparison("==",!0,r,a))return(0,c.int)(t);return(0,c.int)(-1)}throw s.VimError.fromCode(s.ErrorCode.ListOrBlobRequired)}case"isinf":{const[e]=t(1),r=h(e);return(0,c.int)(r===1/0?1:r===-1/0?-1:0)}case"isnan":{const[e]=t(1);return(0,c.bool)(isNaN(h(e)))}case"items":{const[e]=t(1);return(0,c.list)([...m(e).items.entries()].map((([e,t])=>(0,c.list)([(0,c.str)(e),t]))))}case"join":{const[e,r]=t(1,2);return(0,c.str)(p(e).items.map(f).join(r?f(r):""))}case"keys":{const[e]=t(1);return(0,c.list)([...m(e).items.keys()].map(c.str))}case"len":{const[e]=t(1);switch(e.type){case"number":return(0,c.int)(e.value.toString().length);case"string":return(0,c.int)(e.value.length);case"list":return(0,c.int)(e.items.length);case"dict_val":return(0,c.int)(e.items.size);case"blob":return(0,c.int)(e.data.byteLength);default:throw s.VimError.fromCode(s.ErrorCode.InvalidTypeForLen)}}case"localtime":return(0,c.int)(Date.now()/1e3);case"log":{const[e]=t(1);return(0,c.float)(Math.log(h(e)))}case"log10":{const[e]=t(1);return(0,c.float)(Math.log10(h(e)))}case"map":{const[e,r]=t(2);if("list"===e?.type)return(0,c.list)(e.items.map(((e,t)=>{if("funcref"===r?.type)return this.evaluate({type:"funcrefCall",expression:r,args:[(0,c.int)(t),e]});{this.localScopes.push(new Map([["v:key",new g((0,c.int)(t))],["v:val",new g(e)]]));const n=this.evaluate(u.expressionParser.tryParse(f(r)));return this.localScopes.pop(),n}})));throw s.VimError.fromCode(s.ErrorCode.ArgumentOfMapMustBeAListDictionaryOrBlob)}case"max":{const[e]=t(1);let r;if("list"===e?.type)r=e.items;else{if("dict_val"!==e?.type)throw s.VimError.fromCode(s.ErrorCode.ArgumentOfMaxMustBeAListOrDictionary);r=[...e.items.values()]}return(0,c.int)(0===r.length?0:Math.max(...r.map(d)))}case"min":{const[e]=t(1);let r;if("list"===e?.type)r=e.items;else{if("dict_val"!==e?.type)throw s.VimError.fromCode(s.ErrorCode.ArgumentOfMaxMustBeAListOrDictionary);r=[...e.items.values()]}return(0,c.int)(0===r.length?0:Math.min(...r.map(d)))}case"or":{const[e,r]=t(2);return(0,c.int)(d(e)|d(r))}case"pow":{const[e,r]=t(2);return(0,c.float)(Math.pow(h(e),h(r)))}case"range":{const[e,r,n]=t(1,3),i=void 0!==r?d(e):0,o=void 0!==r?d(r):d(e)-1,a=void 0!==n?d(n):1;if(0===a)throw s.VimError.fromCode(s.ErrorCode.StrideIsZero);if(a>0!=i<o&&Math.abs(i-o)>1)throw s.VimError.fromCode(s.ErrorCode.StartPastEnd);const u=[];for(let e=i;a>0?e<=o:e>=o;e+=a)u.push((0,c.int)(e));return(0,c.list)(u)}case"repeat":{const[e,r]=t(2);if("list"===e?.type){const t=new Array(d(r)).fill(e.items).flat();return(0,c.list)(t)}return(0,c.str)(f(e).repeat(d(r)))}case"remove":{const[e,r,n]=t(2,3),i=this.evaluate(e);if("list"===i.type){let e=d(this.evaluate(r));if(e=e<0?i.items.length+e:e,void 0===n)return i.items.splice(e,1)[0]}else if("dict_val"===i.type){const e=f(this.evaluate(r)),t=i.items.get(e);if(t)return i.items.delete(e),t}return(0,c.int)(0)}case"reverse":{const[e]=t(1);return"list"===e?.type?(e.items.reverse(),e):"blob"===e?.type?(e.data=new Uint8Array(e.data).reverse(),e):(0,c.int)(0)}case"round":{const[e]=t(1),r=h(e);return(0,c.float)(r<0?-Math.round(-r):Math.round(r))}case"sin":{const[e]=t(1);return(0,c.float)(Math.sin(h(e)))}case"sinh":{const[e]=t(1);return(0,c.float)(Math.sinh(h(e)))}case"sort":{const[e,r,n]=t(1,3);if("list"!==e?.type)throw s.VimError.fromCode(s.ErrorCode.ArgumentOfSortMustBeAList);let o;if(void 0!==r)if("string"===r.type||"number"===r.type){if(1!==r.value&&"1"!==r.value&&"i"!==r.value)throw Error("compare() with function name is not yet implemented");o=(e,t)=>{const[r,n]=[(0,i.displayValue)(e).toLowerCase(),(0,i.displayValue)(t).toLowerCase()];return r===n?0:r>n?1:-1}}else{if("funcref"!==r.type)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument474);o=(e,t)=>d(this.evaluate({type:"funcrefCall",expression:r,args:[e,t]}))}else o=(e,t)=>(0,i.displayValue)(e)>(0,i.displayValue)(t)?1:-1;return(0,c.list)(e.items.sort(o))}case"split":{const[e,r,n]=t(1,3),i=f(e).split(r&&f(r)?f(r):/\s+/);return n&&d(this.evaluate(n))||(""===i[0]&&i.shift(),i&&""===i[i.length-1]&&i.pop()),(0,c.list)(i.map(c.str))}case"sqrt":{const[e]=t(1);return(0,c.float)(Math.sqrt(h(e)))}case"str2list":{const[e,r]=t(1,2),n=[];for(const t of f(e))n.push(t.charCodeAt(0));return(0,c.list)(n.map(c.int))}case"string":{const[e]=t(1);return(0,c.str)((0,i.displayValue)(e))}case"strlen":{const[e]=t(1);return(0,c.int)(f(e).length)}case"tan":{const[e]=t(1);return(0,c.float)(Math.tan(h(e)))}case"tanh":{const[e]=t(1);return(0,c.float)(Math.tanh(h(e)))}case"tolower":{const[e]=t(1);return(0,c.str)(f(e).toLowerCase())}case"toupper":{const[e]=t(1);return(0,c.str)(f(e).toUpperCase())}case"tr":{const[e,r,n]=t(1,3),i=f(e),o=f(r),a=f(n);if(o.length!==a.length)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument475,o);const u=new Map;for(let e=0;e<o.length;e++)u.set(o[e],a[e]);return(0,c.str)([...i].map((e=>u.get(e)??e)).join(""))}case"trim":{const[e,r,n]=t(1,3);let i=f(e);const o=n?d(n):0;if(0===o)i=i.trimStart().trimEnd();else if(1===o)i=i.trimStart();else{if(2!==o)throw s.VimError.fromCode(s.ErrorCode.InvalidArgument475,o.toString());i=i.trimEnd()}return(0,c.str)(i)}case"trunc":{const[e]=t(1);return(0,c.float)(Math.trunc(h(e)))}case"type":{let[e]=t(1);switch(e.type){case"number":return(0,c.int)(0);case"string":return(0,c.int)(1);case"funcref":return(0,c.int)(2);case"list":return(0,c.int)(3);case"dict_val":return(0,c.int)(4);case"float":return(0,c.int)(5);case"blob":return(0,c.int)(8);default:throw new Error("type() got unexpected type")}}case"uniq":{const[e,r,n]=t(1,3);if("list"!==e.type)throw s.VimError.fromCode(s.ErrorCode.ArgumentOfSortMustBeAList);if(e.items.length>1){let t=e.items[0];for(let r=1;r<e.items.length;){const n=e.items[r];this.evaluateComparison("==",!0,t,n)?e.items.splice(r,1):(t=n,r++)}}return e}case"values":{const[e]=t(1);return(0,c.list)([...m(e).items.values()])}case"xor":{const[e,r]=t(2);return(0,c.int)(d(e)^d(r))}default:throw s.VimError.fromCode(s.ErrorCode.UnknownFunction_call,e.func)}}}t.EvaluationContext=v,v.globalVariables=new Map},6348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionParser=t.functionCallParser=t.registerParser=t.envVariableParser=t.variableParser=t.optionParser=t.numberParser=void 0;const n=r(9218),i=r(4546),o=r(8083),s=(0,n.regexp)(/0[z]/i).then((0,n.regexp)(/[0-1a-z]+/i).map((e=>{if(e.length%2!=0)throw i.VimError.fromCode(i.ErrorCode.BlobLiteralShouldHaveAnEvenNumberOfHexCharacters);const t=new Uint8Array(new ArrayBuffer(e.length/2));for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.substring(r,r+2),16);return(0,o.blob)(t)}))),a=(0,n.regexp)(/0[b]/i).then((0,n.regexp)(/[0-1]+/).map((e=>(0,o.int)(Number.parseInt(e,2))))),c=(0,n.regexp)(/0[x]/i).then((0,n.regexp)(/[0-9a-f]+/i)).map((e=>(0,o.int)(Number.parseInt(e,16)))),u=(0,n.regexp)(/\d+/).map((e=>{const t=e.startsWith("0")&&/^[0-7]+$/.test(e)?8:10;return(0,o.int)(Number.parseInt(e,t))})),l=(0,n.seq)((0,n.regexp)(/\d+\.\d+/).map((e=>Number.parseFloat(e))),(0,n.alt)((0,n.string)("e"),(0,n.string)("E")).then((0,n.seq)((0,n.alt)((0,n.string)("+"),(0,n.string)("-")).fallback(void 0),(0,n.regexp)(/\d+/)).map((([e,t])=>{const r=Number.parseInt(t,10);return"-"===e?-r:r}))).fallback(0)).map((([e,t])=>(0,o.float)(e*Math.pow(10,t)))).desc("a float");t.numberParser=(0,n.seq)((0,n.alt)((0,n.string)("+"),(0,n.string)("-")).fallback(void 0),(0,n.alt)(a,c,u)).map((([e,t])=>("-"===e&&(t.value=-t.value),t))).desc("a number");const d=(0,n.alt)((0,n.string)("\\").then(n.any.fallback(void 0)).map((e=>{if(void 0===e)throw i.VimError.fromCode(i.ErrorCode.MissingQuote);return"\\"===e?"\\":'"'===e?'"':"n"===e?"\n":"t"===e?"\t":`\\${e}`})),(0,n.noneOf)('"')).many().wrap((0,n.string)('"'),(0,n.string)('"')).desc("a string").map((e=>({type:"string",value:e.join("")}))),h=(0,n.regexp)(/[^']*/).sepBy((0,n.string)("''")).wrap((0,n.string)("'"),(0,n.string)("'")).desc("a literal string").map((e=>({type:"string",value:e.join("'")}))),f=(0,n.lazy)((()=>t.expressionParser)).sepBy((0,n.string)(",").trim(n.optWhitespace)).skip((0,n.string)(",").atMost(1)).trim(n.optWhitespace).wrap((0,n.string)("["),(0,n.string)("]")).map((e=>(0,o.listExpr)(e))).desc("a list"),p=(0,n.lazy)((()=>(0,n.alt)((0,n.string)("#").then((0,n.seq)((0,n.takeWhile)((e=>":"!==e)).map((e=>(0,o.str)(e))).skip((0,n.string)(":")).trim(n.optWhitespace),t.expressionParser).sepBy((0,n.string)(",").trim(n.optWhitespace)).skip((0,n.string)(",").atMost(1)).trim(n.optWhitespace).wrap((0,n.string)("{"),(0,n.string)("}"))),(0,n.seq)(t.expressionParser.skip((0,n.string)(":").trim(n.optWhitespace)),t.expressionParser).sepBy((0,n.string)(",").trim(n.optWhitespace)).skip((0,n.string)(",").atMost(1)).trim(n.optWhitespace).wrap((0,n.string)("{"),(0,n.string)("}"))).desc("a dictionary"))).map((e=>({type:"dictionary",items:e})));t.optionParser=(0,n.string)("&").then((0,n.seq)((0,n.alt)((0,n.string)("g"),(0,n.string)("l")).skip((0,n.string)(":")).atMost(1),(0,n.regexp)(/[a-z]+/).desc("&option"))).map((([e,t])=>({type:"option",scope:e?e[0]:void 0,name:t})));const m=(0,n.lazy)((()=>t.expressionParser)).trim(n.optWhitespace).wrap((0,n.string)("("),(0,n.string)(")")).desc("a nested expression");t.variableParser=(0,n.seq)((0,n.alt)((0,n.string)("b"),(0,n.string)("w"),(0,n.string)("t"),(0,n.string)("g"),(0,n.string)("l"),(0,n.string)("s"),(0,n.string)("a"),(0,n.string)("v")).skip((0,n.string)(":")).fallback(void 0),(0,n.regexp)(/[a-zA-Z][a-zA-Z0-9]*/).desc("a variable")).map((([e,t])=>({type:"variable",namespace:e,name:t}))),t.envVariableParser=(0,n.string)("$").then((0,n.regexp)(/[a-z]+/)).desc("$ENV").map((e=>({type:"env_variable",name:e}))),t.registerParser=(0,n.string)("@").then(n.any).desc("@register").map((e=>({type:"register",name:e})));const g=(0,n.lazy)((()=>t.expressionParser.sepBy((0,n.string)(",").trim(n.optWhitespace)).trim(n.optWhitespace).wrap((0,n.string)("("),(0,n.string)(")"))));t.functionCallParser=(0,n.seq)((0,n.regexp)(/[a-z0-9_]+/).skip(n.optWhitespace),g).desc("a function call").map((([e,t])=>({type:"function_call",func:e,args:t})));const v=(0,n.seq)((0,n.regexp)(/[a-z]+/i).sepBy((0,n.string)(",").trim(n.optWhitespace)).skip((0,n.string)("->").trim(n.optWhitespace)),(0,n.lazy)((()=>t.expressionParser)).desc("a lambda")).trim(n.optWhitespace).wrap((0,n.string)("{"),(0,n.string)("}")).map((([e,t])=>(0,o.lambda)(e,t))),y=(0,n.alt)(s,l,t.numberParser,d,h,f,p,t.optionParser,m,t.functionCallParser,t.variableParser,t.envVariableParser,t.registerParser,v),b=(0,n.lazy)((()=>t.expressionParser.trim(n.optWhitespace).wrap((0,n.string)("["),(0,n.string)("]")))).map((e=>t=>({type:"index",expression:t,index:e}))),w=(0,n.lazy)((()=>(0,n.seq)(t.expressionParser.atMost(1).skip((0,n.string)(":").trim(n.optWhitespace)),t.expressionParser.atMost(1)).trim(n.optWhitespace).wrap((0,n.string)("["),(0,n.string)("]")))).map((([e,t])=>r=>({type:"slice",expression:r,start:e[0],end:t[0]}))),x=(0,n.string)(".").then((0,n.regexp)(/[a-z0-9]+/i)).map((e=>t=>({type:"entry",expression:t,entryName:e}))),S=g.desc("a funcref call").map((e=>t=>({type:"funcrefCall",expression:t,args:e}))),M=(0,n.string)("->").then((0,n.seq)((0,n.regexp)(/[a-z]+/i),g)).desc("a method call").map((([e,t])=>r=>({type:"methodCall",methodName:e,expression:r,args:t}))),C=(0,n.seq)(y,(0,n.alt)(b,w,x,S,M).many()).desc("expr8").map((([e,t])=>t.reduce(((e,t)=>t(e)),e))),_=(0,n.alt)((0,n.seq)((0,n.alt)((0,n.string)("!"),(0,n.string)("-"),(0,n.string)("+")),(0,n.lazy)((()=>_))).map((([e,t])=>({type:"unary",operator:e,operand:t}))),C).desc("expr7"),P=(0,n.seq)(_,(0,n.seq)((0,n.alt)((0,n.string)("*"),(0,n.string)("/"),(0,n.string)("%")).trim(n.optWhitespace),_).many()).map(T).desc("expr6"),k=(0,n.seq)(P,(0,n.seq)((0,n.alt)((0,n.string)("+"),(0,n.string)("-"),(0,n.string)(".."),(0,n.string)(".")).trim(n.optWhitespace),P).many()).map(T).desc("expr5"),R=(0,n.alt)((0,n.seq)(k,(0,n.seq)((0,n.alt)((0,n.string)("=="),(0,n.string)("!="),(0,n.string)(">"),(0,n.string)(">="),(0,n.string)("<"),(0,n.string)("<="),(0,n.string)("=~"),(0,n.string)("!~"),(0,n.string)("is"),(0,n.string)("isnot")),(0,n.regexp)(/[#\?]?/)).trim(n.optWhitespace),k).map((([e,[t,r],n])=>({type:"comparison",operator:t,matchCase:"#"===r||"?"!==r&&void 0,lhs:e,rhs:n}))),k).desc("expr4"),E=(0,n.seq)(R,(0,n.seq)((0,n.string)("&&").trim(n.optWhitespace),R).many()).map(T).desc("expr3"),A=(0,n.seq)(E,(0,n.seq)((0,n.string)("||").trim(n.optWhitespace),E).many()).map(T).desc("expr2"),O=(0,n.alt)((0,n.seq)(A,(0,n.string)("?").trim(n.optWhitespace),A,(0,n.string)(":").trim(n.optWhitespace),A).map((([e,t,r,n,i])=>({type:"ternary",if:e,then:r,else:i}))),A).desc("an expression");function T(e){let t=e[0];for(const[r,n]of e[1])t=(0,o.binary)(t,r,n);return t}t.expressionParser=O},9787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineRange=t.Address=void 0;const n=r(9218),i=r(1398),o=r(4546),s=r(5414),a=r(183),c=r(2140),u=r(2270),l=(0,n.alt)(c.numberParser.map((e=>({type:"number",num:e}))),(0,n.string)(".").result({type:"current_line"}),(0,n.string)("$").result({type:"last_line"}),(0,n.string)("%").result({type:"entire_file"}),(0,n.string)("*").result({type:"last_visual_range"}),(0,n.string)("'").then(n.any).map((e=>({type:"mark",mark:e}))),(0,n.string)("/").then(u.Pattern.parser({direction:u.SearchDirection.Forward})).map((e=>({type:"pattern_next",pattern:e}))),(0,n.string)("?").then(u.Pattern.parser({direction:u.SearchDirection.Backward})).map((e=>({type:"pattern_prev",pattern:e}))),(0,n.string)("\\/").result({type:"last_search_pattern_next"}),(0,n.string)("\\?").result({type:"last_search_pattern_prev"}),(0,n.string)("\\&").result({type:"last_substitute_pattern_next"})),d=(0,n.alt)((0,n.string)("+").then(c.numberParser.fallback(1)),(0,n.string)("-").then(c.numberParser.fallback(1)).map((e=>-e)),c.numberParser).skip(n.optWhitespace).atLeast(1).map((e=>e.reduce(((e,t)=>e+t),0)));class h{constructor(e,t){this.specifier=e,this.offset=t??0}resolve(e,t,r=!0){const n=(()=>{switch(this.specifier.type){case"number":return r?this.specifier.num?this.specifier.num-1:0:this.specifier.num-1;case"current_line":return e.cursorStopPosition.line;case"last_line":case"entire_file":return e.document.lineCount-1;case"last_visual_range":const n="left"===t?e.lastVisualSelection?.start.line:e.lastVisualSelection?.end.line;if(void 0===n)throw o.VimError.fromCode(o.ErrorCode.MarkNotSet);return n;case"mark":const i=e.historyTracker.getMark(this.specifier.mark);if(!i||i.document&&i.document!==e.document)throw o.VimError.fromCode(o.ErrorCode.MarkNotSet);return i.position.line;case"pattern_next":const c=this.specifier.pattern.nextMatch(e.document,e.cursorStopPosition);if(void 0===c)throw o.VimError.fromCode(o.ErrorCode.PatternNotFound,this.specifier.pattern.patternString);return c.start.line;case"pattern_prev":throw new Error("Using a backward pattern in a line range is not yet supported");case"last_search_pattern_next":if(!s.globalState.searchState)throw o.VimError.fromCode(o.ErrorCode.NoPreviousRegularExpression);const l=s.globalState.searchState.getNextSearchMatchPosition(e,e.cursorStopPosition,u.SearchDirection.Forward);if(void 0===l)throw o.VimError.fromCode(o.ErrorCode.PatternNotFound,s.globalState.searchState.searchString);return l.pos.line;case"last_search_pattern_prev":if(!s.globalState.searchState)throw o.VimError.fromCode(o.ErrorCode.NoPreviousRegularExpression);const d=s.globalState.searchState.getNextSearchMatchPosition(e,e.cursorStopPosition,u.SearchDirection.Backward);if(void 0===d)throw o.VimError.fromCode(o.ErrorCode.PatternNotFound,s.globalState.searchState.searchString);return d.pos.line;case"last_substitute_pattern_next":if(!s.globalState.substituteState)throw o.VimError.fromCode(o.ErrorCode.NoPreviousSubstituteRegularExpression);const h=s.globalState.substituteState.searchPattern?new a.SearchState(u.SearchDirection.Forward,e.cursorStopPosition,s.globalState.substituteState.searchPattern.patternString,{}):void 0,f=h?.getNextSearchMatchPosition(e,e.cursorStopPosition);if(void 0===f)throw o.VimError.fromCode(o.ErrorCode.PatternNotFound,h?.searchString);return f.pos.line;default:throw this.specifier,new Error("Got unexpected LineSpecifier.type")}})()+this.offset;if(r&&(n<0||n>e.document.lineCount))throw o.VimError.fromCode(o.ErrorCode.InvalidRange);return n}toString(){switch(this.specifier.type){case"number":return this.specifier.num.toString();case"current_line":return".";case"last_line":return"$";case"entire_file":return"%";case"last_visual_range":return"*";case"mark":return`'${this.specifier.mark}`;case"pattern_next":return`/${this.specifier.pattern}/`;case"pattern_prev":return`?${this.specifier.pattern}?`;case"last_search_pattern_next":return"\\/";case"last_search_pattern_prev":return"\\?";case"last_substitute_pattern_next":return"\\&";default:throw this.specifier,new Error("Got unexpected LineSpecifier.type")}}}t.Address=h,h.parser=(0,n.alt)((0,n.seq)(l.skip(n.optWhitespace),d.fallback(0)),(0,n.seq)((0,n.succeed)({type:"current_line"}),d)).map((([e,t])=>new h(e,t)));class f{constructor(e,t,r){this.start=e,this.end=r,this.separator=t}resolve(e){const t=this.end??this.start;if("entire_file"===t.specifier.type)return{start:0,end:e.document.lineCount-1};if("last_visual_range"===t.specifier.type){if(void 0===e.lastVisualSelection)throw o.VimError.fromCode(o.ErrorCode.MarkNotSet);return{start:e.lastVisualSelection.start.line,end:e.lastVisualSelection.end.line}}const r=this.start.resolve(e,"left");return";"===this.separator&&(e.cursorStartPosition=e.cursorStopPosition=new i.Position(r,0)),r>t.resolve(e,"right")?{start:t.resolve(e,"left"),end:this.start.resolve(e,"right")}:{start:r,end:t.resolve(e,"right")}}resolveToRange(e){const{start:t,end:r}=this.resolve(e);return new i.Range(new i.Position(t,0),new i.Position(r,0).getLineEnd())}toString(){return`${this.start.toString()}${this.separator??""}${this.end?.toString()??""}`}}t.LineRange=f,f.parser=(0,n.alt)((0,n.seq)(h.parser.skip(n.optWhitespace),(0,n.seq)((0,n.alt)((0,n.string)(","),(0,n.string)(";")).skip(n.optWhitespace),h.parser.fallback(void 0)).fallback(void 0)).map((([e,t])=>{if(t){const[r,n]=t;return new f(e,r,n)}return new f(e)})),(0,n.seq)((0,n.alt)((0,n.string)(","),(0,n.string)(";")).skip(n.optWhitespace),h.parser.fallback(void 0)).map((e=>{const[t,r]=e;return new f(new h({type:"current_line"}),t,r)})))},2140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keystrokesExpressionForMacroParser=t.keystrokesExpressionParser=t.fileCmdParser=t.fileOptParser=t.fileNameParser=t.bangParser=t.integerParser=t.numberParser=void 0,t.nameAbbrevParser=function(e,t){const r=[...Array(t.length+1).keys()].reverse().map((e=>t.substring(0,e)));return(0,n.string)(e).then((0,n.alt)(...r.map(n.string))).map((t=>e+t))};const n=r(9218),i=r(7183);t.numberParser=(0,n.regexp)(/\d+/).map((e=>Number.parseInt(e,10))).desc("a number"),t.integerParser=(0,n.regexp)(/-?\d+/).map((e=>Number.parseInt(e,10))),t.bangParser=(0,n.string)("!").fallback(void 0).map((e=>void 0!==e)),t.fileNameParser=(0,n.alt)((0,n.string)("\\").then(n.any.fallback(void 0).map((e=>void 0===e||"\\"===e?"\\":" "===e?" ":`\\${e}`))),(0,n.regexp)(/\S/)).atLeast(1).map((e=>e.join(""))),t.fileOptParser=(0,n.string)("++").then((0,n.seq)((0,n.alt)((0,n.alt)((0,n.string)("ff"),(0,n.string)("fileformat")).result("ff"),(0,n.alt)((0,n.string)("enc"),(0,n.string)("encoding")).result("enc"),(0,n.alt)((0,n.string)("bin"),(0,n.string)("binary")).result("bin"),(0,n.alt)((0,n.string)("nobin"),(0,n.string)("nobinary")).result("nobin"),(0,n.string)("bad"),(0,n.string)("edit")),(0,n.string)("=").then((0,n.regexp)(/\S+/)).fallback(void 0))).sepBy(n.whitespace).desc("[++opt]"),t.fileCmdParser=(0,n.string)("+").then((0,n.alt)(t.numberParser.map((e=>({type:"line_number",line:e}))),(0,n.succeed)({type:"last_line"}))).fallback(void 0).desc("[+cmd]");const o=(0,n.regexp)(/<leader>/).map((()=>i.configuration.leader)),s=(0,n.regexp)(/<(?:Esc|C-\w|A-\w|C-A-\w)>/),a=(0,n.alt)(s,o),c=(0,n.string)("\\").then(n.any.fallback(void 0)).map((e=>void 0===e?"\\\\":"n"===e?"\n":"\\"+e));t.keystrokesExpressionParser=(0,n.alt)(c,a,(0,n.noneOf)('"')).many(),t.keystrokesExpressionForMacroParser=(0,n.alt)(c,a,(0,n.noneOf)('"')).many()},2270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchOffset=t.Pattern=t.SearchDirection=void 0,t.searchStringParser=c;const n=r(9218),i=r(1398),o=r(7183),s=r(7892),a=r(2140);function c(e){return(0,n.seq)(l.parser(e),(0,n.lazy)((()=>h.parser.fallback(void 0)))).map((([e,t])=>({pattern:e,offset:t})))}var u;!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(u||(t.SearchDirection=u={}));class l{nextMatch(e,t){if(this.emptyBranch){const e=t.getRightThroughLineBreaks();return new i.Range(e,e)}const r=e.getText();this.regex.lastIndex=e.offsetAt(t)+1;const n=this.regex.exec(r);return n?new i.Range(e.positionAt(n.index),e.positionAt(n.index+n.length)):void 0}allMatches(e,t){if(this.emptyBranch)return[{range:new i.Range(new i.Position(0,0),s.TextEditor.getDocumentEnd(e.document)),groups:[]}];let r,n,o,a,c;if("lineRange"in t?(n=t.lineRange.resolve(e),r=new i.Position(n.start,0)):r=t.fromPosition,this.inSelection&&e.lastVisualSelection){const t=new i.Range(e.lastVisualSelection.start,e.lastVisualSelection.end);o=e.document.getText(t),a=e.document.offsetAt(e.lastVisualSelection.start),c=t.contains(r)?e.document.offsetAt(r)-a:0}else o=e.document.getText(),a=0,c=e.document.offsetAt(r)-a;this.regex.lastIndex=c;const u=Date.now(),d={beforeWrapping:[],afterWrapping:[]};let h=!1;for(;;){const t=this.regex.exec(o);if(t){if(h&&t.index>=c)break;const r=new i.Range(e.document.positionAt(a+t.index),e.document.positionAt(a+t.index+t[0].length));if(!this.inSelection&&n&&(r.start.line<n.start||r.end.line>n.end))break;if((h?d.afterWrapping:d.beforeWrapping).push({range:r,groups:t}),Date.now()-u>l.MAX_SEARCH_TIME)break;r.start.isEqual(r.end)&&this.regex.lastIndex++}else{if(h)break;this.regex.lastIndex=0,h=!0}}return d.afterWrapping.concat(d.beforeWrapping)}static compileRegex(e,t){const r=t??o.configuration.ignorecase?"gim":"gm";try{return new RegExp(e,r)}catch(t){return new RegExp(e.replace(l.SPECIAL_CHARS_REGEX,"\\$&"),r)}}static parser(e){const t=e.delimiter?e.delimiter:e.direction===u.Forward?"/":"?";return(0,n.seqMap)((0,n.string)("|").result(!0).fallback(!1),(0,n.alt)((0,n.string)("\\%V").map((e=>({inSelection:!0}))),(0,n.string)("$").map((()=>"(?:$(?<!\\r))")),(0,n.string)("^").map((()=>"(?:^(?<!\\r))")),(0,n.string)("|").then(n.eof).map((()=>({emptyBranch:!0}))),(0,n.string)("\\").then(n.any.fallback(void 0)).map((e=>void 0===e?"\\\\":e===t?t:"c"===e?{ignorecase:!0}:"C"===e?{ignorecase:!1}:"<"===e||">"===e?"\\b":"n"===e?"\\r?\\n":"\\"+e)),(0,n.alt)((0,n.string)("\\").then(n.any.fallback(void 0)).map((e=>"\\"+(e??"\\"))),(0,n.noneOf)("]")).many().wrap((0,n.string)("["),(0,n.string)("]")).map((e=>"["+e.join("")+"]")),(0,n.noneOf)(t)).many(),(0,n.string)(t).fallback(void 0),((e,t,r)=>{let n,i,o=e?"|":"",s=e;for(const e of t)"string"==typeof e?o+=e:e.emptyBranch?(s=!0,o+="|"):e.ignorecase?n=!0:e.inSelection?i=e.inSelection:void 0===n&&(n=!1);return{patternString:o,caseOverride:n,inSelection:i,closed:void 0!==r,emptyBranch:s}})).map((({patternString:t,caseOverride:r,inSelection:n,closed:i,emptyBranch:o})=>{const s=l.getIgnoreCase(t,{caseOverride:r,ignoreSmartcase:e.ignoreSmartcase??!1});return new l(t,e.direction,l.compileRegex(t,s),n??!1,i,o)}))}static getIgnoreCase(e,t){return void 0!==t.caseOverride?t.caseOverride:!(o.configuration.smartcase&&!t.ignoreSmartcase&&/[A-Z]/.test(e))&&o.configuration.ignorecase}constructor(e,t,r,n,i,o){this.patternString=e,this.direction=t,this.regex=r,this.inSelection=n,this.closed=i,this.emptyBranch=o}}t.Pattern=l,l.MAX_SEARCH_TIME=1e3,l.SPECIAL_CHARS_REGEX=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;const d=(0,n.oneOf)("esb").fallback(void 0).map((e=>void 0===e?"lines":"e"===e?"chars_from_end":"chars_from_start"));class h{constructor(e){this.data=e}apply(e){switch(this.data.type){case"lines":return 0===this.data.delta?e.start:new i.Position(e.end.line+this.data.delta,0);case"chars_from_start":return e.start.getOffsetThroughLineBreaks(this.data.delta);case"chars_from_end":return e.end.getOffsetThroughLineBreaks(this.data.delta-1);default:throw this.data,new Error("Unexpected SearchOffset type")}}}t.SearchOffset=h,h.parser=(0,n.alt)((0,n.seq)(d,(0,n.oneOf)("+-").fallback("+"),a.numberParser).map((([e,t,r])=>new h({type:e,delta:"-"===t?-r:r}))),(0,n.seq)(d,(0,n.oneOf)("+-")).map((([e,t])=>new h({type:e,delta:"-"===t?-1:1}))),(0,n.seq)(d).map((([e])=>new h({type:e,delta:0}))),(0,n.string)(";/").then(c({direction:u.Forward})).map((({pattern:e,offset:t})=>new h({type:"pattern",direction:u.Forward,pattern:e,offset:t}))),(0,n.string)(";?").then(c({direction:u.Backward})).map((({pattern:e,offset:t})=>new h({type:"pattern",direction:u.Backward,pattern:e,offset:t}))))},7697:(e,t,r)=>{"use strict";const n=r(857).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return n?e.replace(/^~(?=$|\/|\\)/,n):e}},7983:(e,t,r)=>{e.exports=r(9023).deprecate},3623:(e,t,r)=>{"use strict";e.exports=r(8056),e.exports.LegacyTransportStream=r(1136)},1136:(e,t,r)=>{"use strict";const n=r(9023),{LEVEL:i}=r(4763),o=r(8056),s=e.exports=function(e={}){if(o.call(this,e),!e.transport||"function"!=typeof e.transport.log)throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function(e){this.emit("error",e,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};n.inherits(s,o),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);(!this.level||this.levels[this.level]>=this.levels[e[i]])&&this.transport.log(e[i],e.message,e,this._nop),r(null)},s.prototype._writev=function(e,t){for(let t=0;t<e.length;t++)this._accept(e[t])&&(this.transport.log(e[t].chunk[i],e[t].chunk.message,e[t].chunk,this._nop),e[t].callback());return t(null)},s.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join("\n"))},s.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},8056:(e,t,r)=>{"use strict";const n=r(9023),i=r(4418),{LEVEL:o}=r(4763),s=e.exports=function(e={}){i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",(e=>{this.levels=e.levels,this.parent=e})),this.once("unpipe",(e=>{e===this.parent&&(this.parent=null,this.close&&this.close())}))};n.inherits(s,i),s.prototype._write=function(e,t,r){if(this.silent||!0===e.exception&&!this.handleExceptions)return r(null);const n=this.level||this.parent&&this.parent.level;if(!n||this.levels[n]>=this.levels[e[o]]){if(e&&!this.format)return this.log(e,r);let t,n;try{n=this.format.transform(Object.assign({},e),this.format.options)}catch(e){t=e}if(t||!n){if(r(),t)throw t;return}return this.log(n,r)}return this._writableState.sync=!1,r(null)},s.prototype._writev=function(e,t){if(this.logv){const r=e.filter(this._accept,this);return r.length?this.logv(r,t):t(null)}for(let r=0;r<e.length;r++){if(!this._accept(e[r]))continue;if(e[r].chunk&&!this.format){this.log(e[r].chunk,e[r].callback);continue}let n,i;try{i=this.format.transform(Object.assign({},e[r].chunk),this.format.options)}catch(e){n=e}if(n||!i){if(e[r].callback(),n)throw t(null),n}else this.log(i,e[r].callback)}return t(null)},s.prototype._accept=function(e){const t=e.chunk;if(this.silent)return!1;const r=this.level||this.parent&&this.parent.level;return!(!0!==t.exception&&r&&!(this.levels[r]>=this.levels[t[o]])||!this.handleExceptions&&!0===t.exception)},s.prototype._nop=function(){}},223:e=>{"use strict";const t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super(function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s=`The ${e} ${i} ${n(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${n(t,"type")}`}var a,c;return s+=". Received type "+typeof r,s}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},3336:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(3342),o=r(4418);r(2017)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3342:(e,t,r)=>{"use strict";var n;e.exports=C,C.ReadableState=M,r(4434).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=r(5926),a=r(181).Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(9023);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=r(4979),p=r(358),m=r(6969).getHighWaterMark,g=r(223).F,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(2017)(C,s);var x=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function M(e,t,i){n=n||r(3336),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(3141).I),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(3336),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function _(e,t,r,n,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?E(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,u);else if(o||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),s)x(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)u.endEmitted?x(e,new w):P(e,u,t,!0);else if(u.ended)x(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?P(e,u,t,!1):O(e,u)):P(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function P(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),O(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},C.prototype.unshift=function(e){return _(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){l||(l=r(3141).I);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){i("readable nexttick read 0"),e.read(0)}function $(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(D,t,e))}function D(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function V(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):E(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){x(this,new b("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==V(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&x(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=V(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?E(this):n.reading||process.nextTick(B,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),r},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick($,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(3285)),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===h&&(h=r(6182)),h(C,e,t)})},4418:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=M;var o,s={deprecate:r(7983)},a=r(5926),c=r(181).Buffer,u=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(358),d=r(6969).getHighWaterMark,h=r(223).F,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function S(){}function M(e,t,o){i=i||r(3336),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,x(e,n)):(i(n),e._writableState.errorEmitted=!0,x(e,n),A(e,t))}(e,r,n,t,i);else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(P,e,r,o,i):P(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(3336));if(!t&&!o.call(C,this))return new C(e);this._writableState=new M(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function _(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function P(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,_(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(_(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(E,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(2017)(C,a),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===C&&e&&e._writableState instanceof M}})):o=function(e){return e instanceof this},C.prototype.pipe=function(){x(this,new g)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(e,t){var r=new b;x(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(x(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,a,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},3285:(e,t,r)=>{"use strict";var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(3484),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(f(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(f(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[s]=null,r[a]=null,e(f(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},4979:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(181).Buffer,u=r(9023).inspect,l=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,c.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},358:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},3484:(e,t,r)=>{"use strict";var n=r(223).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},6182:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(223).F.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var a;if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);a=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return d.apply(this,arguments)}function d(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}},d=function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))},d.apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},6969:(e,t,r)=>{"use strict";var n=r(223).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},5926:(e,t,r)=>{e.exports=r(2203)},555:(e,t,r)=>{"use strict";const n=r(2711),{warn:i}=r(2159);t.version=r(6256).version,t.transports=r(3475),t.config=r(6956),t.addColors=n.levels,t.format=n.format,t.createLogger=r(2751),t.Logger=r(8010),t.ExceptionHandler=r(504),t.RejectionHandler=r(2134),t.Container=r(7083),t.Transport=r(3623),t.loggers=new t.Container;const o=t.createLogger();Object.keys(t.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach((e=>t[e]=(...t)=>o[e](...t))),Object.defineProperty(t,"level",{get:()=>o.level,set(e){o.level=e}}),Object.defineProperty(t,"exceptions",{get:()=>o.exceptions}),Object.defineProperty(t,"rejections",{get:()=>o.rejections}),["exitOnError"].forEach((e=>{Object.defineProperty(t,e,{get:()=>o[e],set(t){o[e]=t}})})),Object.defineProperty(t,"default",{get:()=>({exceptionHandlers:o.exceptionHandlers,rejectionHandlers:o.rejectionHandlers,transports:o.transports})}),i.deprecated(t,"setLevels"),i.forFunctions(t,"useFormat",["cli"]),i.forProperties(t,"useFormat",["padLevels","stripColors"]),i.forFunctions(t,"deprecated",["addRewriter","addFilter","clone","extend"]),i.forProperties(t,"deprecated",["emitErrs","levelLength"])},2159:(e,t,r)=>{"use strict";const{format:n}=r(9023);t.warn={deprecated:e=>()=>{throw new Error(n("{ %s } was removed in winston@3.0.0.",e))},useFormat:e=>()=>{throw new Error([n("{ %s } was removed in winston@3.0.0.",e),"Use a custom winston.format = winston.format(function) instead."].join("\n"))},forFunctions(e,r,n){n.forEach((n=>{e[n]=t.warn[r](n)}))},forProperties(e,r,n){n.forEach((n=>{const i=t.warn[r](n);Object.defineProperty(e,n,{get:i,set:i})}))}}},6956:(e,t,r)=>{"use strict";const n=r(2711),{configs:i}=r(4763);t.cli=n.levels(i.cli),t.npm=n.levels(i.npm),t.syslog=n.levels(i.syslog),t.addColors=n.levels},7083:(e,t,r)=>{"use strict";const n=r(2751);e.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,t){if(!this.loggers.has(e)){const r=(t=Object.assign({},t||this.options)).transports||this.options.transports;t.transports=r?Array.isArray(r)?r.slice():[r]:[];const i=n(t);i.on("close",(()=>this._delete(e))),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,t){return this.add(e,t)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach(((e,t)=>this._removeLogger(t)))}_removeLogger(e){this.loggers.has(e)&&(this.loggers.get(e).close(),this._delete(e))}_delete(e){this.loggers.delete(e)}}},2751:(e,t,r)=>{"use strict";const{LEVEL:n}=r(4763),i=r(6956),o=r(8010),s=r(7918)("winston:create-logger");e.exports=function(e={}){e.levels=e.levels||i.npm.levels;class t extends o{constructor(e){super(e)}}const r=new t(e);return Object.keys(e.levels).forEach((function(e){s('Define prototype method for "%s"',e),"log"!==e?(t.prototype[e]=function(...t){const i=this||r;if(1===t.length){const[o]=t,s=o&&o.message&&o||{message:o};return s.level=s[n]=e,i._addDefaultMeta(s),i.write(s),this||r}return 0===t.length?(i.log(e,""),i):i.log(e,...t)},t.prototype[function(e){return"is"+e.charAt(0).toUpperCase()+e.slice(1)+"Enabled"}(e)]=function(){return(this||r).isLevelEnabled(e)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')})),r}},504:(e,t,r)=>{"use strict";const n=r(857),i=r(8521),o=r(7918)("winston:exception"),s=r(7347),a=r(5031),c=r(5238);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach((e=>{if(Array.isArray(e))return e.forEach((e=>this._addHandler(e)));this._addHandler(e)})),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((e=>this.logger.unpipe(e))))}getAllInfo(e){let t=null;return e&&(t="string"==typeof e?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${t||"(no error message)"}`,e&&e.stack||"  No stack trace"].join("\n"),stack:e&&e.stack,exception:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map((e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()})))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_uncaughtException(e){const t=this.getAllInfo(e),r=this._getExceptionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,((e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(()=>a&&c())),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getExceptionHandlers(){return this.logger.transports.filter((e=>(e.transport||e).handleExceptions))}}},5238:(e,t,r)=>{"use strict";const{Writable:n}=r(2092);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,t,r){return e.exception?this.transport.log(e,r):(r(),!0)}}},8010:(e,t,r)=>{"use strict";const{Stream:n,Transform:i}=r(2092),o=r(8521),{LEVEL:s,SPLAT:a}=r(4763),c=r(1232),u=r(504),l=r(2134),d=r(1136),h=r(3583),{warn:f}=r(2159),p=r(6956),m=/%[scdjifoO%]/g;class g extends i{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){const t=this;return Object.create(t,{write:{value:function(r){const n=Object.assign({},e,r);r instanceof Error&&(n.stack=r.stack,n.message=r.message),t.write(n)}}})}configure({silent:e,format:t,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:c,emitErrs:d,formatters:h,padLevels:f,rewriters:m,stripColors:g,exceptionHandlers:v,rejectionHandlers:y}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=t||this.format||r(1049)(),this.defaultMeta=n||null,this.levels=i||this.levels||p.npm.levels,this.level=o,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new u(this),this.rejections=new l(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a]).forEach((e=>this.add(e))),c||d||h||f||m||g)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"));v&&this.exceptions.handle(v),y&&this.rejections.handle(y)}isLevelEnabled(e){const t=v(this.levels,e);if(null===t)return!1;const r=v(this.levels,this.level);return null!==r&&(this.transports&&0!==this.transports.length?-1!==this.transports.findIndex((e=>{let n=v(this.levels,e.level);return null===n&&(n=r),n>=t})):r>=t)}log(e,t,...r){if(1===arguments.length)return e[s]=e.level,this._addDefaultMeta(e),this.write(e),this;if(2===arguments.length)return t&&"object"==typeof t?(t[s]=t.level=e,this._addDefaultMeta(t),this.write(t),this):(t={[s]:e,level:e,message:t},this._addDefaultMeta(t),this.write(t),this);const[n]=r;if("object"==typeof n&&null!==n&&!(t&&t.match&&t.match(m))){const i=Object.assign({},this.defaultMeta,n,{[s]:e,[a]:r,level:e,message:t});return n.message&&(i.message=`${i.message} ${n.message}`),n.stack&&(i.stack=n.stack),this.write(i),this}return this.write(Object.assign({},this.defaultMeta,{[s]:e,[a]:r,level:e,message:t})),this}_transform(e,t,r){if(this.silent)return r();e[s]||(e[s]=e.level),this.levels[e[s]]||0===this.levels[e[s]]||console.error("[winston] Unknown logger level: %s",e[s]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,r()}}_final(e){const t=this.transports.slice();o(t,((e,t)=>{if(!e||e.finished)return setImmediate(t);e.once("finish",t),e.end()}),e)}add(e){const t=!c(e)||e.log.length>2?new d({transport:e}):e;if(!t._writableState||!t._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",t),this._onEvent("warn",t),this.pipe(t),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let t=e;return(!c(e)||e.log.length>2)&&(t=this.transports.filter((t=>t.transport===e))[0]),t&&this.unpipe(t),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){f.deprecated("setLevels")}query(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};const r={},n=Object.assign({},e.query||{});o(this.transports.filter((e=>!!e.query)),(function(t,i){!function(t,r){e.query&&"function"==typeof t.formatQuery&&(e.query=t.formatQuery(n)),t.query(e,((n,i)=>{if(n)return r(n);"function"==typeof t.formatResults&&(i=t.formatResults(i,e.format)),r(null,i)}))}(t,((e,n)=>{i&&((n=e||n)&&(r[t.name]=n),i()),i=null}))}),(()=>t(null,r)))}stream(e={}){const t=new n,r=[];return t._streams=r,t.destroy=()=>{let e=r.length;for(;e--;)r[e].destroy()},this.transports.filter((e=>!!e.stream)).forEach((n=>{const i=n.stream(e);i&&(r.push(i),i.on("log",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("log",e)})),i.on("error",(e=>{e.transport=e.transport||[],e.transport.push(n.name),t.emit("error",e)})))})),t}startTimer(){return new h(this)}profile(e,...t){const r=Date.now();if(this.profilers[e]){const n=this.profilers[e];delete this.profilers[e],"function"==typeof t[t.length-2]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),t.pop());const i="object"==typeof t[t.length-1]?t.pop():{};return i.level=i.level||"info",i.durationMs=r-n,i.message=i.message||e,this.write(i)}return this.profilers[e]=r,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join("\n"))}_onEvent(e,t){t["__winston"+e]||(t["__winston"+e]=function(r){"error"!==e||this.transports.includes(t)||this.add(t),this.emit(e,r,t)}.bind(this),t.on(e,t["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}}function v(e,t){const r=e[t];return r||0===r?r:null}Object.defineProperty(g.prototype,"transports",{configurable:!1,enumerable:!0,get(){const{pipes:e}=this._readableState;return Array.isArray(e)?e:[e].filter(Boolean)}}),e.exports=g},3583:(e,t,r)=>{"use strict";e.exports=class{constructor(e){const t=r(8010);if("object"!=typeof e||Array.isArray(e)||!(e instanceof t))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){"function"==typeof e[e.length-1]&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());const t="object"==typeof e[e.length-1]?e.pop():{};return t.level=t.level||"info",t.durationMs=Date.now()-this.start,this.logger.write(t)}}},2134:(e,t,r)=>{"use strict";const n=r(857),i=r(8521),o=r(7918)("winston:rejection"),s=r(7347),a=r(5031),c=r(1667);e.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach((e=>{if(Array.isArray(e))return e.forEach((e=>this._addHandler(e)));this._addHandler(e)})),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach((e=>this.logger.unpipe(e))))}getAllInfo(e){let t=null;return e&&(t="string"==typeof e?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${t||"(no error message)"}`,e&&e.stack||"  No stack trace"].join("\n"),stack:e&&e.stack,rejection:!0,date:(new Date).toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:n.loadavg(),uptime:n.uptime()}}getTrace(e){return(e?a.parse(e):a.get()).map((e=>({column:e.getColumnNumber(),file:e.getFileName(),function:e.getFunctionName(),line:e.getLineNumber(),method:e.getMethodName(),native:e.isNative()})))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;const t=new c(e);this.handlers.set(e,t),this.logger.pipe(t)}}_unhandledRejection(e){const t=this.getAllInfo(e),r=this._getRejectionHandlers();let n,a="function"==typeof this.logger.exitOnError?this.logger.exitOnError(e):this.logger.exitOnError;function c(){o("doExit",a),o("process._exiting",process._exiting),a&&!process._exiting&&(n&&clearTimeout(n),process.exit(1))}if(!r.length&&a&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),a=!1),!r||0===r.length)return process.nextTick(c);i(r,((e,t)=>{const r=s(t),n=e.transport||e;function i(e){return()=>{o(e),r()}}n._ending=!0,n.once("finish",i("finished")),n.once("error",i("error"))}),(()=>a&&c())),this.logger.log(t),a&&(n=setTimeout(c,3e3))}_getRejectionHandlers(){return this.logger.transports.filter((e=>(e.transport||e).handleRejections))}}},1667:(e,t,r)=>{"use strict";const{Writable:n}=r(2092);e.exports=class extends n{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,t,r){return e.rejection?this.transport.log(e,r):(r(),!0)}}},7959:(e,t,r)=>{"use strict";const n=r(9896),{StringDecoder:i}=r(3193),{Stream:o}=r(2092);function s(){}e.exports=(e,t)=>{const r=Buffer.alloc(65536),a=new i("utf8"),c=new o;let u="",l=0,d=0;return-1===e.start&&delete e.start,c.readable=!0,c.destroy=()=>{c.destroyed=!0,c.emit("end"),c.emit("close")},n.open(e.file,"a+","0644",((i,o)=>{if(i)return t?t(i):c.emit("error",i),void c.destroy();!function i(){if(!c.destroyed)return n.read(o,r,0,r.length,l,((n,o)=>{if(n)return t?t(n):c.emit("error",n),void c.destroy();if(!o)return u&&((null==e.start||d>e.start)&&(t?t(null,u):c.emit("line",u)),d++,u=""),setTimeout(i,1e3);let s=a.write(r.slice(0,o));t||c.emit("data",s),s=(u+s).split(/\n+/);const h=s.length-1;let f=0;for(;f<h;f++)(null==e.start||d>e.start)&&(t?t(null,s[f]):c.emit("line",s[f])),d++;return u=s[h],l+=o,i()}));n.close(o,s)}()})),t?c.destroy:c}},7522:(e,t,r)=>{"use strict";const n=r(857),{LEVEL:i,MESSAGE:o}=r(4763),s=r(3623);e.exports=class extends s{_consoleLog=console.log.bind(console);_consoleWarn=console.warn.bind(console);_consoleError=console.error.bind(console);constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol="string"==typeof e.eol?e.eol:n.EOL,this.forceConsole=e.forceConsole||!1,this.setMaxListeners(30)}log(e,t){return setImmediate((()=>this.emit("logged",e))),this.stderrLevels[e[i]]?(console._stderr&&!this.forceConsole?console._stderr.write(`${e[o]}${this.eol}`):this._consoleError(e[o]),void(t&&t())):this.consoleWarnLevels[e[i]]?(console._stderr&&!this.forceConsole?console._stderr.write(`${e[o]}${this.eol}`):this._consoleWarn(e[o]),void(t&&t())):(console._stdout&&!this.forceConsole?console._stdout.write(`${e[o]}${this.eol}`):this._consoleLog(e[o]),void(t&&t()))}_stringArrayToSet(e,t){if(!e)return{};if(t=t||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(t);return e.reduce(((e,r)=>{if("string"!=typeof r)throw new Error(t);return e[r]=!0,e}),{})}}},4873:(e,t,r)=>{"use strict";const n=r(9896),i=r(6928),o=r(7814),s=r(3106),{MESSAGE:a}=r(4763),{Stream:c,PassThrough:u}=r(2092),l=r(3623),d=r(7918)("winston:file"),h=r(857),f=r(7959);e.exports=class extends l{constructor(e={}){function t(t,...r){r.slice(1).forEach((r=>{if(e[r])throw new Error(`Cannot set ${r} and ${t} together`)}))}if(super(e),this.name=e.name||"file",this._stream=new u,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)t("filename or dirname","stream"),this._basename=this.filename=e.filename?i.basename(e.filename):"winston.log",this.dirname=e.dirname||i.dirname(e.filename),this.options=e.options||{flags:"a"};else{if(!e.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),t("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=i.dirname(this._dest.path)}this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol="string"==typeof e.eol?e.eol:h.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",(()=>{this._stream.once("finish",(()=>this.emit("finish"))),setImmediate((()=>this._stream.end()))})):(this._stream.once("finish",(()=>this.emit("finish"))),setImmediate((()=>this._stream.end()))))}log(e,t=(()=>{})){if(this.silent)return t(),!0;if(this._drain)return void this._stream.once("drain",(()=>{this._drain=!1,this.log(e,t)}));if(this._rotate)return void this._stream.once("rotate",(()=>{this._rotate=!1,this.log(e,t)}));if(this.lazy){if(!this._fileExist)return this._opening||this.open(),void this.once("open",(()=>{this._fileExist=!0,this.log(e,t)}));if(this._needsNewFile(this._pendingSize))return void this._dest.once("close",(()=>{this._opening||this.open(),this.once("open",(()=>{this.log(e,t)}))}))}const r=`${e[a]}${this.eol}`,n=Buffer.byteLength(r);this._pendingSize+=n,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);const i=this._stream.write(r,function(){this._size+=n,this._pendingSize-=n,d("logged %s %s",this._size,r),this.emit("logged",e),this._rotate||this._opening||this._needsNewFile()&&(this.lazy?this._endStream((()=>{this.emit("fileclosed")})):(this._rotate=!0,this._endStream((()=>this._rotateFile()))))}.bind(this));return i?t():(this._drain=!0,this._stream.once("drain",(()=>{this._drain=!1,t()}))),d("written",i,this._drain),this.finishIfEnding(),i}query(e,t){"function"==typeof e&&(t=e,e={}),e=function(e){return(e=e||{}).rows=e.rows||e.limit||10,e.start=e.start||0,e.until=e.until||new Date,"object"!=typeof e.until&&(e.until=new Date(e.until)),e.from=e.from||e.until-864e5,"object"!=typeof e.from&&(e.from=new Date(e.from)),e.order=e.order||"desc",e}(e);const r=i.join(this.dirname,this.filename);let o="",s=[],a=0;const c=n.createReadStream(r,{encoding:"utf8"});function u(t,r){try{const r=JSON.parse(t);(function(t){if(!t)return;if("object"!=typeof t)return;const r=new Date(t.timestamp);return!(e.from&&r<e.from||e.until&&r>e.until||e.level&&e.level!==t.level)||void 0})(r)&&function(t){e.rows&&s.length>=e.rows&&"desc"!==e.order?c.readable&&c.destroy():(e.fields&&(t=e.fields.reduce(((e,r)=>(e[r]=t[r],e)),{})),"desc"===e.order&&s.length>=e.rows&&s.shift(),s.push(t))}(r)}catch(e){r||c.emit("error",e)}}c.on("error",(e=>{if(c.readable&&c.destroy(),t)return"ENOENT"!==e.code?t(e):t(null,s)})),c.on("data",(t=>{const r=(t=(o+t).split(/\n+/)).length-1;let n=0;for(;n<r;n++)(!e.start||a>=e.start)&&u(t[n]),a++;o=t[r]})),c.on("close",(()=>{o&&u(o,!0),"desc"===e.order&&(s=s.reverse()),t&&t(null,s)}))}stream(e={}){const t=i.join(this.dirname,this.filename),r=new c,n={file:t,start:e.start};return r.destroy=f(n,((e,t)=>{if(e)return r.emit("error",e);try{r.emit("data",t),t=JSON.parse(t),r.emit("log",t)}catch(e){r.emit("error",e)}})),r}open(){this.filename&&(this._opening||(this._opening=!0,this.stat(((e,t)=>{if(e)return this.emit("error",e);d("stat done: %s { size: %s }",this.filename,t),this._size=t,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",(()=>{this._stream.emit("rotate")||(this._rotate=!1)}))}))))}stat(e){const t=this._getFile(),r=i.join(this.dirname,t);n.stat(r,((n,i)=>n&&"ENOENT"===n.code?(d("ENOENT ok",r),this.filename=t,e(null,0)):n?(d(`err ${n.code} ${r}`),e(n)):!i||this._needsNewFile(i.size)?this._incFile((()=>this.stat(e))):(this.filename=t,void e(null,i.size))))}close(e){this._stream&&this._stream.end((()=>{e&&e(),this.emit("flush"),this.emit("closed")}))}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile((()=>this.open()))}_endStream(e=(()=>{})){this._dest?(this._stream.unpipe(this._dest),this._dest.end((()=>{this._cleanupStream(this._dest),e()}))):e()}_createStream(e){const t=i.join(this.dirname,this.filename);d("create stream start",t,this.options);const r=n.createWriteStream(t,this.options).on("error",(e=>d(e))).on("close",(()=>d("close",r.path,r.bytesWritten))).on("open",(()=>{d("file open ok",t),this.emit("open",t),e.pipe(r),this.rotatedWhileOpening&&(this._stream=new u,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(r),e.end())}));return d("create stream ok",t),r}_incFile(e){d("_incFile",this.filename);const t=i.extname(this._basename),r=i.basename(this._basename,t),n=[];this.zippedArchive&&n.push(function(e){const n=this._created>0&&!this.tailable?this._created:"";this._compressFile(i.join(this.dirname,`${r}${n}${t}`),i.join(this.dirname,`${r}${n}${t}.gz`),e)}.bind(this)),n.push(function(e){this.tailable?this._checkMaxFilesTailable(t,r,e):(this._created+=1,this._checkMaxFilesIncrementing(t,r,e))}.bind(this)),o(n,e)}_getFile(){const e=i.extname(this._basename),t=i.basename(this._basename,e),r=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${t}${r}${e}`:`${t}${e}`}_checkMaxFilesIncrementing(e,t,r){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(r);const o=this._created-this.maxFiles,s=`${t}${0!==o?o:""}${e}${this.zippedArchive?".gz":""}`,a=i.join(this.dirname,s);n.unlink(a,r)}_checkMaxFilesTailable(e,t,r){const s=[];if(!this.maxFiles)return;const a=this.zippedArchive?".gz":"";for(let r=this.maxFiles-1;r>1;r--)s.push(function(r,o){let s=`${t}${r-1}${e}${a}`;const c=i.join(this.dirname,s);n.exists(c,(u=>{if(!u)return o(null);s=`${t}${r}${e}${a}`,n.rename(c,i.join(this.dirname,s),o)}))}.bind(this,r));o(s,(()=>{n.rename(i.join(this.dirname,`${t}${e}${a}`),i.join(this.dirname,`${t}1${e}${a}`),r)}))}_compressFile(e,t,r){n.access(e,n.F_OK,(i=>{if(i)return r();var o=s.createGzip(),a=n.createReadStream(e),c=n.createWriteStream(t);c.on("finish",(()=>{n.unlink(e,r)})),a.pipe(o).pipe(c)}))}_createLogDirIfNotExist(e){n.existsSync(e)||n.mkdirSync(e,{recursive:!0})}}},5071:(e,t,r)=>{"use strict";const n=r(8611),i=r(5692),{Stream:o}=r(2092),s=r(3623),{configure:a}=r(2068);e.exports=class extends s{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,t){this._request(e,null,null,((t,r)=>{r&&200!==r.statusCode&&(t=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),t?this.emit("warn",t):this.emit("logged",e)})),t&&setImmediate(t)}query(e,t){"function"==typeof e&&(t=e,e={});const r=(e={method:"query",params:this.normalizeQuery(e)}).params.auth||null;delete e.params.auth;const n=e.params.path||null;delete e.params.path,this._request(e,r,n,((e,r,n)=>{if(r&&200!==r.statusCode&&(e=new Error(`Invalid HTTP Status Code: ${r.statusCode}`)),e)return t(e);if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return t(e)}t(null,n)}))}stream(e={}){const t=new o,r=(e={method:"stream",params:e}).params.path||null;delete e.params.path;const n=e.params.auth||null;delete e.params.auth;let i="";const s=this._request(e,n,r);return t.destroy=()=>s.destroy(),s.on("data",(e=>{const r=(e=(i+e).split(/\n+/)).length-1;let n=0;for(;n<r;n++)try{t.emit("log",JSON.parse(e[n]))}catch(e){t.emit("error",e)}i=e[r]})),s.on("error",(e=>t.emit("error",e))),t}_request(e,t,r,n){e=e||{},t=t||this.auth,r=r||this.path||"",this.batch?this._doBatch(e,n,t,r):this._doRequest(e,n,t,r)}_doBatch(e,t,r,n){if(this.batchOptions.push(e),1===this.batchOptions.length){const e=this;this.batchCallback=t,this.batchTimeoutID=setTimeout((function(){e.batchTimeoutID=-1,e._doBatchRequest(e.batchCallback,r,n)}),this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,r,n)}_doBatchRequest(e,t,r){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);const n=this.batchOptions.slice();this.batchOptions=[],this._doRequest(n,e,t,r)}_doRequest(e,t,r,o){const s=Object.assign({},this.headers);r&&r.bearer&&(s.Authorization=`Bearer ${r.bearer}`);const c=(this.ssl?i:n).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${o.replace(/^\//,"")}`,headers:s,auth:r&&r.username&&r.password?`${r.username}:${r.password}`:"",agent:this.agent});c.on("error",t),c.on("response",(e=>e.on("end",(()=>t(null,e))).resume()));const u=a({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});c.end(Buffer.from(u(e,this.options.replacer),"utf8"))}}},3475:(e,t,r)=>{"use strict";Object.defineProperty(t,"Console",{configurable:!0,enumerable:!0,get:()=>r(7522)}),Object.defineProperty(t,"File",{configurable:!0,enumerable:!0,get:()=>r(4873)}),Object.defineProperty(t,"Http",{configurable:!0,enumerable:!0,get:()=>r(5071)}),Object.defineProperty(t,"Stream",{configurable:!0,enumerable:!0,get:()=>r(5767)})},5767:(e,t,r)=>{"use strict";const n=r(1232),{MESSAGE:i}=r(4763),o=r(857),s=r(3623);e.exports=class extends s{constructor(e={}){if(super(e),!e.stream||!n(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol="string"==typeof e.eol?e.eol:o.EOL}log(e,t){if(setImmediate((()=>this.emit("logged",e))),this.isObjectMode)return this._stream.write(e),void(t&&t());this._stream.write(`${e[i]}${this.eol}`),t&&t()}}},3291:e=>{"use strict";const t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super(function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let i;var o;let s;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s=`The ${e} ${i} ${n(t,"type")}`;else{s=`The "${e}" ${"number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${i} ${n(t,"type")}`}var a,c;return s+=". Received type "+typeof r,s}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},2812:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(9362),o=r(5494);r(2017)(u,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var c=s[a];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3622:(e,t,r)=>{"use strict";e.exports=i;var n=r(2828);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(2017)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9362:(e,t,r)=>{"use strict";var n;e.exports=C,C.ReadableState=M,r(4434).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},s=r(5426),a=r(181).Buffer,c=global.Uint8Array||function(){},u=r(9023);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,d,h,f=r(1911),p=r(5314),m=r(2365).getHighWaterMark,g=r(3291).F,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(2017)(C,s);var x=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function M(e,t,i){n=n||r(2812),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(3141).I),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function C(e){if(n=n||r(2812),!(this instanceof C))return new C(e);var t=this instanceof n;this._readableState=new M(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function _(e,t,r,n,o){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?E(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,A(e)))}}(e,u);else if(o||(s=function(e,t){var r,n;return n=t,a.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new v("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),s)x(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)u.endEmitted?x(e,new w):P(e,u,t,!0);else if(u.ended)x(e,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?P(e,u,t,!1):O(e,u)):P(e,u,t,!1)}else n||(u.reading=!1,O(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function P(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&E(e)),O(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},C.prototype.unshift=function(e){return _(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){l||(l=r(3141).I);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var k=1073741824;function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=k?e=k:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(A,e))}function A(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,I(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){i("readable nexttick read 0"),e.read(0)}function $(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(D,t,e))}function D(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function V(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}C.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):E(this),null;if(0===(e=R(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},C.prototype._read=function(e){x(this,new b("_read()"))},C.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(o,s){i("onunpipe"),o===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,I(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==V(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),p(),e.removeListener("error",d),0===o(e,"error")&&x(e,t)}function h(){e.removeListener("finish",f),p()}function f(){i("onfinish"),e.removeListener("close",h),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",h),e.once("finish",f),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=V(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?E(this):n.reading||process.nextTick(B,this))),r},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),r},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick($,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<S.length;s++)e.on(S[s],this.emit.bind(this,S[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(7177)),d(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(C.from=function(e,t){return void 0===h&&(h=r(5362)),h(C,e,t)})},2828:(e,t,r)=>{"use strict";e.exports=l;var n=r(3291).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(2812);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(2017)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},5494:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=C,C.WritableState=M;var o,s={deprecate:r(7983)},a=r(5426),c=r(181).Buffer,u=global.Uint8Array||function(){},l=r(5314),d=r(2365).getHighWaterMark,h=r(3291).F,f=h.ERR_INVALID_ARG_TYPE,p=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,v=h.ERR_STREAM_DESTROYED,y=h.ERR_STREAM_NULL_VALUES,b=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function S(){}function M(e,t,o){i=i||r(2812),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(A,e,t),e._writableState.errorEmitted=!0,x(e,n)):(i(n),e._writableState.errorEmitted=!0,x(e,n),A(e,t))}(e,r,n,t,i);else{var o=R(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?process.nextTick(P,e,r,o,i):P(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function C(e){var t=this instanceof(i=i||r(2812));if(!t&&!o.call(C,this))return new C(e);this._writableState=new M(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function _(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new v("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function P(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)o[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;o.allBuffers=c,_(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(_(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(E,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(2017)(C,a),M.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(M.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===C&&e&&e._writableState instanceof M}})):o=function(e){return e instanceof this},C.prototype.pipe=function(){x(this,new g)},C.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=S),i.ending?function(e,t){var r=new b;x(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new y:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(x(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,a,n,i,o);return u}(this,i,s,e,t,r)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,r){r(new p("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=l.destroy,C.prototype._undestroy=l.undestroy,C.prototype._destroy=function(e,t){t(e)}},7177:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(6856),s=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[s]=null,e[a]=null,t(f(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(f(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(f(i,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(v,(i(t={},h,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[s]=null,r[a]=null,e(f(n,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[l]=null,r[s]=null,r[a]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[a]=null,n(f(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},1911:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(181).Buffer,a=r(9023).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},5314:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,s=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return s||a?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},6856:(e,t,r)=>{"use strict";var n=r(3291).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",f),t.removeListener("close",p)}}},5362:(e,t,r)=>{"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(3291).F.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var a;if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);a=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return d.apply(this,arguments)}function d(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}},d=function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))},d.apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},2452:(e,t,r)=>{"use strict";var n,i=r(3291).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(6856)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&h.forEach(c),o||(h.forEach(c),d(l))}))}));return t.reduce(u)}},2365:(e,t,r)=>{"use strict";var n=r(3291).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},5426:(e,t,r)=>{e.exports=r(2203)},2092:(e,t,r)=>{var n=r(2203);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(9362)).Stream=n||t,t.Readable=t,t.Writable=r(5494),t.Duplex=r(2812),t.Transform=r(2828),t.PassThrough=r(3622),t.finished=r(6856),t.pipeline=r(2452))},1398:e=>{"use strict";e.exports=require("vscode")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},8611:e=>{"use strict";e.exports=require("http")},5692:e=>{"use strict";e.exports=require("https")},8474:e=>{"use strict";e.exports=require("node:events")},7030:e=>{"use strict";e.exports=require("node:net")},7975:e=>{"use strict";e.exports=require("node:util")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},932:e=>{"use strict";e.exports=require("process")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},9023:e=>{"use strict";e.exports=require("util")},3106:e=>{"use strict";e.exports=require("zlib")},3986:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewIndexOutOfBoundsError:()=>W,DecodeError:()=>w,Decoder:()=>K,EXT_TIMESTAMP:()=>x,Encoder:()=>T,ExtData:()=>y,ExtensionCodec:()=>A,decode:()=>z,decodeArrayStream:()=>re,decodeAsync:()=>te,decodeMulti:()=>G,decodeMultiStream:()=>ne,decodeStream:()=>ie,decodeTimestampExtension:()=>R,decodeTimestampToTimeSpec:()=>k,encode:()=>B,encodeDateToTimeSpec:()=>_,encodeTimeSpecToTimestamp:()=>C,encodeTimestampExtension:()=>P});var n,i,o,s=4294967295;function a(e,t,r){var n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function c(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var u=("undefined"==typeof process||"never"!==(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function l(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if(0!=(4294967168&i))if(0==(4294965248&i))r+=2;else{if(i>=55296&&i<=56319&&n<t){var o=e.charCodeAt(n);56320==(64512&o)&&(++n,i=((1023&i)<<10)+(1023&o)+65536)}r+=0==(4294901760&i)?3:4}else r++}return r}var d=u?new TextEncoder:void 0,h=u?"undefined"!=typeof process&&"force"!==(null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.TEXT_ENCODING)?200:0:s,f=(null==d?void 0:d.encodeInto)?function(e,t,r){d.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(d.encode(e),r)};function p(e,t,r){for(var n=t,i=n+r,o=[],s="";n<i;){var a=e[n++];if(0==(128&a))o.push(a);else if(192==(224&a)){var c=63&e[n++];o.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[n++];var u=63&e[n++];o.push((31&a)<<12|c<<6|u)}else if(240==(248&a)){var l=(7&a)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l)}else o.push(a);o.length>=4096&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(s+=String.fromCharCode.apply(String,o)),s}var m,g=u?new TextDecoder:null,v=u?"undefined"!=typeof process&&"force"!==(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.TEXT_DECODER)?200:0:s,y=function(e,t){this.type=e,this.data=t},b=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=function(e){function t(r){var n=e.call(this,r)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return b(t,e),t}(Error),x=-1,S=4294967295,M=17179869183;function C(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=M){if(0===n&&r<=S){var i=new Uint8Array(4);return(t=new DataView(i.buffer)).setUint32(0,r),i}var o=r/4294967296,s=4294967295&r;return i=new Uint8Array(8),(t=new DataView(i.buffer)).setUint32(0,n<<2|3&o),t.setUint32(4,s),i}return i=new Uint8Array(12),(t=new DataView(i.buffer)).setUint32(0,n),a(t,4,r),i}function _(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function P(e){return e instanceof Date?C(_(e)):null}function k(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:c(t,4),nsec:t.getUint32(0)};default:throw new w("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function R(e){var t=k(e);return new Date(1e3*t.sec+t.nsec/1e6)}var E={type:x,encode:P,decode:R},A=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(E)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var i=1+t;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(i=n(e,t)))return new y(-1-r,i);for(r=0;r<this.encoders.length;r++){var n,i;if(null!=(n=this.encoders[r])&&null!=(i=n(e,t)))return new y(r,i)}return e instanceof y?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new y(t,e)},e.defaultCodec=new e,e}();function O(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var T=function(){function e(e,t,r,n,i,o,s,a){void 0===e&&(e=A.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=i,this.forceFloat32=o,this.ignoreUndefined=s,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>h){var t=l(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),f(e,this.bytes,this.pos),this.pos+=t}else t=l(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,i=r,o=0;o<n;){var s=e.charCodeAt(o++);if(0!=(4294967168&s)){if(0==(4294965248&s))t[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<n){var a=e.charCodeAt(o);56320==(64512&a)&&(++o,s=((1023&s)<<10)+(1023&a)+65536)}0==(4294901760&s)?(t[i++]=s>>12&15|224,t[i++]=s>>6&63|128):(t[i++]=s>>18&7|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128)}t[i++]=63&s|128}else t[i++]=s}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=O(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,i=e;n<i.length;n++){var o=i[n];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,i=t;n<i.length;n++)void 0!==e[i[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var i=0,o=r;i<o.length;i++){var s=o[i],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a(this.view,this.pos,e),this.pos+=8},e}(),L={};function B(e,t){return void 0===t&&(t=L),new T(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}function $(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var I=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,i=this.caches[r-1];n<i.length;n++){for(var o=i[n],s=o.bytes,a=0;a<r;a++)if(s[a]!==e[t+a])continue e;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var i=p(e,t,r),o=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(o,i),i},e}(),j=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},N=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}},D=function(e){return this instanceof D?(this.v=e,this):new D(e)},V=new DataView(new ArrayBuffer(0)),F=new Uint8Array(V.buffer),W=function(){try{V.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),U=new W("Insufficient data"),q=new I,K=function(){function e(e,t,r,n,i,o,a,c){void 0===e&&(e=A.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=s),void 0===i&&(i=s),void 0===o&&(o=s),void 0===a&&(a=s),void 0===c&&(c=q),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=i,this.maxMapLength=o,this.maxExtLength=a,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=V,this.bytes=F,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=O(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=O(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=O(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return j(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,r,n,i,o,s,a,c;return o=this,s=void 0,c=function(){var o,s,a,c,u,l,d,h;return j(this,(function(f){switch(f.label){case 0:o=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),t=N(e),f.label=2;case 2:return[4,t.next()];case 3:if((r=f.sent()).done)return[3,5];if(a=r.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{s=this.doDecodeSync(),o=!0}catch(e){if(!(e instanceof W))throw e}this.totalPos+=this.pos,f.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=f.sent(),n={error:c},[3,12];case 7:return f.trys.push([7,,10,11]),r&&!r.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw l=(u=this).headByte,d=u.pos,h=u.totalPos,new RangeError("Insufficient data in parsing ".concat($(l)," at ").concat(h," (").concat(d," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(r,n)}i((c=c.apply(o,s||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof D?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,(function(){var r,n,i,o,s,a,c,u,l;return j(this,(function(d){switch(d.label){case 0:r=t,n=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),i=N(e),d.label=2;case 2:return[4,D(i.next())];case 3:if((o=d.sent()).done)return[3,12];if(s=o.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(n=this.readArraySize(),r=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,D(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof W))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),u={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),o&&!o.done&&(l=i.return)?[4,D(l.call(i))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new w("Unrecognized type byte: ".concat($(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var i=this.stack;i.length>0;){var o=i[i.length-1];if(0===o.type){if(o.array[o.position]=t,o.position++,o.position!==o.size)continue e;i.pop(),t=o.array}else{if(1===o.type){if(void 0,"string"!=(s=typeof t)&&"number"!==s)throw new w("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new w("The key __proto__ is not allowed");o.key=t,o.type=2;continue e}if(o.map[o.key]=t,o.readCount++,o.readCount!==o.size){o.key=null,o.type=1;continue e}i.pop(),t=o.map}}return t}var s},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new w("Unrecognized array type byte: ".concat($(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new w("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new w("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new w("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw U;var n,i=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>v?function(e,t,r){var n=e.subarray(t,t+r);return g.decode(n)}(this.bytes,i,e):p(this.bytes,i,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new w("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw U;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new w("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=c(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),H={};function z(e,t){return void 0===t&&(t=H),new K(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function G(e,t){return void 0===t&&(t=H),new K(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var Q=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},J=function(e){return this instanceof J?(this.v=e,this):new J(e)},Y=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof J?Promise.resolve(r.value.v).then(c,u):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}};function Z(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Y(this,arguments,(function(){var t,r,n,i;return Q(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,J(t.read())];case 3:return r=o.sent(),n=r.done,i=r.value,n?[4,J(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(i),[4,J(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}var X=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function te(e,t){return void 0===t&&(t=H),X(this,void 0,void 0,(function(){var r;return ee(this,(function(n){return r=Z(e),[2,new K(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function re(e,t){void 0===t&&(t=H);var r=Z(e);return new K(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function ne(e,t){void 0===t&&(t=H);var r=Z(e);return new K(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function ie(e,t){return void 0===t&&(t=H),ne(e,t)}},6256:e=>{"use strict";e.exports={version:"3.14.1"}},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"vim","displayName":"Vim","description":"Vim emulation for Visual Studio Code","icon":"images/icon.png","version":"1.29.0","publisher":"vscodevim","galleryBanner":{"color":"#e3f4ff","theme":"light"},"license":"MIT","keywords":["vim","vi","vscodevim"],"repository":{"type":"git","url":"https://github.com/VSCodeVim/Vim.git"},"homepage":"https://github.com/VSCodeVim/Vim","bugs":{"url":"https://github.com/VSCodeVim/Vim/issues"},"engines":{"vscode":"^1.74.0"},"categories":["Other","Keymaps"],"extensionKind":["ui"],"sideEffects":false,"activationEvents":["onStartupFinished","onCommand:type"],"qna":"https://vscodevim.herokuapp.com/","main":"./out/extension","browser":"./out/extensionWeb","capabilities":{"untrustedWorkspaces":{"supported":true},"virtualWorkspaces":true},"contributes":{"commands":[{"command":"toggleVim","title":"Vim: Toggle Vim Mode"},{"command":"vim.showQuickpickCmdLine","title":"Vim: Show Command Line"},{"command":"vim.editVimrc","enablement":"!isWeb","title":"Vim: Edit .vimrc"}],"keybindings":[{"key":"Escape","command":"extension.vim_escape","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Escape","command":"notebook.cell.quitEdit","when":"inputFocus && notebookEditorFocused && !editorHasSelection && !editorHoverVisible && vim.active && vim.mode == \'Normal\'"},{"key":"Home","command":"extension.vim_home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"ctrl+home","command":"extension.vim_ctrl+home","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"End","command":"extension.vim_end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"ctrl+end","command":"extension.vim_ctrl+end","when":"editorTextFocus && vim.active && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"Insert","command":"extension.vim_insert","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Backspace","command":"extension.vim_backspace","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"Delete","command":"extension.vim_delete","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"tab","command":"extension.vim_tab","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+tab","command":"extension.vim_shift+tab","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"left","command":"extension.vim_left","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"right","command":"extension.vim_right","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"up","command":"extension.vim_up","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"down","command":"extension.vim_down","when":"editorTextFocus && vim.active && !inDebugRepl && !suggestWidgetVisible && !parameterHintsVisible"},{"key":"g g","command":"list.focusFirst","when":"listFocus && !inputFocus"},{"key":"h","command":"list.collapse","when":"listFocus && !inputFocus"},{"key":"j","command":"list.focusDown","when":"listFocus && !inputFocus"},{"key":"k","command":"list.focusUp","when":"listFocus && !inputFocus"},{"key":"l","command":"list.select","when":"listFocus && !inputFocus"},{"key":"o","command":"list.toggleExpand","when":"listFocus && !inputFocus"},{"key":"/","command":"list.toggleKeyboardNavigation","when":"listFocus && !inputFocus && listSupportsKeyboardNavigation"},{"key":"ctrl+a","command":"extension.vim_ctrl+a","when":"editorTextFocus && vim.active && vim.use<C-a> && !inDebugRepl"},{"key":"ctrl+b","command":"extension.vim_ctrl+b","when":"editorTextFocus && vim.active && vim.use<C-b> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+c","command":"extension.vim_ctrl+c","when":"editorTextFocus && vim.active && vim.use<C-c> && !inDebugRepl && vim.overrideCtrlC"},{"key":"ctrl+d","command":"extension.vim_ctrl+d","when":"editorTextFocus && vim.active && vim.use<C-d> && !inDebugRepl"},{"key":"ctrl+d","command":"list.focusPageDown","when":"listFocus && !inputFocus"},{"key":"ctrl+e","command":"extension.vim_ctrl+e","when":"editorTextFocus && vim.active && vim.use<C-e> && !inDebugRepl"},{"key":"ctrl+f","command":"extension.vim_ctrl+f","when":"editorTextFocus && vim.active && vim.use<C-f> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+g","command":"extension.vim_ctrl+g","when":"editorTextFocus && vim.active && vim.use<C-g> && !inDebugRepl"},{"key":"ctrl+h","command":"extension.vim_ctrl+h","when":"editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"},{"key":"ctrl+i","command":"extension.vim_ctrl+i","when":"editorTextFocus && vim.active && vim.use<C-i> && !inDebugRepl"},{"key":"ctrl+j","command":"extension.vim_ctrl+j","when":"editorTextFocus && vim.active && vim.use<C-j> && !inDebugRepl"},{"key":"ctrl+k","command":"extension.vim_ctrl+k","when":"editorTextFocus && vim.active && vim.use<C-k> && !inDebugRepl"},{"key":"ctrl+l","command":"extension.vim_navigateCtrlL","when":"editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"},{"key":"ctrl+m","command":"extension.vim_ctrl+m","when":"editorTextFocus && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-m> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-m> && !inDebugRepl"},{"key":"ctrl+n","command":"extension.vim_ctrl+n","when":"editorTextFocus && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-n> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-n> && !inDebugRepl"},{"key":"ctrl+o","command":"extension.vim_ctrl+o","when":"editorTextFocus && vim.active && vim.use<C-o> && !inDebugRepl"},{"key":"ctrl+p","command":"extension.vim_ctrl+p","when":"editorTextFocus && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'CommandlineInProgress\' && vim.active && vim.use<C-p> && !inDebugRepl || vim.mode == \'SearchInProgressMode\' && vim.active && vim.use<C-p> && !inDebugRepl"},{"key":"ctrl+q","command":"extension.vim_winCtrlQ","when":"editorTextFocus && vim.active && vim.use<C-q> && !inDebugRepl"},{"key":"ctrl+r","command":"extension.vim_ctrl+r","when":"editorTextFocus && vim.active && vim.use<C-r> && !inDebugRepl"},{"key":"ctrl+s","command":"extension.vim_ctrl+s","when":"editorTextFocus && vim.active && vim.use<C-s> && !inDebugRepl"},{"key":"ctrl+t","command":"extension.vim_ctrl+t","when":"editorTextFocus && vim.active && vim.use<C-t> && !inDebugRepl"},{"key":"ctrl+u","command":"extension.vim_ctrl+u","when":"editorTextFocus && vim.active && vim.use<C-u> && !inDebugRepl"},{"key":"ctrl+u","command":"list.focusPageUp","when":"listFocus && !inputFocus"},{"key":"ctrl+v","command":"extension.vim_ctrl+v","when":"editorTextFocus && vim.active && vim.use<C-v> && !inDebugRepl"},{"key":"ctrl+w","command":"extension.vim_ctrl+w","when":"editorTextFocus && vim.active && vim.use<C-w> && !inDebugRepl"},{"key":"ctrl+x","command":"extension.vim_ctrl+x","when":"editorTextFocus && vim.active && vim.use<C-x> && !inDebugRepl"},{"key":"ctrl+y","command":"extension.vim_ctrl+y","when":"editorTextFocus && vim.active && vim.use<C-y> && !inDebugRepl"},{"key":"ctrl+z","command":"extension.vim_ctrl+z","when":"editorTextFocus && vim.active && vim.use<C-z> && !inDebugRepl"},{"key":"ctrl+6","command":"extension.vim_ctrl+6","when":"editorTextFocus && vim.active && vim.use<C-6> && !inDebugRepl"},{"key":"ctrl+^","command":"extension.vim_ctrl+^","when":"editorTextFocus && vim.active && vim.use<C-^> && !inDebugRepl"},{"key":"ctrl+[","command":"extension.vim_ctrl+[","when":"editorTextFocus && vim.active && vim.use<C-[> && !inDebugRepl"},{"key":"ctrl+]","command":"extension.vim_ctrl+]","when":"editorTextFocus && vim.active && vim.use<C-]> && !inDebugRepl"},{"key":"ctrl+shift+2","command":"extension.vim_ctrl+shift+2","when":"editorTextFocus && vim.active && vim.use<C-shift+2>"},{"key":"ctrl+up","command":"extension.vim_ctrl+up","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+down","command":"extension.vim_ctrl+down","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+left","command":"extension.vim_ctrl+left","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+right","command":"extension.vim_ctrl+right","when":"editorTextFocus && vim.active && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"ctrl+pagedown","command":"extension.vim_ctrl+pagedown","when":"editorTextFocus && vim.active && vim.use<C-pagedown> && !inDebugRepl"},{"key":"ctrl+pageup","command":"extension.vim_ctrl+pageup","when":"editorTextFocus && vim.active && vim.use<C-pageup> && !inDebugRepl"},{"key":"ctrl+space","command":"extension.vim_ctrl+space","when":"editorTextFocus && vim.active && vim.use<C-space> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"shift+G","command":"list.focusLast","when":"listFocus && !inputFocus"},{"key":"ctrl+backspace","command":"extension.vim_ctrl+backspace","when":"editorTextFocus && vim.active && vim.use<C-BS> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"shift+backspace","command":"extension.vim_shift+backspace","when":"editorTextFocus && vim.active && vim.use<S-BS> && vim.mode != \'Insert\' && !inDebugRepl"},{"key":"cmd+left","command":"extension.vim_cmd+left","when":"editorTextFocus && vim.active && vim.use<D-left> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+right","command":"extension.vim_cmd+right","when":"editorTextFocus && vim.active && vim.use<D-right> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+a","command":"extension.vim_cmd+a","when":"editorTextFocus && vim.active && vim.use<D-a> && !inDebugRepl && vim.mode != \'Insert\'"},{"key":"cmd+c","command":"extension.vim_cmd+c","when":"editorTextFocus && vim.active && vim.use<D-c> && vim.overrideCopy && !inDebugRepl"},{"key":"cmd+d","command":"extension.vim_cmd+d","when":"editorTextFocus && vim.active && vim.use<D-d> && !inDebugRepl"},{"key":"cmd+v","command":"extension.vim_cmd+v","when":"editorTextFocus && vim.active && vim.use<D-v> && vim.mode == \'CommandlineInProgress\' && !inDebugRepl || editorTextFocus && vim.active && vim.use<D-v> && vim.mode == \'SearchInProgressMode\' && !inDebugRepl"},{"key":"ctrl+alt+down","linux":"shift+alt+down","mac":"cmd+alt+down","command":"extension.vim_cmd+alt+down","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"ctrl+alt+up","linux":"shift+alt+up","mac":"cmd+alt+up","command":"extension.vim_cmd+alt+up","when":"editorTextFocus && vim.active && !inDebugRepl"},{"key":"j","command":"notebook.focusNextEditor","when":"vim.mode == \'Normal\' && editorTextFocus && inputFocus && notebookEditorFocused && notebookEditorCursorAtBoundary != \'none\' && notebookEditorCursorAtBoundary != \'top\'"},{"key":"k","command":"notebook.focusPreviousEditor","when":"vim.mode == \'Normal\' && editorTextFocus && inputFocus && notebookEditorFocused && notebookEditorCursorAtBoundary != \'bottom\' && notebookEditorCursorAtBoundary != \'none\'"}],"configuration":{"title":"Vim","type":"object","properties":{"vim.normalModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.normalModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in Normal mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.operatorPendingModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in OperatorPending mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.operatorPendingModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive remapped keys in OperatorPending mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.useCtrlKeys":{"type":"boolean","markdownDescription":"Enable some Vim Ctrl key commands that override otherwise common operations, like `Ctrl+C`.","default":true},"vim.leader":{"type":"string","markdownDescription":"What key should `<leader>` map to in remappings?","default":"\\\\"},"vim.searchHighlightColor":{"type":"string","markdownDescription":"Background color of non-current search matches. The color must not be opaque so as not to hide underlying decorations. Uses `#editor.findMatchHighlightColor#` from current theme if undefined."},"vim.searchHighlightTextColor":{"type":"string","markdownDescription":"Foreground color of non-current search matches."},"vim.searchMatchColor":{"type":"string","markdownDescription":"Background color of the current match. Uses `#editor.findMatchColor#` from current theme if undefined."},"vim.searchMatchTextColor":{"type":"string","markdownDescription":"Foreground color of the current match."},"vim.substitutionColor":{"type":"string","markdownDescription":"Background color of substituted text when `#editor.inccommand#` is enabled. Uses `#editor.findMatchColor#` from current theme if undefined."},"vim.substitutionTextColor":{"type":"string","markdownDescription":"Foreground color of substituted text when `#editor.inccommand#` is enabled."},"vim.highlightedyank.enable":{"type":"boolean","description":"Enable highlighting when yanking.","default":false},"vim.highlightedyank.color":{"type":"string","description":"Background color of yanked text. The color must not be opaque so as not to hide underlying decorations.","default":"rgba(250, 240, 170, 0.5)"},"vim.highlightedyank.textColor":{"type":"string","description":"Foreground color of yanked text."},"vim.highlightedyank.duration":{"type":"number","description":"Duration in milliseconds of the yank highlight.","default":200,"minimum":1},"vim.useSystemClipboard":{"type":"boolean","description":"Use system clipboard for unnamed register.","default":false},"vim.overrideCopy":{"type":"boolean","description":"Override VS Code\'s copy command with our own copy command, which works better with VSCodeVim. Turn this off if copying is not working.","default":true},"vim.insertModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.insertModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Insert mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.visualModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.visualModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for Visual mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.commandLineModeKeyBindings":{"type":"array","markdownDescription":"Remapped keys in command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.commandLineModeKeyBindingsNonRecursive":{"type":"array","markdownDescription":"Non-recursive keybinding overrides to use for command line mode. Allows mapping to Vim commands or VS Code actions. See [README](https://github.com/VSCodeVim/Vim/#key-remapping) for details.","scope":"application"},"vim.textwidth":{"type":"number","markdownDescription":"Width to word-wrap to when using `gq`.","default":80,"scope":"language-overridable","minimum":1},"vim.timeout":{"type":"number","description":"Timeout in milliseconds for remapped commands.","default":1000,"minimum":0},"vim.maxmapdepth":{"type":"number","description":"Maximum number of times a mapping is done without resulting in a character to be used.","default":1000,"minimum":0},"vim.scroll":{"type":"number","markdownDescription":"Number of lines to scroll with `Ctrl-U` and `Ctrl-D` commands. Set to 0 to use a half page scroll.","default":0,"minimum":0},"vim.showcmd":{"type":"boolean","description":"Show the text of any command you are in the middle of writing.","default":true},"vim.showmodename":{"type":"boolean","description":"Show the name of the current mode in the statusbar.","default":true},"vim.iskeyword":{"type":"string","markdownDescription":"Keywords contain alphanumeric characters and \'_\'. If not configured, `#editor.wordSeparators#` is used."},"vim.ignorecase":{"type":"boolean","description":"Ignore case in search patterns.","default":true},"vim.smartcase":{"type":"boolean","markdownDescription":"Override the `ignorecase` option if the search pattern contains upper case characters.","default":true},"vim.matchpairs":{"type":"string","markdownDescription":"Characters that form pairs. The % command jumps from one to the other. Only character pairs are allowed that are different, thus you cannot jump between two double quotes. The characters must be separated by a colon. The pairs must be separated by a comma.","default":"(:),{:},[:]","pattern":"^(.:.)?(,.:.)*$"},"vim.camelCaseMotion.enable":{"type":"boolean","markdownDescription":"Enable the [CamelCaseMotion](https://github.com/bkad/CamelCaseMotion) plugin for Vim.","default":false},"vim.easymotion":{"type":"boolean","markdownDescription":"Enable the [EasyMotion](https://github.com/easymotion/vim-easymotion) plugin for Vim.","default":false},"vim.easymotionMarkerBackgroundColor":{"type":"string","default":"#0000","description":"Set a custom background color for EasyMotion markers."},"vim.easymotionMarkerForegroundColorOneChar":{"type":"string","default":"#ff0000","description":"Set a custom color for the text on one character long markers."},"vim.easymotionMarkerForegroundColorTwoCharFirst":{"type":"string","default":"#ffb400","description":"Set a custom color for the first character on two character long markers."},"vim.easymotionMarkerForegroundColorTwoCharSecond":{"type":"string","default":"#b98300","description":"Set a custom color for the second character on two character long markers."},"vim.easymotionIncSearchForegroundColor":{"type":"string","default":"#7fbf00","markdownDescription":"Set a custom color for the easymotion search n-character (default `<leader><leader>/`)."},"vim.easymotionDimColor":{"type":"string","default":"#777777","markdownDescription":"Set a custom color for the easymotion dimmed characters when `#vim.easymotionDimBackground#` is set to true."},"vim.easymotionDimBackground":{"type":"boolean","description":"Whether to dim other text while markers are visible.","default":true},"vim.easymotionMarkerFontWeight":{"type":"string","description":"Set the font weight of the marker text.","default":"bold"},"vim.easymotionKeys":{"type":"string","description":"Set the characters used for jump marker name.","default":"hklyuiopnm,qwertzxcvbasdgjf;"},"vim.easymotionJumpToAnywhereRegex":{"type":"string","description":"Regex matches for JumpToAnywhere motion.","default":"\\\\b[A-Za-z0-9]|[A-Za-z0-9]\\\\b|_.|#.|[a-z][A-Z]"},"vim.replaceWithRegister":{"type":"boolean","markdownDescription":"Enable the [ReplaceWithRegister](https://github.com/vim-scripts/ReplaceWithRegister) plugin for Vim.","default":false},"vim.smartRelativeLine":{"type":"boolean","markdownDescription":"`#editor.lineNumbers#` is determined by the active Vim mode, absolute when in insert mode, relative otherwise.","default":false},"vim.targets.enable":{"type":"boolean","markdownDescription":"Enable [targets.vim](https://github.com/wellle/targets.vim#quote-text-objects) plugin (not fully implemented yet).","default":false},"vim.targets.bracketObjects.enable":{"type":"boolean","markdownDescription":"Enable last/next movements for bracket objects.","default":true},"vim.targets.smartQuotes.enable":{"type":"boolean","markdownDescription":"Enable the smart quotes movements from [targets.vim](https://github.com/wellle/targets.vim#quote-text-objects).","default":true},"vim.targets.smartQuotes.breakThroughLines":{"type":"boolean","markdownDescription":"Whether to break through lines when using [n]ext/[l]ast motion, see [targets.vim#next-and-last-quote](https://github.com/wellle/targets.vim#next-and-last-quote).","default":true},"vim.targets.smartQuotes.aIncludesSurroundingSpaces":{"type":"boolean","markdownDescription":"Whether to use default Vim behavior when using `a` (e.g. `da\'`) which include surrounding spaces, or not, as for other text objects.","default":true},"vim.sneak":{"type":"boolean","markdownDescription":"Enable the [Sneak](https://github.com/justinmk/vim-sneak) plugin for Vim.","default":false},"vim.sneakUseIgnorecaseAndSmartcase":{"type":"boolean","markdownDescription":"Case sensitivity is determined by `#vim.ignorecase#` and `#vim.smartcase#`.","default":false},"vim.sneakReplacesF":{"type":"boolean","markdownDescription":"Use single-character [Sneak](https://github.com/justinmk/vim-sneak) instead of Vim\'s native `f`.","default":false},"vim.surround":{"type":"boolean","markdownDescription":"Enable the [Surround](https://github.com/tpope/vim-surround) plugin for Vim.","default":true},"vim.argumentObjectSeparators":{"type":"array","items":{"type":"string"},"markdownDescription":"Set separators for the argument text object.","default":[","]},"vim.argumentObjectOpeningDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set opening delimiters for the argument text object.","default":["(","["]},"vim.argumentObjectClosingDelimiters":{"type":"array","items":{"type":"string"},"markdownDescription":"Set closing delimiters for the argument text object.","default":[")","]"]},"vim.hlsearch":{"type":"boolean","description":"Show all matches of the most recent search pattern.","default":false},"vim.inccommand":{"type":"string","markdownDescription":"Show the effects of the `:substitute` command as you type.","default":"replace","enum":["","append","replace"],"enumDescriptions":["Don\'t show substitutions","Show substitutions after matched text","Replace matched text with substitutions"]},"vim.incsearch":{"type":"boolean","markdownDescription":"Show where a `/` or `?` search matches as you type it.","default":true},"vim.history":{"type":"number","description":"How much search or command history should be remembered.","default":50,"minimum":1,"maximum":10000},"vim.autoindent":{"type":"boolean","description":"Indent code automatically.","default":true},"vim.joinspaces":{"type":"boolean","description":"Add two spaces after \'.\', \'?\', and \'!\' when joining or reformatting.","default":true},"vim.startInInsertMode":{"type":"boolean","description":"Start in Insert mode."},"vim.handleKeys":{"type":"object","description":"Delegate certain key combinations back to VS Code to be handled natively.","default":{"<C-d>":true,"<C-s>":false,"<C-z>":false}},"vim.statusBarColorControl":{"type":"boolean","markdownDescription":"Allow VSCodeVim to change status bar color based on mode. **NOTE:** Using this feature will have a negative impact on performance.","default":false},"vim.statusBarColors.normal":{"type":["string","array"],"description":"Status bar color when in Normal mode.","default":["#005f5f","#ffffff"]},"vim.statusBarColors.insert":{"type":["string","array"],"description":"Status bar color when in Insert mode.","default":["#5f0000","#ffffff"]},"vim.statusBarColors.visual":{"type":["string","array"],"description":"Status bar color when in Visual mode.","default":["#5f00af","#ffffff"]},"vim.statusBarColors.visualline":{"type":["string","array"],"description":"Status bar color when in VisualLine mode.","default":["#005f87","#ffffff"]},"vim.statusBarColors.visualblock":{"type":["string","array"],"description":"Status bar color when in VisualBlock mode.","default":["#86592d","#ffffff"]},"vim.statusBarColors.replace":{"type":["string","array"],"description":"Status bar color when in Replace mode.","default":["#00000","#ffffff"]},"vim.statusBarColors.commandlineinprogress":{"type":["string","array"],"description":"Status bar color when in CommandLineInProgress mode.","default":["#007acc","#ffffff"]},"vim.statusBarColors.searchinprogressmode":{"type":["string","array"],"description":"Status bar color when in SearchInProgress mode.","default":["#007acc","#ffffff"]},"vim.statusBarColors.easymotionmode":{"type":["string","array"],"description":"Status bar color when in EasyMotion mode.","default":["#007acc","#ffffff"]},"vim.statusBarColors.easymotioninputmode":{"type":["string","array"],"description":"Status bar color when in EasyMotionInput mode.","default":["#007acc","#ffffff"]},"vim.statusBarColors.surroundinputmode":{"type":["string","array"],"description":"Status bar color when in SurroundInput mode.","default":["#007acc","#ffffff"]},"vim.visualstar":{"type":"boolean","markdownDescription":"In Visual mode, start a search with `*` or `#` using the current selection.","default":false},"vim.changeWordIncludesWhitespace":{"type":"boolean","description":"Includes trailing whitespace when changing word.","default":false},"vim.foldfix":{"type":"boolean","description":"Uses a hack to move around folds properly.","default":false},"vim.mouseSelectionGoesIntoVisualMode":{"type":"boolean","description":"If enabled, dragging with the mouse activates Visual mode.","default":true},"vim.disableExtension":{"type":"boolean","description":"Disables the VSCodeVim extension. The extension will continue to be loaded and activated, but Vim functionality will be disabled.","default":false},"vim.enableNeovim":{"type":"boolean","markdownDescription":"Use Neovim to execute Ex commands. You should restart VS Code after enabling/disabling this for the changes to take effect. **NOTE:** Neovim version 0.2.0 or greater must be installed, and if the executable is not on your PATH, `#vim.neovimPath#` must be set.","default":false},"vim.neovimPath":{"type":"string","markdownDescription":"Path to Neovim executable. For example, `/usr/bin/nvim`, or  `C:\\\\Program Files\\\\Neovim\\\\bin\\\\nvim.exe`.","default":"","scope":"machine"},"vim.neovimUseConfigFile":{"type":"boolean","markdownDescription":"Use a config file for Neovim, specified by `#vim.neovimConfigPath#`.","default":false},"vim.neovimConfigPath":{"type":"string","markdownDescription":"Path to Neovim configuration file. `#vim.neovimUseConfigFile#` must be enabled. If path is left blank, Neovim will use its default config path, i.e. `~/.config/nvim/init.vim` or \'C:\\\\Users\\\\USERNAME\\\\AppData\\\\Local\\\\nvim\\\\init.vim\'.","default":"","scope":"machine"},"vim.vimrc.enable":{"type":"boolean","markdownDescription":"Use key mappings from a `.vimrc` file.","default":false},"vim.vimrc.path":{"type":"string","markdownDescription":"Path to a Vim configuration file. If unset, it will check for `$HOME/.vscodevimrc`, `$HOME/.vimrc`, `$HOME/_vimrc`, and `$HOME/.config/nvim/init.vim`, in that order."},"vim.substituteGlobalFlag":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false,"markdownDeprecationMessage":"**Deprecated**: Please use `#vim.gdefault#` instead.","deprecationMessage":"Deprecated: Please use vim.gdefault instead."},"vim.gdefault":{"type":"boolean","markdownDescription":"Automatically apply the global flag, `/g`, to substitute commands. When set to true, use `/g` to mean only first match should be replaced.","default":false},"vim.cursorStylePerMode.normal":{"type":"string","description":"Cursor style for Normal mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.insert":{"type":"string","description":"Cursor style for Insert mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.replace":{"type":"string","description":"Cursor style for Replace mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visual":{"type":"string","description":"Cursor style for Visual mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualline":{"type":"string","description":"Cursor style for VisualLine mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.cursorStylePerMode.visualblock":{"type":"string","description":"Cursor style for VisualBlock mode.","enum":["","block","block-outline","line","line-thin","underline","underline-thin"]},"vim.autoSwitchInputMethod.enable":{"type":"boolean","description":"If enabled, the input method switches automatically when the mode changes.","default":false},"vim.autoSwitchInputMethod.defaultIM":{"type":"string","markdownDescription":"The input method for your normal mode, find more information [here](https://github.com/VSCodeVim/Vim#input-method).","default":"","scope":"machine"},"vim.autoSwitchInputMethod.switchIMCmd":{"type":"string","description":"The shell command to switch input method.","default":"/path/to/im-select {im}","scope":"machine"},"vim.autoSwitchInputMethod.obtainIMCmd":{"type":"string","description":"The shell command to get current input method.","default":"/path/to/im-select","scope":"machine"},"vim.whichwrap":{"type":"string","description":"Comma-separated list of motion keys that should wrap to next/previous line.","default":"b,s"},"vim.report":{"type":"number","description":"Threshold for reporting number of lines changed.","default":2,"minimum":1},"vim.digraphs":{"type":"object","description":"Custom digraph shortcuts for inserting special characters, expressed as UTF16 code points.","default":{}},"vim.wrapscan":{"type":"boolean","description":"Searches wrap around the end of the file.","default":true},"vim.startofline":{"type":"boolean","markdownDescription":"When `true` the commands listed below move the cursor to the first non-blank of the line.  When `false` the cursor is kept in the same column (if possible).  This applies to the commands: `<C-d>`, `<C-u>`, `<C-b>`, `<C-f>`, `G`, `H`, `M`, `L`, `gg`, and to the commands `d`, `<<` and `>>` with a linewise operator.","default":true},"vim.showMarksInGutter":{"type":"boolean","description":"Show the currently set mark(s) in the gutter.","default":false},"vim.shell":{"type":"string","description":"Path to the shell to use for `!` and `:!` commands.","default":""},"vim.langmap":{"type":"string","description":"Language map for alternate keyboard layouts. When you are typing text in Insert (or Replace, etc.) mode, the characters are inserted derectly. Otherwise, they are translated based on the provided map."}}},"languages":[{"id":"Vimscript","extensions":[".vim",".vimrc"],"configuration":"./language-configuration.json"}],"grammars":[{"language":"Vimscript","scopeName":"source.vimscript","path":"./syntaxes/vimscript.tmLanguage.json"}]},"scripts":{"vscode:prepublish":"gulp build","build":"gulp build","build-dev":"gulp build-dev","build-test":"gulp prepare-test","test":"node ./out/test/runTest.js","lint":"eslint .","lint:fix":"eslint . --fix","prettier":"prettier --write .","prettier:check":"prettier --check .","watch":"webpack -c webpack.dev.js --watch","package":"yarn run vsce package --yarn --allow-star-activation","prepare":"husky"},"dependencies":{"diff-match-patch":"1.0.5","lodash":"^4.17.21","neovim":"5.3.0","os-browserify":"0.3.0","parsimmon":"^1.18.0","path-browserify":"1.0.1","process":"0.11.10","queue":"^6.0.2","untildify":"4.0.0","util":"0.12.5"},"devDependencies":{"@types/diff":"5.2.3","@types/diff-match-patch":"1.0.36","@types/glob":"8.1.0","@types/lodash":"4.17.13","@types/mocha":"10.0.10","@types/node":"22.10.1","@types/parsimmon":"1.10.9","@types/sinon":"17.0.3","@types/vscode":"1.74.0","@typescript-eslint/eslint-plugin":"^8.0.0","@typescript-eslint/parser":"^8.0.0","@vscode/test-electron":"2.4.1","circular-dependency-plugin":"^5.2.2","clean-webpack-plugin":"4.0.0","eslint":"^8.52.0","eslint-config-prettier":"^9.0.0","eslint-plugin-jsdoc":"^50.0.0","eslint-plugin-prefer-arrow":"^1.2.3","event-stream":"4.0.1","fork-ts-checker-webpack-plugin":"9.0.2","gulp":"5.0.0","gulp-bump":"3.2.0","gulp-git":"2.11.0","gulp-tag-version":"1.3.1","gulp-typescript":"5.0.1","husky":"^9.0.0","lint-staged":"^15.0.0","minimist":"1.2.8","mocha":"11.0.1","plugin-error":"2.0.1","prettier":"3.4.2","sinon":"19.0.2","ts-loader":"9.5.1","typescript":"5.7.2","vsce":"2.15.0","webpack":"5.97.0","webpack-cli":"5.1.4","webpack-merge":"6.0.1","webpack-stream":"7.0.0"},"lint-staged":{"*.{ts,js,json,md,yml}":"prettier --write","*.ts":"eslint --fix"}}')}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(8188);module.exports=n})();